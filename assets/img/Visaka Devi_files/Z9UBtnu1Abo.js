if (self.CavalryLogger) { CavalryLogger.start_js(["uaNaZ"]); }

__d("XReactComposerAudienceSelectorAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/audience_selector/bootstrap/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true}})}),null);
__d("ReactComposerAudienceSelectorLazyAttachment.react",["ActorURI","Bootloader","React","ReactComposerAttachmentType","ReactComposerLoadableAttachmentBodyMixin","XReactComposerAudienceSelectorAttachmentBootstrapController"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerAudienceSelectorLazyAttachment",mixins:[c("ReactComposerLoadableAttachmentBodyMixin")],statics:{attachmentID:c("ReactComposerAttachmentType").AUDIENCE_SELECTOR},propTypes:{selected:h.bool},bootload:function j(k){c("Bootloader").loadModules(["ReactComposerAudienceSelectorAttachmentContainer.react"],k,"ReactComposerAudienceSelectorLazyAttachment.react")},getBootstrapURI:function j(){return c("ActorURI").create(c("XReactComposerAudienceSelectorAttachmentBootstrapController").getURIBuilder().setString("composer_id",this.context.composerID).setString("target_id",this.context.targetID).getURI(),this.context.actorID)}});f.exports=i}),null);
__d("ReactComposerAudienceSelectorNextButton.react",["cx","fbt","InlineBlock.react","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react","XUIButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.state={nuxShown:!c("SimpleNUXMessage").hasUserSeenMessage(c("SimpleNUXMessageTypes").COMPOSER_SHARESHEET)}}l.prototype.$ReactComposerAudienceSelectorNextButton1=function(){c("SimpleNUXMessage").markMessageSeenByUser(c("SimpleNUXMessageTypes").COMPOSER_SHARESHEET);this.setState({nuxShown:false})};l.prototype.render=function(){return c("React").createElement(c("InlineBlock.react"),{className:"uiContextualLayerParent"},c("React").createElement(c("XUIButton.react"),{ref:"button",disabled:this.props.forceDisabled,className:"_1mf7",label:i._("Next"),onClick:this.props.onClick,use:"confirm"}),c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.button}.bind(this),shown:this.state.nuxShown,onCloseButtonClick:this.$ReactComposerAudienceSelectorNextButton1.bind(this)},i._("After you create your post, tap Next to choose who can see it")))};l.defaultProps={onClick:function m(){},forceDisabled:false};f.exports=l}),null);
__d("ReactComposerAudienceSelectorActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({SET_SELECTED_GROUP:null,SET_SELECTED_FRIENDS:null,SET_COMPOSER_ATTACHMENT_TYPE:null,SET_IS_ERROR_SHOWN:null},"ReactComposerAudienceSelectorActionType")}),null);
__d("ReactComposerAudienceSelectorStore",["ReactComposerAudienceSelectorActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){__p&&__p();var k=void 0;i.constructor.call(this,function(){return{composerID:null,groupID:null,groupName:null,friendIDs:null,attachmentType:null,isErrorShown:null}},function(l){switch(l.type){case c("ReactComposerAudienceSelectorActionType").SET_SELECTED_GROUP:k&&k.$ReactComposerAudienceSelectorStore1(l);break;case c("ReactComposerAudienceSelectorActionType").SET_SELECTED_FRIENDS:k&&k.$ReactComposerAudienceSelectorStore2(l);break;case c("ReactComposerAudienceSelectorActionType").SET_COMPOSER_ATTACHMENT_TYPE:k&&k.$ReactComposerAudienceSelectorStore3(l);break;case c("ReactComposerAudienceSelectorActionType").SET_IS_ERROR_SHOWN:k&&k.$ReactComposerAudienceSelectorStore4(l);break}});k=this}j.prototype.getGroupID=function(k){return this.getComposerData(k).groupID};j.prototype.getGroupName=function(k){return this.getComposerData(k).groupName};j.prototype.isAudienceSelectorSelected=function(k){return this.getComposerData(k).isAudienceSelectorSelected};j.prototype.$ReactComposerAudienceSelectorStore1=function(k){var l=this.getComposerData(k.composerID);l.groupID=k.groupID;l.groupName=k.groupName;l.isErrorShown=false;l.isAudienceSelectorSelected=k.isAudienceSelectorSelected;this.emitChange(k.composerID)};j.prototype.getFriendIDs=function(k){return this.getComposerData(k).friendIDs};j.prototype.$ReactComposerAudienceSelectorStore2=function(k){var l=this.getComposerData(k.composerID);l.friendIDs=k.friendIDs;l.isErrorShown=false;this.emitChange(k.composerID)};j.prototype.getComposerAttachmentType=function(k){return this.getComposerData(k).attachmentType};j.prototype.$ReactComposerAudienceSelectorStore3=function(k){var l=this.getComposerData(k.composerID);l.attachmentType=k.attachmentType;this.emitChange(k.composerID)};j.prototype.getIsErrorShown=function(k){return this.getComposerData(k).isErrorShown};j.prototype.$ReactComposerAudienceSelectorStore4=function(k){var l=this.getComposerData(k.composerID);l.isErrorShown=k.isErrorShown;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("ReactComposerAudienceSelectorActions",["ReactComposerAudienceSelectorActionType","ReactComposerDispatcher","ReactComposerAudienceSelectorStore"],(function a(b,c,d,e,f,g){__p&&__p();c("ReactComposerAudienceSelectorStore");h.prototype.setSelectedGroup=function(i,j,k){var l=arguments.length<=3||arguments[3]===undefined?false:arguments[3];"use strict";var m={composerID:i,type:c("ReactComposerAudienceSelectorActionType").SET_SELECTED_GROUP,groupID:j,groupName:k,isAudienceSelectorSelected:l};c("ReactComposerDispatcher").dispatch(m)};h.prototype.setSelectedFriends=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAudienceSelectorActionType").SET_SELECTED_FRIENDS,friendIDs:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setComposerAttachmentType=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAudienceSelectorActionType").SET_COMPOSER_ATTACHMENT_TYPE,attachmentType:j};c("ReactComposerDispatcher").dispatch(k)};h.prototype.setIsErrorShown=function(i,j){"use strict";var k={composerID:i,type:c("ReactComposerAudienceSelectorActionType").SET_IS_ERROR_SHOWN,isErrorShown:j};c("ReactComposerDispatcher").dispatch(k)};function h(){"use strict"}f.exports=new h()}),null);
__d("ReactComposerAudienceSelectorNextButtonContainer.react",["FunnelLogger","React","ReactComponentWithPureRenderMixin","ReactComposerAttachmentActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerAudienceSelectorActions","ReactComposerAudienceSelectorFunnelLogginConstants","ReactComposerAudienceSelectorNextButton.react","ReactComposerAudienceStore","ReactComposerConfig","ReactComposerContextTypes","ReactComposerFeedPostButtonContainer.react","ReactComposerMediaUploadStore","ReactComposerPostDataUtils","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerStatusStore","ReactComposerTaggerStore"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ReactComposerAudienceSelectorFunnelLogginConstants").FUNNEL_LOGGING_NAME,i=c("ReactComposerAudienceSelectorFunnelLogginConstants").SEE_NEXT_BUTTON,j=c("ReactComposerAudienceSelectorFunnelLogginConstants").TAP_NEXT_BUTTON,k=c("React").createClass({displayName:"ReactComposerAudienceSelectorNextButtonContainer",contextTypes:c("ReactComposerContextTypes"),mixins:[c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAudienceStore"),c("ReactComposerAttachmentStore"),c("ReactComposerScrapedAttachmentStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerStatusStore"),c("ReactComposerTaggerStore"))],propTypes:{config:c("ReactComposerConfig").isRequired},statics:{calculateState:function l(m,n,o){var p=o.actorID,q=n.config,r=o.targetID;return{collectionID:c("ReactComposerAudienceStore").getCollectionID(m),composerID:m,isUploading:c("ReactComposerMediaUploadStore").isUploading(m),selectedAttachment:c("ReactComposerAttachmentStore").getSelectedAttachmentID(m),data:c("ReactComposerPostDataUtils").getPostData({actorID:p,composerConfig:q,composerID:m,targetID:r})}}},componentWillMount:function l(){c("FunnelLogger").startFunnel(h);c("FunnelLogger").appendAction(h,i)},_isEmptyAttachment:function l(){var m=c("ReactComposerAttachmentStore").getSelectedAttachmentID(this.context.composerID),n=c("ReactComposerTaggerStore").areAllTaggersEmpty(this.context.composerID),o=c("ReactComposerStatusStore").getMessageText(this.context.composerID);if(m===c("ReactComposerAttachmentType").STATUS){if(o||!n)return false;return!this.state.data.attachment}return false},_onClick:function l(){c("FunnelLogger").appendAction(h,j);c("ReactComposerAudienceSelectorActions").setComposerAttachmentType(this.context.composerID,this.state.selectedAttachment);c("ReactComposerAttachmentActions").selectAttachment(this.context.composerID,c("ReactComposerAttachmentType").AUDIENCE_SELECTOR,true,null,null,this.state.selectedAttachment)},render:function l(){if(this.state.collectionID)return c("React").createElement(c("ReactComposerFeedPostButtonContainer.react"),this.props);return c("React").createElement(c("ReactComposerAudienceSelectorNextButton.react"),babelHelpers["extends"]({},this.props,{forceDisabled:this.state.isUploading||this._isEmptyAttachment(),onClick:this._onClick}))}});f.exports=k}),null);