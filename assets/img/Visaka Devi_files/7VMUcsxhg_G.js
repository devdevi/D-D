if (self.CavalryLogger) { CavalryLogger.start_js(["tPOw7"]); }

__d("CommerceUI",[],(function a(b,c,d,e,f,g){f.exports={MAX_ITEMS_BEFORE_LIMITED_STOCK_WARNING:9,MAX_VARIANTS:4}}),null);
__d("AudienceManagerEngagementVideoSelectionError.react",["cx","ix","CenteredContainer.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.$AudienceManagerEngagementVideoSelectionError1=function(){if(!this.props.subtitleLabel)return null;return c("React").createElement(c("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:c("SUIBusinessTheme")},this.props.subtitleLabel)};l.prototype.$AudienceManagerEngagementVideoSelectionError2=function(){if(!this.props.actionLabel)return null;if(!this.props.onActionClick)return c("React").createElement(c("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:c("SUIBusinessTheme")},this.props.actionLabel);return c("React").createElement(c("Link.react"),{onClick:this.props.onActionClick},c("React").createElement("div",{display:"block"},this.props.actionLabel))};l.prototype.render=function(){return c("React").createElement(c("CenteredContainer.react"),{horizontal:true,vertical:true},c("React").createElement(c("Image.react"),{src:i("76143")}),c("React").createElement(c("SUIText.react"),{className:"_3-8x",display:"block",shade:"light",size:"meta1",theme:c("SUIBusinessTheme"),weight:"bold"},this.props.mainLabel),this.$AudienceManagerEngagementVideoSelectionError1(),this.$AudienceManagerEngagementVideoSelectionError2())};f.exports=l}),null);
__d("AdsBlueTour.react",["cx","fbt","LeftRight.react","React","XUIButton.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=-1;j=babelHelpers.inherits(n,c("React").PureComponent);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsBlueTour1=function(){return this.props.step===0}.bind(this),this.$AdsBlueTour2=function(){return this.props.step===m}.bind(this),this.$AdsBlueTour3=function(){return this.props.step===this.props.steps.length-1}.bind(this),this.$AdsBlueTour4=function(){this.props.onStart();this.props.onStep(0)}.bind(this),this.$AdsBlueTour5=function(){var t=[];if(!this.$AdsBlueTour2())for(var u=0;u<this.props.steps.length;++u)t.push(c("React").createElement("span",{className:"_4a-k"+(u===this.props.step?" _4a-l":""),key:"bullet"+u},"\u25cf"));return t}.bind(this),this.$AdsBlueTour6=function(){__p&&__p();var t=[];if(this.$AdsBlueTour2())t.push(c("React").createElement(c("XUIButton.react"),{className:"_4a-j",key:"take-tour",label:i._("Take Tour"),size:"large",onClick:this.$AdsBlueTour4}));else{var u=false,v=function(){return this.props.onStep(this.props.step-1)}.bind(this);if(this.$AdsBlueTour1()){u=true;v=null}if(!u)t.push(c("React").createElement(c("XUIButton.react"),{className:"_4a-j",key:"back",label:i._("Back"),size:"large",onClick:v}));var w=function(){return this.props.onStep(this.props.step+1)}.bind(this),x=i._("Next");if(this.$AdsBlueTour3()){x=i._("Done");w=this.props.onComplete}t.push(c("React").createElement(c("XUIButton.react"),{className:"_4a-j",key:"next",label:x,size:"large",onClick:w}))}return t}.bind(this),p}n.prototype.render=function(){return c("React").createElement("div",{className:"_135w"},c("React").createElement("div",{className:"_4a-p"},this.props.children),c("React").createElement(c("LeftRight.react"),{className:"_4a-m"},c("React").createElement("div",null,this.$AdsBlueTour6()),c("React").createElement("div",{className:"_4a-n"},this.$AdsBlueTour5())))};n.propTypes={onComplete:l.func,onStep:l.func.isRequired,onStart:l.func,step:l.number.isRequired,steps:l.arrayOf(l.object).isRequired};n.INTRO_STEP=m;n.defaultProps={onCompletet:c("emptyFunction"),onStart:c("emptyFunction")};f.exports=n}),null);
__d("AdsBlueTipTour.react",["AdsBlueTip.react","AdsBlueTour.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").PureComponent);i=h&&h.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={step:this.props.introStep?c("AdsBlueTour.react").INTRO_STEP:0,shown:true},this.$AdsBlueTipTour4=function(){this.$AdsBlueTipTour3();this.props.onXOut()}.bind(this),this.$AdsBlueTipTour5=function(){this.$AdsBlueTipTour3();this.props.onComplete()}.bind(this),this.$AdsBlueTipTour6=function(q){this.setState({step:q});this.props.onStep&&this.props.onStep(q)}.bind(this),m}k.prototype.$AdsBlueTipTour1=function(){return this.$AdsBlueTipTour2()?this.props.introStep:this.props.steps[this.state.step]};k.prototype.$AdsBlueTipTour3=function(){this.setState({shown:false})};k.prototype.$AdsBlueTipTour2=function(){return this.state.step===c("AdsBlueTour.react").INTRO_STEP};k.prototype.render=function(){var l=this.$AdsBlueTipTour1();return c("React").createElement(c("AdsBlueTip.react"),babelHelpers["extends"]({behaviors:this.props.behaviors},l,{highlightContext:this.props.highlightContext,shown:this.state.shown,onClose:this.$AdsBlueTipTour4}),c("React").createElement(c("AdsBlueTour.react"),babelHelpers["extends"]({},this.props,{step:this.state.step,onComplete:this.$AdsBlueTipTour5,onStep:this.$AdsBlueTipTour6}),l.content))};k.propTypes={behaviors:j.object,highlightContext:j.bool,introStep:j.object,steps:j.arrayOf(j.object).isRequired,onComplete:j.func.isRequired,onStart:j.func,onStep:j.func,onXOut:j.func.isRequired};f.exports=k}),null);
__d("InstreamVideoAdBreak",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$InstreamVideoAdBreak1=i.instreamPlacement;this.$InstreamVideoAdBreak2=i.index;this.$InstreamVideoAdBreak3=i.timeOffsetInMs;this.$InstreamVideoAdBreak4=i.adBreakDurationInMs;this.$InstreamVideoAdBreak5=i.isAdBreakAutoInserted}h.prototype.getInstreamPlacement=function(){return this.$InstreamVideoAdBreak1};h.prototype.getIndex=function(){return this.$InstreamVideoAdBreak2};h.prototype.getTimeOffsetInMs=function(){return this.$InstreamVideoAdBreak3};h.prototype.getAdBreakDurationInMs=function(){return this.$InstreamVideoAdBreak4};h.prototype.getIsAdBreakAutoInserted=function(){return this.$InstreamVideoAdBreak5};f.exports=h}),null);
__d("CommerceErrorNotice.react",["React","XUINotice.react","XUIText.react"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";__p&&__p();var l=this.props.error;if(!l)return c("React").createElement("span",null);var m=null;if(l.__html)m=c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block",dangerouslySetInnerHTML:l});else m=c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},l);var n=this.props,o=n.className,p=n.use,q=babelHelpers.objectWithoutProperties(n,["className","use"]);return c("React").createElement(c("XUINotice.react"),babelHelpers["extends"]({use:p||"warn",className:o},q),m)};function k(){"use strict";h.apply(this,arguments)}k.propTypes={error:j.oneOfType([j.string,j.object])};k.defaultProps={error:null};f.exports=k}),null);
__d("BOFSellerLogger",["BanzaiLogger","Event"],(function a(b,c,d,e,f,g){"use strict";var h="BOFSellerLoggerConfig",i={log:function j(k,l,m){m.event=k;m.seller_profile_id=l;c("BanzaiLogger").log(h,m)},initClickListener:function j(k,l,m,n){c("Event").listen(k,"click",function(){return this.log(l,m,n)}.bind(this))}};f.exports=i}),null);
__d("FBCircularGlyph.react",["cx","Image.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.circleSize,o=m.glyph,p=m.glyphSize,q=babelHelpers.objectWithoutProperties(m,["circleSize","glyph","glyphSize"]);return c("React").createElement("div",babelHelpers["extends"]({},q,{className:c("joinClasses")("_32qy",q.className),style:babelHelpers["extends"]({width:n,height:n},q.style)}),c("React").createElement("div",{className:"_32qz"},c("React").createElement("div",{className:"_32q-"},c("React").createElement(c("Image.react"),{src:o,width:p,height:p}))))};function l(){i.apply(this,arguments)}l.propTypes={circleSize:k.number,glyph:k.oneOfType([k.object,k.string])};f.exports=l}),null);
__d("FBNoSelect",["DOMQuery","Event","UserAgent"],(function a(b,c,d,e,f,g){__p&&__p();var h=["input","select","textarea","object","embed"],i=new(function(){__p&&__p();function j(){"use strict";this.$FBNoSelectSingleton1=false;this.$FBNoSelectSingleton2={};this.$FBNoSelectSingleton3={};this.$FBNoSelectSingleton4=Array.from(h)}j.prototype.addBlockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton6(this.$FBNoSelectSingleton2,k)};j.prototype.removeBlockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton7(this.$FBNoSelectSingleton2,k)};j.prototype.addUnblockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton6(this.$FBNoSelectSingleton3,k)};j.prototype.removeUnblockClass=function(k){"use strict";this.$FBNoSelectSingleton5();return this.$FBNoSelectSingleton7(this.$FBNoSelectSingleton3,k)};j.prototype.addUnblockNodeType=function(k){"use strict";this.$FBNoSelectSingleton5();if(!this.$FBNoSelectSingleton4.includes(k))this.$FBNoSelectSingleton4.push(k);return this};j.prototype.removeUnblockNodeType=function(k){"use strict";this.$FBNoSelectSingleton5();var l=this.$FBNoSelectSingleton4.indexOf(k);if(l!==-1)this.$FBNoSelectSingleton4.splice(l,1);return this};j.prototype.addUnblockLayers=function(){"use strict";this.addUnblockClass("uiLayer");return this};j.prototype.$FBNoSelectSingleton6=function(k,l){"use strict";if(k[l])k[l]++;else k[l]=1;return this};j.prototype.$FBNoSelectSingleton7=function(k,l){"use strict";if(k[l]){k[l]--;if(k[l]==0)delete k[l]}return this};j.prototype.shouldBlock=function(k){"use strict";__p&&__p();if(!this.$FBNoSelectSingleton1)return false;for(var l=k;l!==null&&l!==document;l=l.parentNode){if(l.classList){for(var m in this.$FBNoSelectSingleton2)if(l.classList.contains(m))return true;for(var n in this.$FBNoSelectSingleton3)if(l.classList.contains(n))return false}var o=c("DOMQuery").isNodeOfType(l,this.$FBNoSelectSingleton4);if(o)return false}return false};j.prototype.$FBNoSelectSingleton5=function(){__p&&__p();var k,l=this;"use strict";if(this.$FBNoSelectSingleton1)return;this.$FBNoSelectSingleton1=true;if(c("UserAgent").isEngine("Gecko")){c("Event").listen(document,"mousedown",function(m){if(this.shouldBlock(m.getTarget()))document.body.style.MozUserSelect="none"}.bind(this));c("Event").listen(document,"mouseup",function(m){document.body.style.MozUserSelect=""})}else(function(){__p&&__p();var m=false,n=false;c("Event").listen(document,"selectstart",function(o){__p&&__p();if(m){if(n)o.kill();return}n=false;m=true;if(this.shouldBlock(o.getTarget())){n=true;o.kill()}}.bind(l));c("Event").listen(document,{mousedown:function o(){m=false},mouseup:function o(){m=false}})})()};return j}())();f.exports=i}),null);
__d("FBNumberInput.react",["Input","React","intlNumUtils","joinClasses","debounce"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=200,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){"use strict";__p&&__p();i.constructor.call(this);this.$FBNumberInput1=c("debounce")(function(m){var n=this.$FBNumberInput2(c("Input").getValue(m));if(n===this.$FBNumberInput3(n))this.props.onValueChange(n)}.bind(this),j);this.$FBNumberInput4=function(m){return this.props.formatNumber?c("intlNumUtils").formatNumberWithThousandDelimiters(m,0):""+m}.bind(this);this.$FBNumberInput2=function(m){var n=c("intlNumUtils").parseNumber(m);if(this.props.onlyIntegers)n=Math.trunc(n);return n}.bind(this);this.$FBNumberInput3=function(m){__p&&__p();if(m!==null){m=this.props.nonnegative?Math.abs(m):m;if(this.props.minValue!=null&&m<this.props.minValue)m=this.props.minValue;else if(this.props.maxValue!=null&&m>this.props.maxValue)m=this.props.maxValue}else if(this.props.defaultValue!=null)m=this.props.defaultValue;return m}.bind(this);this.$FBNumberInput5=function(event){this.setState({focused:false});var m=this.$FBNumberInput3(this.$FBNumberInput2(c("Input").getValue(event.target))),n=m!==null?this.$FBNumberInput4(m):"";c("Input").setValue(event.target,n);if(this.props.triggerCallbackOnChange)this.$FBNumberInput1.reset();this.props.onValueChange(m)}.bind(this);this.$FBNumberInput6=function(event){this.setState({focused:true})}.bind(this);this.$FBNumberInput7=function(event){this.$FBNumberInput1(event.target)}.bind(this);this.state={focused:false}}l.prototype.render=function(){"use strict";var m=this.props,n=m.value,o=m.className,p=babelHelpers.objectWithoutProperties(m,["value","className"]);if(n)n=this.$FBNumberInput4(n);return c("React").createElement("input",babelHelpers["extends"]({},p,{className:c("joinClasses")(o,"inputtext"),type:"text",defaultValue:n,value:this.state.focused?undefined:n,onBlur:this.$FBNumberInput5,onFocus:this.$FBNumberInput6,onChange:this.props.triggerCallbackOnChange?this.$FBNumberInput7:p.onChange}))};l.propTypes={nonnegative:k.bool,onValueChange:k.func.isRequired,value:k.number,defaultValue:k.number,minValue:k.number,maxValue:k.number,placeholder:k.string,formatNumber:k.bool,onlyIntegers:k.bool,triggerCallbackOnChange:k.bool};f.exports=l}),null);
__d("BUIFormTypes",["React"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=h.oneOf(["svelt","breathy","snug","taut"]),j=h.oneOf(["normal","top"]),k=h.oneOf(["left","top"]);f.exports={DENSITY_PROP_TYPE:i,LABEL_ALIGN:j,LABEL_POSITION_PROP_TYPE:k}}),null);
__d("BUIForm.react",["cx","BUIComponent","BUIFormTypes","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BUIFormTypes").DENSITY_PROP_TYPE,l=c("BUIFormTypes").LABEL_POSITION_PROP_TYPE;i=babelHelpers.inherits(m,c("BUIComponent"));j=i&&i.prototype;m.prototype.render=function(){var n=c("joinClasses")(this.props.className,"_550r",(this.props.density==="breathy"?"_550s":"")+(this.props.density==="snug"?" _550t":"")+(this.props.density==="svelt"?" _550u":"")+(this.props.density==="taut"?" _550v":"")+(this.props.labelPosition==="top"?" _550w":"")+(this.props.labelPosition==="left"?" _550y":"")+(this.props.labelPosition==="left"?" _3w5n":"")),o=c("React").Children.map(this.props.children,function(p){if(!p)return p;return c("React").cloneElement(p,{density:this.props.density,labelPosition:this.props.labelPosition})}.bind(this));return c("React").createElement("div",{className:n,"data-testid":this.props.testID},o)};function m(){i.apply(this,arguments)}m.propTypes={density:k,labelPosition:l};m.defaultProps={density:"svelt",labelPosition:"left"};f.exports=m}),null);
__d("BUIFormButton.react",["invariant","BUIForm.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.density,n=babelHelpers.objectWithoutProperties(l,["density"]),o=void 0;switch(m){case"breathy":case"svelt":o="xlarge";break;case"snug":o="large";break;case"taut":o="medium";break}return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},n,{size:o}))};function k(){i.apply(this,arguments)}k.propTypes=babelHelpers["extends"]({},c("XUIButton.react").propTypes,{density:c("BUIForm.react").propTypes.density});f.exports=k}),null);
__d("BUIFormSelector.react",["invariant","BUIForm.react","React","XUISelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("XUISelector.react").Option;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.density,o=babelHelpers.objectWithoutProperties(m,["density"]),p=void 0;switch(n){case"breathy":case"svelt":p="xlarge";break;case"snug":p="large";break;case"taut":p="medium";break}return c("React").createElement(c("XUISelector.react"),babelHelpers["extends"]({},o,{size:p}))};function l(){i.apply(this,arguments)}l.propTypes=babelHelpers["extends"]({},c("XUISelector.react").propTypes,{density:c("BUIForm.react").propTypes.density});l.Option=k;f.exports=l}),null);
__d("AutoScalingContent.react",["React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.state={widthRatio:null}}k.prototype.componentDidMount=function(){var l=this.refs.inner,m=this.props,n=m.minWidthRatio,o=m.handleMinWidthRatioViolation,p=1;if(this.state.widthRatio===null){if(l&&l.scrollWidth&&l.offsetWidth){p=l.offsetWidth/l.scrollWidth;if(p<n)p=o&&o(p,n)||n}this.setState({widthRatio:p})}};k.prototype.render=function(){__p&&__p();var l={},m={};if(this.props.width!==undefined)m.width=this.props.width;if(!this.state.widthRatio)l.visibility="hidden";else if(this.state.widthRatio<1){l.transform="scale("+this.state.widthRatio+")";l.transformOrigin="0 0"}return c("React").createElement("div",{style:m},c("React").createElement("div",{ref:"inner",style:l},this.props.children))};k.propTypes={children:j.any,minWidthRatio:j.number,width:j.oneOfType([j.number,j.string])};k.defaultProps={minWidthRatio:.75};f.exports=k}),null);
__d("XUICarouselLinks.react",["csx","cx","fbt","DOM","DOMClone","React","ReactDOM","DOMContainer.react","isNode","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=c("React").createClass({displayName:"XUICarouselLinks",propTypes:{carousel:k.object.isRequired,template:function m(n){var m=n.template;if(m&&!c("React").isValidElement(m)&&!c("isNode")(m))return new Error("Expected a DOM node or ReactElement for template")},width:k.number,centered:k.bool},getDefaultProps:function m(){return{template:c("React").createElement("div",{className:"_3jav"}),centered:true}},getInitialState:function m(){return{disabled:false,itemCount:this.props.carousel.getItemCount(),index:this.props.carousel.state.index}},componentWillMount:function m(){this._registerToCarousel(this.props.carousel)},willDestroyElement:function m(){this._unregisterCarousel()},_isAutoplayEnabled:false,_unregisterCarousel:function m(){this.props.carousel.unsubscribe(this.arbiterToken)},_registerToCarousel:function m(n){this.arbiterToken=n.subscribe(["animation_start","item_count_updated"],function(o,p){if(o==="animation_start")this.setState({index:p});else this.setState({itemCount:p})}.bind(this))},componentWillUpdate:function m(n){if(this.props.carousel!==n.carousel){this._unregisterCarousel();this._registerToCarousel(n.carousel)}},_onKeyDown:function m(event,n){if(event.key==="ArrowLeft"){this.props.carousel.prev();event.preventDefault()}else if(event.key==="ArrowRight"){this.props.carousel.next();event.preventDefault()}},_onBlur:function m(){if(this._isAutoplayEnabled)this.props.carousel.setAutoplayEnabled(true)},_onFocus:function m(){this._isAutoplayEnabled=this.props.carousel.state.autoplay;if(this._isAutoplayEnabled)this.props.carousel.setAutoplayEnabled(false)},onLinkClick:function m(n){this.props.carousel.setIndex(n)},renderLinks:function m(){__p&&__p();var n,o=this,p=[],q=this.props.template,r=c("React").isValidElement(q),s=function s(t){__p&&__p();var u=t===o.state.index,v="_3jaw"+(u?" _3el7":""),w=j._("Item {item index}",[j.param("item index",t+1)]);if(r)p.push(c("React").cloneElement(q,{className:c("joinClasses")(q.props.className,v),key:t,index:t,onBlur:function(){return this._onBlur()}.bind(o),onFocus:function(){return this._onFocus()}.bind(o),onClick:function(){return this.onLinkClick(t)}.bind(o),onKeyDown:function(event){return this._onKeyDown(event,t)}.bind(o),tabIndex:u?"0":"-1","aria-label":w,role:"button"}));else p.push(c("React").createElement("div",{className:v,key:t,onBlur:function(){return this._onBlur()}.bind(o),onFocus:function(){return this._onFocus()}.bind(o),onKeyDown:function(event){return this._onKeyDown(event,t)}.bind(o),onClick:function(){return this.onLinkClick(t)}.bind(o),"aria-label":w,"aria-selected":u?"true":"false",role:"button",tabIndex:u?"0":"-1"},c("React").createElement(c("DOMContainer.react"),null,c("DOMClone").deepClone(q))))};for(var t=0;t<this.state.itemCount;t++)s(t);return p},render:function m(){__p&&__p();var n=c("joinClasses")(this.props.className,"_3jay"+(this.props.centered?" _3jaz":"")),o=void 0;if(this.props.width)o={width:this.props.width};setTimeout(function(){if(this.isMounted()){var p=c("DOM").scry(c("ReactDOM").findDOMNode(this),"._3jaw");p.forEach(function(q){var r=q.style.display;q.style.display="none";q.offsetHeight;q.style.display=r})}}.bind(this));return c("React").createElement("div",{style:o},c("React").createElement("div",{className:n,role:"toolbar"},this.renderLinks()))}});f.exports=l}),null);
__d("TimelineInfoReviewParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTION:"action",ENTITY_ID:"ent",EXISTING_ERROR:"error",ITEM_TYPE:"type",ITEM_TOKEN:"i_token",MULTI_CHOICE_OPTION:"option",QUERY:"query",REPLACE_ID:"replace_id",SURFACE:"profile_question_surface",QUESTION_SESSION:"session",QUESTION_TOKEN:"token",CURSOR:"cursor",DATE:"date",DAY:"day",END_DAY:"end_day",END_MONTH:"end_month",END_YEAR:"end_year",ENTITY_IDS:"ents",ENTITY_IDS_TYPEAHEAD:"ents_ta",GENERIC_TEXT:"generic_text",HUB_ID:"hub_id",LIKED:"liked",LOCATION_ID:"location_id",TITLE:"title",MONTH:"month",NO_VALID_ANSWER_ID:"no_answer",PREVIOUS_PROGRESS:"prev_prog",START_DAY:"start_day",START_MONTH:"start_month",START_YEAR:"start_year",TEXT:"text",TEXT_TYPE:"text_type",YEAR:"year",LOCATION:"location",RENDER_TIME:"render_t",REQUEST_ID:"request",RETHROW_ERRORS:"rethrow_errors",OTHER_ID:"other_id",FIELD_TYPE:"field_type",BIRTHDAY:"birthday",CITY_ID:"city_id",COLLEGE_ID:"college_id",COLLEGE_TEXT:"college_text",CONTAINER_ID:"container_id",COUNTRY_CODE:"country",EMAIL_ADDRESS:"email",EMAIL_FBID:"email_fbid",EMAIL_FBIDS:"email_fbids",ENTITY_ID_TYPEAHEAD:"ent_ta",FAMILY_ANNIVERSARIES:"family_anniversaries",FAMILY_ANNIVERSARIES_IN_MS:"family_anniversaries_in_ms",FAMILY_ANNIVERSARY_DAYS:"family_anniversary_days",FAMILY_ANNIVERSARY_MONTHS:"family_anniversary_months",FAMILY_ANNIVERSARY_YEARS:"family_anniversary_years",FAMILY_BIRTHDAYS:"family_birthdays",FAMILY_BIRTHDAY_DAYS:"family_birthday_days",FAMILY_BIRTHDAY_MONTHS:"family_birthday_months",FAMILY_BIRTHDAY_YEARS:"family_birthday_years",FAMILY_BIRTHDAYS_IN_MS:"family_birthdays_in_ms",FAMILY_IDS:"family_ids",FAMILY_RELATIONS:"family_relations",FAMILY_TEXT_NAMES:"family_text_names",GRAD_SCHOOL_ID:"grad_id",GRAD_SCHOOL_TEXT:"grad_text",HIGH_SCHOOL_ID:"hs_id",HIGH_SCHOOL_TEXT:"hs_text",NAME_PRONUNCIATION_FIRSTNAME_RADIO:"first_radio",NAME_PRONUNCIATION_LASTNAME_RADIO:"last_radio",NAME_PRONUNCIATION_FIRSTNAME_CUSTOM:"first_input",NAME_PRONUNCIATION_LASTNAME_CUSTOM:"last_input",NEIGHBORHOOD:"neighborhood",ONLY_SHARE_WITH:"only_share",PHONE_FBIDS:"phone_fbids",PHONE_FBID:"phone_fbid",PHONE_NUMBER:"phone",PHONE_TYPE:"phone_type",POSTAL_CODE:"postal_code",PRIVACY_X:"priv_x",STREET_ADDRESS:"address",USE_EXISTING:"existing",SAVE:"save",SKIP:"skip"})}),null);
__d("ProgressiveDatepickerMixin",["DateConsts","React","TimelineInfoReviewParam"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i={propTypes:{descendingYears:h.bool,initialDay:function j(k,l,m){var n=k.initialYear,o=k.initialMonth,j=k.initialDay;if(!j)return;var p=o&&n&&j<=c("DateConsts").getDaysInMonth(n,o);if(!p)return new Error("A valid initialYear and initialMonth must be provided if initialDay is set.");return h.number.apply(this,arguments)},initialMonth:function j(k,l,m){if(k.initialMonth&&!k.initialYear)return new Error("A valid initialYear must be provided if initialMonth is set.");return h.number.apply(this,arguments)},initialYear:h.number,inputPrefix:h.string,maxTime:h.number.isRequired,minTime:h.number.isRequired,minTimeUnit:h.oneOf(["day","month","year"]),onDateChange:h.func,setDateTo:h.object,supressDaySelector:h.bool,forceYearSelection:h.bool,className:h.string,wrapperClassName:h.string,reverseOrder:h.bool},getDefaultProps:function j(){return{descendingYears:false,initialYear:0,initialMonth:0,initialDay:0,inputPrefix:"",minTimeUnit:"year",supressDaySelector:false,forceYearSelection:false,reverseOrder:false}},getInitialState:function j(){if(this.props.setDateTo!=null)return this.props.setDateTo;else return{day:this.props.initialDay,month:this.props.initialMonth,year:this.props.initialYear}},clearDate:function j(){this.setState(this.getInitialState())},_getDayName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").DAY:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").DAY},_getMonthName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").MONTH:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").MONTH},_getYearName:function j(){return this.props.inputPrefix===""?c("TimelineInfoReviewParam").YEAR:this.props.inputPrefix+"_"+c("TimelineInfoReviewParam").YEAR},_getMinDate:function j(){return new Date(this.props.minTime*c("DateConsts").MS_PER_SEC)},_getMinYear:function j(){return this._getMinDate().getFullYear()},_getMinMonth:function j(){return this._getMinDate().getMonth()+1},_getMinDay:function j(){return this._getMinDate().getDate()},_isMinYear:function j(){return this.state.year===this._getMinYear()},_isMinYearAndMonth:function j(){return this._isMinYear()&&this.state.month===this._getMinMonth()},_getMaxDate:function j(){return new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC)},_getMaxYear:function j(){return this._getMaxDate().getFullYear()},_getMaxMonth:function j(){return this._getMaxDate().getMonth()+1},_getMaxDay:function j(){return this._getMaxDate().getDate()},_isMaxYear:function j(){return this.state.year===this._getMaxYear()},_isMaxYearAndMonth:function j(){return this._isMaxYear()&&this.state.month===this._getMaxMonth()},_getCurrentDate:function j(){return new Date(this.state.year,!this.state.month?0:this.state.month-1,this.state.year&&!this.state.day?1:this.state.day).getTime()},getCurrentDateInSeconds:function j(){return this._getCurrentDate()/c("DateConsts").MS_PER_SEC},getMaxPossibleDateInSeconds:function j(){__p&&__p();var k={year:this.state.year,month:this.state.month,day:this.state.day};if(!k.day)if(k.month)k.month+=1;else if(k.year){k.year+=1;k.day=1}var l=new Date(k.year,!k.month?0:k.month-1,k.day);return l.getTime()/c("DateConsts").MS_PER_SEC},_onYearChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:parseInt(k,10),month:this.state.month,day:this.state.day})},_onMonthChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:parseInt(k,10),day:this.state.day})},_onDayChange:function j(event){var k=event.target?event.target.value:event.value;this._onDateChange({year:this.state.year,month:this.state.month,day:parseInt(k,10)})},_onDateChange:function j(k){var l=this._getValidDate(k);this.setState(l,function(){this.props.onDateChange&&this.props.onDateChange(l)}.bind(this))},_getValidDate:function j(k,l,m){__p&&__p();if(typeof l==="undefined")l=new Date(this.props.minTime*c("DateConsts").MS_PER_SEC);if(typeof m==="undefined")m=new Date(this.props.maxTime*c("DateConsts").MS_PER_SEC);var n=k.year,o=k.month,p=k.day;if(n){if(n<=l.getFullYear()){n=l.getFullYear();if(o&&o<=l.getMonth()+1){o=l.getMonth()+1;if(p&&p<l.getDate())p=l.getDate()}}else if(n>=m.getFullYear()){n=m.getFullYear();if(o&&o>=m.getMonth()+1){o=m.getMonth()+1;if(p&&p>m.getDate())p=m.getDate()}}if(o){if(p&&p>c("DateConsts").getDaysInMonth(n,o))p=c("DateConsts").getDaysInMonth(n,o)}else p=0}else o=p=0;return{year:n,month:o,day:p}},componentWillReceiveProps:function j(k){var l=new Date(k.minTime*c("DateConsts").MS_PER_SEC),m=new Date(k.maxTime*c("DateConsts").MS_PER_SEC);if(k.setDateTo!=null)this.setState(k.setDateTo);else this.setState(this._getValidDate(this.state,l,m))}};f.exports=i}),null);
__d("XUIProgressiveDatepicker.react",["cx","DateConsts","DateStrings","ProgressiveDatepickerMixin","React","InlineBlock.react","XUISelector.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=c("XUISelector.react").Option,j=c("React").createClass({displayName:"TimelineProgressiveDatepicker",mixins:[c("ProgressiveDatepickerMixin")],render:function k(){__p&&__p();var l=[];for(var m=this._getMinYear();m<=this._getMaxYear();m++){var n=c("React").createElement(i,{key:m,title:m,value:m},m);this.props.descendingYears?l.unshift(n):l.push(n)}l.unshift(c("React").createElement(i,{key:0,title:c("DateStrings").getYearLabel(),value:0},c("DateStrings").getYearLabel()));var o=null;if(this.state.year||this.props.minTimeUnit!=="year"){var p=[c("React").createElement(i,{key:0,title:c("DateStrings").getMonthLabel(),value:0},c("DateStrings").getMonthLabel())],q=1,r=c("DateConsts").MONTHS_PER_YEAR;if(this._isMinYear())q=this._getMinMonth();if(this._isMaxYear())r=this._getMaxMonth();for(var s=q;s<=r;s++){var t=c("DateStrings").getMonthName(s);p.push(c("React").createElement(i,{key:s,title:t,value:s},t))}o=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/monthSelector",disabled:this.props.disabled||!this.state.year,maxheight:this.props.menuMaxHeight,name:this._getMonthName(),onChange:this._onMonthChange,value:this.state.month},p)}var u=null;if(this.state.month||this.props.minTimeUnit==="day"){var v=[c("React").createElement(i,{key:0,title:c("DateStrings").getDayLabel(),value:0},c("DateStrings").getDayLabel())],w=1,x=c("DateConsts").getDaysInMonth(this.state.year,this.state.month);if(this._isMinYearAndMonth())w=this._getMinDay();if(this._isMaxYearAndMonth())x=this._getMaxDay();for(var y=w;y<=x;y++)v.push(c("React").createElement(i,{key:y,title:y,value:y},y));u=c("React").createElement(c("XUISelector.react"),{className:"_5vu1","data-testid":"ProgressiveDatepicker/daySelector",disabled:this.props.disabled||!this.state.month,maxheight:this.props.menuMaxHeight,name:this._getDayName(),onChange:this._onDayChange,value:this.state.day},v)}return c("React").createElement(c("InlineBlock.react"),null,c("React").createElement(c("XUISelector.react"),{"data-testid":"ProgressiveDatepicker/yearSelector",disabled:this.props.disabled,maxheight:this.props.menuMaxHeight,name:this._getYearName(),onChange:this._onYearChange,value:this.state.year},l),o,u)}});f.exports=j}),null);
__d("PagesButton.react",["cx","AbstractButton.react","React","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l="accentblue",m="medium";i=babelHelpers.inherits(n,c("React").Component);j=i&&i.prototype;n.getButtonSize=function(o){"use strict";return o.size||m};n.getButtonColor=function(o){"use strict";return o.color||l};n.prototype.render=function(){"use strict";var o=n.getButtonColor(this.props),p=n.getButtonSize(this.props),q=this.props.disabled,r=this.props.fill,s=c("joinClasses")("_2-sm _1olk"+(p==="small"?" _xa8":"")+(p==="medium"?" _xa9":"")+(p==="large"?" _xaf":"")+(!q&&o==="accentblue"?" _xag":"")+(!q&&o==="fbblue"?" _xah":"")+(!q&&o==="gray"?" _42q9":"")+(!q&&o==="green"?" _xai":"")+(q?" _xaj":"")+(r?" _xak":"")+(!r?" _xal":"")+(this.props.slim?" _4t_j":""));return c("React").createElement(c("AbstractButton.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,s),label:this.props.label}))};function n(){"use strict";i.apply(this,arguments)}n.propTypes={color:k.oneOf(["accentblue","fbblue","green"]),size:k.oneOf(["small","medium","large"]),disabled:k.bool,fill:k.bool,slim:k.bool};n.defaultProps={color:l,size:m,disabled:false,fill:false,slim:false};f.exports=n}),null);
__d("FeedbackAddStreamingReactionWebGraphQLSubscription",["WebGraphQLSubscriptionHelper"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("WebGraphQLSubscriptionHelper").getExports({docID:"1568746946533577",queryID:"158119731410742"})}),null);
__d("FeedbackAddStreamingReactionSubscription",["BaseGraphQLSubscription","FeedbackAddStreamingReactionWebGraphQLSubscription","uuid"],(function a(b,c,d,e,f,g){var h=babelHelpers["extends"]({},c("BaseGraphQLSubscription"),{_getTopic:function i(j){return"gqls/feedback_add_streaming_reaction_subscribe/feedback_id_"+j},_getQueryID:function i(){return c("FeedbackAddStreamingReactionWebGraphQLSubscription").getDocID()},_getQueryParameters:function i(j){return{input:JSON.stringify({client_subscription_id:c("uuid")(),feedback_id:j})}},_getSubscriptionCallName:function i(){return"feedback_add_streaming_reaction_subscribe"}});f.exports=h}),null);
__d("LiveMapEntryPointsEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({APPS:"bookmarks",FAVORITES:"favorites",ENDSCREEN:"endscreen",TRENDING:"trending",BLUEBAR:"bluebar",NUX:"nux",FACEBAR_TYPEAHEAD:"br_tf",SHAREABLE:"shareable",VIDEO_HOME:"video_home",LIVE_DISCOVERY:"live_discovery"})}),null);
__d("LiveMapEntryPointsEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({IMPRESSION:"impression",CLICKED:"clicked",EMPTY_UNIT:"empty_unit",VIEWER_COUNT:"viewer_count"})}),null);
__d("LiveMapEntryPointsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:LiveMapEntryPointsLoggerConfig",this.$LiveMapEntryPointsTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:LiveMapEntryPointsLoggerConfig",this.$LiveMapEntryPointsTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$LiveMapEntryPointsTypedLogger1={};return this};h.prototype.updateData=function(j){this.$LiveMapEntryPointsTypedLogger1=babelHelpers["extends"]({},this.$LiveMapEntryPointsTypedLogger1,j);return this};h.prototype.setEntryPoint=function(j){this.$LiveMapEntryPointsTypedLogger1.entry_point=j;return this};h.prototype.setEvent=function(j){this.$LiveMapEntryPointsTypedLogger1.event=j;return this};h.prototype.setVC=function(j){this.$LiveMapEntryPointsTypedLogger1.vc=j;return this};h.prototype.setViewerCount=function(j){this.$LiveMapEntryPointsTypedLogger1.viewer_count=j;return this};var i={entry_point:true,event:true,vc:true,viewer_count:true};f.exports=h}),null);
__d("LiveMapEntryPointsLoggerController",["LiveMapEntryPointsTypedLogger","LiveMapEntryPointsEvent","LiveMapEntryPointsEnum"],(function a(b,c,d,e,f,g){"use strict";var h={logEndscreenImpression:function i(){new(c("LiveMapEntryPointsTypedLogger"))().setEvent(c("LiveMapEntryPointsEvent").IMPRESSION).setEntryPoint(c("LiveMapEntryPointsEnum").ENDSCREEN).log()}};f.exports=h}),null);
__d("SnoozedProfileTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$SnoozedProfileTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$SnoozedProfileTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$SnoozedProfileTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$SnoozedProfileTypedLogger1)};h.prototype.updateData=function(j){this.$SnoozedProfileTypedLogger1=babelHelpers["extends"]({},this.$SnoozedProfileTypedLogger1,j);return this};h.prototype.setClienttime=function(j){this.$SnoozedProfileTypedLogger1.clienttime=j;return this};h.prototype.setEvent=function(j){this.$SnoozedProfileTypedLogger1.event=j;return this};h.prototype.setItemObjID=function(j){this.$SnoozedProfileTypedLogger1.item_obj_id=j;return this};h.prototype.setSessionID=function(j){this.$SnoozedProfileTypedLogger1.session_id=j;return this};h.prototype.setVC=function(j){this.$SnoozedProfileTypedLogger1.vc=j;return this};var i={clienttime:true,event:true,item_obj_id:true,session_id:true,vc:true};f.exports=h}),null);
__d("VideoEditTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$VideoEditTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:VideoEditLoggerConfig",this.$VideoEditTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$VideoEditTypedLogger1={};return this};h.prototype.getData=function(){return babelHelpers["extends"]({},this.$VideoEditTypedLogger1)};h.prototype.updateData=function(j){this.$VideoEditTypedLogger1=babelHelpers["extends"]({},this.$VideoEditTypedLogger1,j);return this};h.prototype.setCaptionsCount=function(j){this.$VideoEditTypedLogger1.captions_count=j;return this};h.prototype.setChangedTitle=function(j){this.$VideoEditTypedLogger1.changed_title=j;return this};h.prototype.setEmbeddable=function(j){this.$VideoEditTypedLogger1.embeddable=j;return this};h.prototype.setEvent=function(j){this.$VideoEditTypedLogger1.event=j;return this};h.prototype.setExpirationTime=function(j){this.$VideoEditTypedLogger1.expiration_time=j;return this};h.prototype.setExpirationType=function(j){this.$VideoEditTypedLogger1.expiration_type=j;return this};h.prototype.setExpiredNow=function(j){this.$VideoEditTypedLogger1.expired_now=j;return this};h.prototype.setFlow=function(j){this.$VideoEditTypedLogger1.flow=j;return this};h.prototype.setHasContentCategoryChanged=function(j){this.$VideoEditTypedLogger1.has_content_category_changed=j;return this};h.prototype.setHasContentTagsChanged=function(j){this.$VideoEditTypedLogger1.has_content_tags_changed=j;return this};h.prototype.setPublishNow=function(j){this.$VideoEditTypedLogger1.publish_now=j;return this};h.prototype.setSource=function(j){this.$VideoEditTypedLogger1.source=j;return this};h.prototype.setVC=function(j){this.$VideoEditTypedLogger1.vc=j;return this};h.prototype.setVideoID=function(j){this.$VideoEditTypedLogger1.video_id=j;return this};h.prototype.updateExtraData=function(j){j=c("nullthrows")(c("GeneratedLoggerUtils").serializeMap(j));c("GeneratedLoggerUtils").checkExtraDataFieldNames(j,i);this.$VideoEditTypedLogger1=babelHelpers["extends"]({},this.$VideoEditTypedLogger1,j);return this};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l)};var i={captions_count:true,changed_title:true,embeddable:true,event:true,expiration_time:true,expiration_type:true,expired_now:true,flow:true,has_content_category_changed:true,has_content_tags_changed:true,publish_now:true,source:true,vc:true,video_id:true};f.exports=h}),null);
__d("FormatNumberUtil.atlas",["NumberFormatConfig","intlNumUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={_getDecimals:function i(j,k,l){__p&&__p();if(!k&&!l){var m=j.toString(),n=m.split(c("NumberFormatConfig").decimalSeparator);return n.length===2?n[1].length:0}if(j===0)return k;var o=Math.floor(j*Math.pow(10,l)),p=l,q=10;while(p>k&&o>1)if(o%q===0){q*=10;--p}else break;return p},formatWithVariablePrecision:function i(j,k,l,m){if(m)return c("intlNumUtils").formatNumberWithThousandDelimiters(j,h._getDecimals(j,k,l));return c("intlNumUtils").formatNumber(j,h._getDecimals(j,k,l))}};f.exports=h}),null);
__d("KeyframeAnimation",["invariant","CSS","Map","ReactTransitionEvents","UserAgent","nullthrows","queryThenMutateDOM","uniqueID"],(function a(b,c,d,e,f,g,h){__p&&__p();var i="KeyframeAnimation-",j="animation-";function k(l){"use strict";__p&&__p();this.$KeyframeAnimation3=l;this.$KeyframeAnimation8=true;this.$KeyframeAnimation5=new(c("Map"))();this.$KeyframeAnimation5.set("animation-name",i+c("uniqueID")());this.$KeyframeAnimation4=new(c("Map"))();if(!k.$KeyframeAnimation1){var m=document.createElement("style");document.head.appendChild(m);var n=c("nullthrows")(m.sheet);n instanceof CSSStyleSheet||h(0);k.$KeyframeAnimation1=n;k.$KeyframeAnimation2=new(c("Map"))()}this.$KeyframeAnimation9=c("UserAgent").isEngine("WebKit")?"-webkit-":""}k.prototype.defineKeyframes=function(l){"use strict";__p&&__p();for(var m=Object.entries(l),n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=m.length)break;p=m[o++]}else{o=m.next();if(o.done)break;p=o.value}var q=p,r=q[0],s=q[1];r=parseFloat(r,10);r>=0&&r<=100||h(0);var t="";for(var u=Object.entries(s).sort(),v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var x;if(v){if(w>=u.length)break;x=u[w++]}else{w=u.next();if(w.done)break;x=w.value}var y=x,z=y[0],A=y[1];t+=z+": "+A+";"}this.$KeyframeAnimation4.set(r,t)}return this};k.prototype.defineKeyframe=function(l,m){"use strict";__p&&__p();l=parseFloat(l,10);l>=0&&l<=100||h(0);var n="";for(var o=Object.entries(m).sort(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r,t=s[0],u=s[1];if(t.substring(0,j.length)===j||t==="transform")t=this.$KeyframeAnimation9+t;n+=t+": "+u+";"}this.$KeyframeAnimation4.set(l,n);return this};k.prototype.setDirection=function(l){"use strict";this.$KeyframeAnimation5.set("animation-direction",l);return this};k.prototype.setDuration=function(l){"use strict";this.$KeyframeAnimation5.set("animation-duration",l+"s");return this};k.prototype.setTimingFunction=function(l){"use strict";this.$KeyframeAnimation5.set("animation-timing-function",l);return this};k.prototype.setIterationCount=function(l){"use strict";this.$KeyframeAnimation5.set("animation-iteration-count",l+"");return this};k.prototype.setFillMode=function(l){"use strict";this.$KeyframeAnimation5.set("animation-fill-mode",l);return this};k.prototype.setAnimationDelay=function(l){"use strict";this.$KeyframeAnimation5.set("animation-delay",l+"s");return this};k.prototype.setFinishedCallback=function(l){"use strict";this.$KeyframeAnimation6=l;return this};k.prototype.setMemoize=function(l){"use strict";this.$KeyframeAnimation8=l;return this};k.prototype.start=function(){"use strict";__p&&__p();this.$KeyframeAnimation5.has("animation-duration")||h(0);if(this.$KeyframeAnimation7){this.restartAnimation();return}var l=this.$KeyframeAnimation3,m=this.$KeyframeAnimation10(),n=this.$KeyframeAnimation11(m),o=void 0;if(this.$KeyframeAnimation8&&k.$KeyframeAnimation2.has(n)){var p=c("nullthrows")(k.$KeyframeAnimation2.get(n));this.$KeyframeAnimation5.set("animation-name",p);o=p}else{k.$KeyframeAnimation1.insertRule(m,k.$KeyframeAnimation1.cssRules.length);o=c("nullthrows")(this.$KeyframeAnimation5.get("animation-name"));if(this.$KeyframeAnimation8)k.$KeyframeAnimation2.set(n,o)}var q=this.$KeyframeAnimation12(o);if(!this.$KeyframeAnimation8||!k.$KeyframeAnimation2.has(q)){k.$KeyframeAnimation1.insertRule(q,k.$KeyframeAnimation1.cssRules.length);if(this.$KeyframeAnimation8)k.$KeyframeAnimation2.set(q,o)}c("queryThenMutateDOM")(function(){},function(){this.$KeyframeAnimation13();c("CSS").addClass(l,o)}.bind(this))};k.prototype.restartAnimation=function(){"use strict";var l=this.$KeyframeAnimation3;c("CSS").removeClass(l,c("nullthrows")(this.$KeyframeAnimation5.get("animation-name")));l.offsetWidth;this.$KeyframeAnimation7=false;c("CSS").addClass(l,c("nullthrows")(this.$KeyframeAnimation5.get("animation-name")))};k.prototype.$KeyframeAnimation13=function(){"use strict";c("ReactTransitionEvents").addEndEventListener(this.$KeyframeAnimation3,this.$KeyframeAnimation14.bind(this))};k.prototype.$KeyframeAnimation12=function(l){"use strict";__p&&__p();var m="";m+="."+l+" {";for(var n=this.$KeyframeAnimation5,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;if(o){if(p>=n.length)break;q=n[p++]}else{p=n.next();if(p.done)break;q=p.value}var r=q,s=r[0],t=r[1];m+=s+": "+t+";"}m+="}";return m};k.prototype.$KeyframeAnimation10=function(){"use strict";__p&&__p();var l=this.$KeyframeAnimation5.get("animation-name"),m=void 0;if(c("UserAgent").isEngine("WebKit"))m="@-webkit-keyframes";else m="@keyframes";var n=m+" "+l+" {";for(var o=this.$KeyframeAnimation4,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r,t=s[0],u=s[1];n+=t+"% {"+u+"}"}return n+"}"};k.prototype.$KeyframeAnimation14=function(){"use strict";if(!this.$KeyframeAnimation7){if(this.$KeyframeAnimation6)this.$KeyframeAnimation6(this.$KeyframeAnimation3);this.$KeyframeAnimation7=true}};k.prototype.$KeyframeAnimation11=function(l){"use strict";return l.substring(l.indexOf("{")+1).toLowerCase().replace(/\s+/g,"")};f.exports=k}),null);
__d("CSSAnimationBuilder",["KeyframeAnimation"],(function a(b,c,d,e,f,g){var h={keyframeAnimation:function i(j){return new(c("KeyframeAnimation"))(j)}};f.exports=h}),null);
__d("MessengerDiscoveryEntryPoints",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BROWSER_PROFILE_ICON:"browser_profile_icon",MESSENGERDOTCOM:"messengerdotcom",MESSENGERDOTCOM_WEB_SEARCH:"messengerdotcom:web_search",FB_STORY:"fb_story",CHECKBOX_PLUGIN:"checkbox_plugin",SEARCH:"search",SEARCH_HOME:"search:home",SEARCH_PEOPLE:"search:people",SEARCH_GAMES:"search:games",SEARCH_DISCOVER:"search:discover",FB_PAGE:"fb_page",FB_PAGE_PAGE_HEADER:"fb_page:page_header",FB_PAGE_PRIMARY_MESSAGE_BUTTON:"fb_page:primary_message_button",FB_PAGE_SECONDARY_MESSAGE_BUTTON:"fb_page:secondary_message_button",FB_PAGE_FB_PAGE_CTA_PAGES_ACTIONS_UNIT:"fb_page:fb_page_cta_pages_actions_unit",FB_PAGE_JEWEL_THREAD:"fb_page:jewel_thread",FB_PAGE_USER_MESSAGE_PROMPT:"fb_page:user_message_prompt",FB_PAGE_PAGES_INFO:"fb_page:pages_info",FB_PAGE_LOADED_FROM_DATA:"fb_page:loaded_from_data",FB_PAGE_HOVER_CARD:"fb_page:hover_card",FB_PAGE_CHAT_SIDEBAR_TYPEAHEAD:"fb_page:chat_sidebar_typeahead",FB_PAGE_DYNAMICHOVERCARD:"fb_page:dynamicHoverCard",FB_PAGE_ABOUT_ROW:"fb_page:about_row",FB_PAGE_PYMM_RHC:"fb_page:pymm_rhc",FB_PAGE_GROUPS_RHC:"fb_page:groups_rhc",FB_PAGE_CONTEXT_CARD:"fb_page:context_card",FB_PAGE_CONTEXTUAL_RECOMMENDATIONS:"fb_page:contextual_recommendations",FB_PAGE_SEARCHENTITYCARD:"fb_page:searchEntityCard",FB_PAGE_MESSAGE_RECEIVED:"fb_page:message_received",FB_PAGE_PAGE_HOVERCARD:"fb_page:page_hovercard",FB_PAGE_QUESTION_TRIGGERED_CONVO:"fb_page:question_triggered_convo",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",FB_FEED:"fb_feed",FB_FEED_ORGANIC_FEED_STORY:"fb_feed:organic_feed_story",FB_FEED_ADS_FEED_STORY:"fb_feed:ads_feed_story",MDOTME:"mdotme",MDOTME_FBPAGE:"mdotme:fbpage",MDOTME_CHATEXTENSION:"mdotme:chatextension"})}),null);
__d("PagesMessengerLinkConfirmationDialog.react",["ix","cx","fbt","Image.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","XUIText.react","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=494;k=babelHelpers.inherits(n,c("React").Component);l=k&&k.prototype;n.prototype.render=function(){return c("React").createElement(c("XUIDialog.react"),{shown:this.props.shown,onToggle:function(o){return!o&&this.props.onDismiss}.bind(this),width:m},c("React").createElement(c("XUIDialogBody.react"),{className:"_3-95 _3pa-"},c("React").createElement(c("Image.react"),{className:"_3-97 _3-8x",src:"/images/pages/linkshare/checkmark.png"}),c("React").createElement(c("XUIText.react"),{size:"header3",display:"block"},j._("The Messenger Link was copied.")),c("React").createElement(c("XUIText.react"),{className:"_3-8y",display:"block",size:"header4"},j._("The Messenger Link was copied to your clipboard. Any person who clicks this link will be able to initiate a conversation with your Page."))),c("React").createElement(c("XUIDialogFooter.react"),{className:"_3pa_",fullbleedborder:"true",leftContent:c("React").createElement("div",null,c("React").createElement(c("Image.react"),{className:"_1-vn _3-8_",src:h("126379")}),c("React").createElement(c("XUIGrayText.react"),null,this.props.url))},c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:j._("Done"),onClick:this.props.onDismiss})))};function n(){k.apply(this,arguments)}f.exports=n}),null);
__d("XPagesOnlineIndicatorAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/messaging/show_online_indicator/",{page_id:{type:"FBID",required:true}})}),null);
__d("PagesMessageButton.react",["cx","fbt","ix","AsyncRequest","ChatOpenTabEventLogger","Clipboard","ContextualDialogArrow","ContextualLayerUpdateOnScroll","FantaTabActions","Image.react","InlineBlock.react","MenuSeparator.react","MercuryIDs","MessagingSourceEnum","PagesBlueMessageButtonQE","PagesEventObserver","PagesEventType","PagesMessengerLinkConfirmationDialog.react","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","XBasicFBNuxDismissController","XPagesOnlineIndicatorAsyncController","XUIAmbientNUX.react","XUIButton.react","XUIPopoverButton.react","fbglyph","joinClasses"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").Item,n=3997,o=j("114247"),p=j("127062");k=babelHelpers.inherits(q,c("React").Component);l=k&&k.prototype;function q(r){__p&&__p();l.constructor.call(this,r);this.$PagesMessageButton1=function(event){var s=this.props.pageID,t=c("MercuryIDs").getThreadIDFromUserID(s);c("FantaTabActions").openTab(t,[this.props.settings.ref]);c("ChatOpenTabEventLogger").logUserClickOpen(this.props.settings.ref,s)}.bind(this);this.$PagesMessageButton6=function(event){var s=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!s)return;c("Clipboard").copy(s);this.setState({linkDialogShown:true});c("PagesEventObserver").notify(c("PagesEventType").SHARED_MESSAGE_LINK_COPY,this.props.pageID,{source:c("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK})}.bind(this);this.$PagesMessageButton7=function(){this.setState({linkDialogShown:false})}.bind(this);this.$PagesMessageButton9=function(){this.setState({nuxDismissed:true})}.bind(this);this.$PagesMessageButton10=function(){this.setState({messengerLinkNUXDismissed:true});var s=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(s).send()}.bind(this);this.state={isOnline:false,linkDialogShown:false,messengerLinkNUXDismissed:false,nuxDismissed:false}}q.prototype.componentWillMount=function(){var r=c("XPagesOnlineIndicatorAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI();new(c("AsyncRequest"))().setURI(r).setHandler(function(s){var t=s.payload;this.setState({isOnline:t.showOnlneIndicator})}.bind(this)).send()};q.getButtonSize=function(r){return c("XUIButton.react").getButtonSize(r)};q.prototype.componentDidMount=function(){c("PagesEventObserver").notify(c("PagesEventType").MESSAGES_BUTTON_RENDER,this.props.pageID,{source:"refresh",logged_out:!this.props.settings.isLoggedIn,ref:this.props.settings.ref})};q.prototype.render=function(){__p&&__p();if(!this.props.settings.isLoggedIn)return null;var r=false;if(c("PagesBlueMessageButtonQE").showBlueSecondaryButton)r=true;var s=i._("Message");if(!this.props.settings.adminSettings)if(this.props.className)s=i._("Send Message");else if(this.props.settings.label)s=i._("{settings_label}",[i.param("settings_label",this.props.settings.label)]);var t=this.props.settings.adminSettings?c("React").createElement(c("XUIPopoverButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:c("React").createElement(c("Image.react"),{src:p}),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,"data-testid":"page-message-button"}):c("React").createElement(c("XUIButton.react"),{className:c("joinClasses")(this.props.className,"_p8f"),image:r?c("React").createElement(c("Image.react"),{src:this.props.className?null:o}):c("React").createElement(c("Image.react"),{src:this.props.className?null:p}),imageRight:this.$PagesMessageButton2(),label:s,onClick:this.$PagesMessageButton1,ref:"messageButton",size:this.props.size,use:r?"confirm":"default","data-testid":"page-message-button"});if(this.props.settings.adminSettings)t=c("React").createElement(c("PopoverMenu.react"),{className:c("joinClasses")(this.props.className,"_3u42"),alignh:"right",menu:this.$PagesMessageButton3(),behaviors:[c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")]},t,this.$PagesMessageButton4());return c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_3u43 _p8r"},t,this.$PagesMessageButton5())};q.prototype.$PagesMessageButton2=function(){if(!this.state.isOnline)return null;return c("React").createElement("span",{className:"_ljx"},c("React").createElement(c("Image.react"),{src:j("311942")}))};q.prototype.$PagesMessageButton3=function(){if(!this.props.settings.adminSettings)return null;var r=null;if(this.props.settings.adminSettings.messengerLinkURI)r=c("React").createElement(m,{onclick:this.$PagesMessageButton6},i._("Copy Messenger Link"));return c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{href:this.props.settings.adminSettings.inboxURI},i._("View Messages")),this.props.settings.adminSettings.messengerLinkURI?c("React").createElement(c("MenuSeparator.react"),null):null,r)};q.prototype.$PagesMessageButton4=function(){var r=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!r)return null;return c("React").createElement(c("PagesMessengerLinkConfirmationDialog.react"),{onDismiss:this.$PagesMessageButton7,shown:this.state.linkDialogShown,url:r})};q.prototype.$PagesMessageButton5=function(){if(this.props.settings.adminSettings&&this.props.settings.adminSettings.showMessengerLinkNUX)return this.$PagesMessageButton8();if(!this.props.settings.showNUX)return null;var r=this.props.pageCategory==="WORKPLACE_BOT"?i._("Send a message to this Bot."):i._("Send a message to this Page.");return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton9,position:"below",shown:!this.state.nuxDismissed,width:"auto"},r)};q.prototype.$PagesMessageButton8=function(){if(!this.props.settings.adminSettings||!this.props.settings.adminSettings.showMessengerLinkNUX)return null;return c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"right",autofocus:false,behaviors:{ContextualLayerUpdateOnScroll:c("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$PagesMessageButton10,position:"below",shown:!this.state.messengerLinkNUXDismissed,width:"wide"},i._("Now you can share a direct link that makes it easy for people to message your Page."))};f.exports=q}),null);
__d("PageMessageAction.react",["MessengerDiscoveryEntryPoints","PagesMessageButton.react","React"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.action;return c("React").createElement(c("PagesMessageButton.react"),{className:this.props.className,icon:this.props.icon,pageID:k.page.id,pageCategory:k.page.category_type,settings:{adminSettings:k.admin_inbox_url?{inboxURI:k.admin_inbox_url,messengerLinkURI:k.admin_messenger_link_url,showMessengerLinkNUX:k.admin_show_messenger_link_nux}:null,isLoggedIn:true,ref:c("MessengerDiscoveryEntryPoints").FB_PAGE_SECONDARY_MESSAGE_BUTTON,showNUX:k.show_nux,label:k.label.text},size:this.props.size})};function j(){h.apply(this,arguments)}f.exports=j}),null);
__d("XSavedForLaterDashboardController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/saved/",{collection_token:{type:"String"},tag_filter:{type:"String"},cref:{type:"Int"},suggestion_dialog:{type:"Int"},cursor:{type:"String"},notif_id:{type:"Int"},dashboard_section:{type:"Enum",enumType:1},cref_name:{type:"String"},a_type:{type:"String"},search_token:{type:"String"},list_id:{type:"Int"},tab:{type:"Enum",enumType:1}})}),null);
__d("PageSaveAction.react",["ix","fbt","ContextualDialogArrow","Image.react","PageActionOpenURLAsyncPost.react","PageActionURLHandlerType","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","URI","XSavedForLaterDashboardController","XUIPopoverButton.react","fbglyph"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("ReactXUIMenu").Item,k=function k(l){var m=l.action,n=m.url,o=m.url_handler_type,p=m.page;if(!p.has_viewer_saved)return c("React").createElement(c("PageActionOpenURLAsyncPost.react"),babelHelpers["extends"]({},l,{image:c("React").createElement(c("Image.react"),{src:h("127260")})}));var q=c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(j,{href:new(c("URI"))(n).getUnqualifiedURI(),key:"unsave",rel:c("PageActionURLHandlerType")[o]||null},i._("Unsave")),c("React").createElement(j,{href:c("XSavedForLaterDashboardController").getURIBuilder().getURI(),key:"view_saved"},i._("View Saved Items")));return c("React").createElement(c("PopoverMenu.react"),{behaviors:[c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:q},c("React").createElement(c("XUIPopoverButton.react"),{image:c("React").createElement(c("Image.react"),{src:h("116046")}),label:i._("Saved"),size:"large"}))};f.exports=k}),null);
__d("OptimisticVideoProgressBar.react",["cx","fbt","Arbiter","AsyncRequest","BUIProgressBar.react","ChannelConstants","React","Run","joinClasses"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes,m=5e3,n="video_encode";j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(){__p&&__p();var p,q;"use strict";for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={videoProgress:0,completed:false,encodeToken:{}},this.inactivityTimer=null,this.stopInactivityTimer=function(){clearTimeout(this.inactivityTimer)}.bind(this),this.resetInactivityTimer=function(u){this.stopInactivityTimer();this.inactivityTimer=this.startInactivityTimer(u)}.bind(this),this.getChannelType=function(){return c("ChannelConstants").getArbiterType(n)},this.onEncodeFinished=function(){this.stopInactivityTimer();this.state.encodeToken.unsubscribe();this.setState({videoProgress:100,completed:true})}.bind(this),this.onEncodeUpdate=function(u,v){if(v.obj.videoID!=this.props.videoID)return;this.resetInactivityTimer(this.props.videoID);if(v.obj.progress<this.state.videoProgress)return;if(v.obj.stage==="finish")this.onEncodeFinished();else this.setState({videoProgress:v.obj.progress,completed:this.state.completed||v.obj.stage==="finish"})}.bind(this),q}o.prototype.componentWillMount=function(){"use strict";var p=c("Arbiter").subscribe(this.getChannelType(),this.onEncodeUpdate);c("Run").onLeave(function(){return p.unsubscribe()});this.inactivityTimer=this.startInactivityTimer(this.props.videoID);this.setState({encodeToken:p})};o.prototype.componentWillUnmount=function(){"use strict";this.state.encodeToken.unsubscribe();this.stopInactivityTimer()};o.prototype.componentDidUpdate=function(p,q){"use strict";if(!q.completed&&this.state.completed)this.onComplete()};o.prototype.checkVideoStatus=function(p){"use strict";new(c("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:p}).setHandler(function(q){var r=q.getPayload();if(r.is_ready)this.onEncodeFinished(p);else this.inactivityTimer=this.startInactivityTimer(p)}.bind(this)).send()};o.prototype.startInactivityTimer=function(p){"use strict";return setTimeout(this.checkVideoStatus.bind(this,p),m)};o.prototype.onComplete=function(){"use strict";c("Arbiter").inform(this.props.onReadyEvent,{videoID:this.props.videoID,videoAssetID:this.props.videoAssetID,source:this.props.source})};o.prototype.render=function(){"use strict";var p=i._("FINISHED"),q=i._("PROCESSING"),r=this.state.completed?p:q;return c("React").createElement(c("BUIProgressBar.react"),{className:c("joinClasses")("_33bk",this.props.className),message:r,isComplete:this.state.completed,percentage:this.state.videoProgress,width:this.props.width})};o.propTypes={videoID:l.string.isRequired,videoAssetID:l.string||null,width:l.number.isRequired,onReadyEvent:l.string.isRequired,source:l.string};f.exports=o}),null);
__d("PageNewsFeedStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","ProfileSubFollowStatus"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){__p&&__p();var m=babelHelpers["extends"]({},k);switch(l.type){case c("PagesLikeFollowNotifActions").INIT_DATA:if(l.data.pageID in k)return k;m[l.data.pageID]=l.data.newsFeedStatus;return m;case c("PagesLikeFollowNotifActions").NEWS_FEED_CHANGE:m[l.data.pageID]=l.data.newsFeedStatus;return m;case c("PagesLikeFollowNotifActions").LIKE:if(l.data.pageID in k&&m[l.data.pageID]!==c("ProfileSubFollowStatus").SEE_FIRST||!(l.data.pageID in k))m[l.data.pageID]=c("ProfileSubFollowStatus").REGULAR_FOLLOW;return m}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesLikeFollowNotifDispatcher"))}),null);
__d("PageNotifOptionSettingType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ON:"on",OFF:"off"})}),null);
__d("PagesGetNotificationStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PageNotifOptionSettingType"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){__p&&__p();var m=babelHelpers["extends"]({},k);switch(l.type){case c("PagesLikeFollowNotifActions").INIT_DATA:if(l.data.pageID in k)return k;m[l.data.pageID]=l.data.notifStatus;return m;case c("PagesLikeFollowNotifActions").NOTIF_CHANGE:m[l.data.pageID]=babelHelpers["extends"]({},k[l.data.pageID]);m[l.data.pageID][l.data.type]=l.data.state;return m;case c("PagesLikeFollowNotifActions").NOTIF_ALL_ON:Object.keys(k[l.data.pageID]).map(function(n){m[l.data.pageID][n]=c("PageNotifOptionSettingType").ON});return m;case c("PagesLikeFollowNotifActions").NOTIF_ALL_OFF:Object.keys(k[l.data.pageID]).map(function(n){m[l.data.pageID][n]=c("PageNotifOptionSettingType").OFF});return m}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesLikeFollowNotifDispatcher"))}),null);
__d("PageGetNotificationConstants",["fbt","keyMirror"],(function a(b,c,d,e,f,g,h){var i={Events:c("keyMirror")({CHANGE:null,NEWSFEED_CHANGE:null,NOTIFICATION_CHANGE:null}),Title:{video:h._("Videos"),photo:h._("Photos"),link:h._("Links"),others:h._("Status Updates"),event:h._("Events"),live_video:h._("Live Videos"),episode:h._("Episodes"),offer:h._("Offers"),all_posts:h._("All Posts"),none:h._("None"),all_on:h._("All On"),on:h._("On")},NewsFeedTitle:{unfollow:h._("Unfollow"),see_first:h._("See First"),follow:h._("Default")},LiveVideoTitle:{inferred:h._("Suggested Live Videos"),on:h._("All Live Videos")},PostTitle:{highlight:h._("Highlight Posts"),on:h._("Posts")},PostSubscriptionType:c("keyMirror")({video:null,photo:null,link:null,others:null}),PostSubscriptionTypeArray:["video","photo","link","others"],EventSubscriptionType:c("keyMirror")({event:null}),LiveVideoSubscriptionType:c("keyMirror")({live_video:null}),PagePostSubscriptionType:c("keyMirror")({post:null}),OfferSubscriptionType:c("keyMirror")({offer:null}),EpisodeSubscriptionType:c("keyMirror")({episode:null})};f.exports=i}),null);
__d("PageGetNotificationUtil",["PageGetNotificationConstants","PageNotifOptionSettingType"],(function a(b,c,d,e,f,g){__p&&__p();var h={subtitleForPageGetNotification:function i(j){__p&&__p();var k,l=[],m=c("PageGetNotificationConstants").PagePostSubscriptionType.post;if(m in j){var n=c("PageGetNotificationConstants").PostTitle[j[m]];if(n)l.push(n)}else(function(){__p&&__p();var q=c("PageGetNotificationConstants").PostSubscriptionType;Object.keys(q).map(function(s){return q[s]=j[s]===c("PageNotifOptionSettingType").ON});var r=Object.values(q).filter(function(s){return!s}).length===0;if(r)l.push(c("PageGetNotificationConstants").Title.all_posts);else c("PageGetNotificationConstants").PostSubscriptionTypeArray.map(function(s){if(q[s])l.push(c("PageGetNotificationConstants").Title[s])})})();if(j[c("PageGetNotificationConstants").EventSubscriptionType.event]===c("PageNotifOptionSettingType").ON)l.push(c("PageGetNotificationConstants").Title.event);if(j[c("PageGetNotificationConstants").OfferSubscriptionType.offer]===c("PageNotifOptionSettingType").ON)l.push(c("PageGetNotificationConstants").Title.offer);var o=c("PageGetNotificationConstants").LiveVideoSubscriptionType.live_video,p=c("PageGetNotificationConstants").LiveVideoTitle[j[o]];if(p)l.push(p);if(j[c("PageGetNotificationConstants").EpisodeSubscriptionType.episode]===c("PageNotifOptionSettingType").ON)l.push(c("PageGetNotificationConstants").Title.episode);return l.length===0?c("PageGetNotificationConstants").Title.none:l.join(", ")},isNotifStatusOn:function i(j){return Object.values(j).filter(function(k){return k!==c("PageNotifOptionSettingType").OFF}).length>0},isNotifStatusAllOn:function i(j){return Object.values(j).filter(function(k){return k!==c("PageNotifOptionSettingType").ON}).length===0},titleForTurnOnNotificationOption:function i(j){if(!this.isNotifStatusOn(j))return c("PageGetNotificationConstants").Title.all_on;return[this.isNotifStatusAllOn(j)?c("PageGetNotificationConstants").Title.all_on:c("PageGetNotificationConstants").Title.on," (",this.subtitleForPageGetNotification(j),")"].join("")}};f.exports=h}),null);
__d("XPageFollowMutatorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/page/follow_mutator/",{page_id:{type:"Int",required:true},status:{type:"Bool",defaultValue:false},location:{type:"Enum",required:true,enumType:0}})}),null);
__d("XPageGetNewsFeedSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/save_get_news_feed/",{page_id:{type:"Int",required:true},follow:{type:"Enum",required:true,enumType:1},ref:{type:"Enum",enumType:1},location:{type:"Enum",enumType:0}})}),null);
__d("XPageGetNotificationSaveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/save_get_notification/",{page_id:{type:"Int",required:true},type:{type:"Enum",enumType:1},all_notif:{type:"Bool",defaultValue:false},status:{type:"Bool",defaultValue:false},ref:{type:"Enum",required:true,enumType:1}})}),null);
__d("XPageUserFanningSettingsDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/get_notification/",{tab:{type:"Enum",enumType:1},page_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}})}),null);
__d("XUnsnoozeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/async/nf-controls/snooze/unsnooze/",{})}),null);
__d("PagesLikeFollowHelper",["ix","cx","fbt","AsyncRequest","Image.react","Layout.react","Link.react","React","ReactXUIMenu","PageGetNotificationUtil","ProfileSubFollowStatus","PagesLikeFollowNotifDispatcher","PagesLikeFollowNotifActions","PagesProfileTestID","XPageFollowMutatorController","XPageGetNewsFeedSaveController","XPageGetNotificationSaveController","XPageUserFanningSettingsDialogController","XUnsnoozeController","XUIMenuStaticItem.react","collectDataAttributes","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=c("Layout.react").Column,l=c("Layout.react").FillColumn,m=c("ReactXUIMenu").SelectableItem,n={newsfeedTitleMenuItem:function o(p){var q=c("XPageUserFanningSettingsDialogController").getURIBuilder().setEnum("tab","newsfeed").setInt("page_id",p).getURI(),r=j._("IN YOUR NEWS FEED");return this._getStaticMenuItem(r,q,"newsfeed_header")},notificationTitleMenuItem:function o(p){var q=c("XPageUserFanningSettingsDialogController").getURIBuilder().setEnum("tab","notif").setInt("page_id",p).getURI(),r=j._("NOTIFICATIONS");return this._getStaticMenuItem(r,q,"notification_header")},_getStaticMenuItem:function o(p,q,r){return c("React").createElement(c("XUIMenuStaticItem.react"),{className:"pageLikeHoverButton/headerItem",key:r},c("React").createElement(c("Layout.react"),null,c("React").createElement(l,null,c("React").createElement("div",{className:"_47vj"},p)),c("React").createElement(k,null,c("React").createElement(c("Link.react"),{href:"#",ajaxify:q,rel:"dialog"},c("React").createElement(c("Image.react"),{src:h("124952")})))))},newsfeedMenuItem:function o(p,q,r){return c("React").createElement(m,{className:"_4bjg"+(r===q?" _5jwm":""),"data-testid":q==c("ProfileSubFollowStatus").SEE_FIRST?c("PagesProfileTestID").SEE_FIRST_ITEM:c("PagesProfileTestID").DEFAULT_FOLLOW_ITEM,key:q,onclick:function(){return this.onNewsFeedChange(p,q)}.bind(this),selected:false},c("React").createElement(c("Image.react"),{className:"_47vl",src:h("128986")}),c("React").createElement(c("Image.react"),{className:"_47vm",src:h("114569")}),c("React").createElement("div",{className:"_5jwn"},this.newsfeedNewsfeedItemText(q)))},newsfeedNewsfeedItemText:function o(p){var q=null;switch(p){case c("ProfileSubFollowStatus").SEE_FIRST:q=j._("See First");break;case c("ProfileSubFollowStatus").REGULAR_FOLLOW:q=j._("Default");break;case c("ProfileSubFollowStatus").UNFOLLOW:q=j._("Unfollow");break}return q},notificationMenuItem:function o(p,q,r,s){var t=q?c("PageGetNotificationUtil").titleForTurnOnNotificationOption(s):j._("All Off");return c("React").createElement(m,{className:"_4bjg"+(r?" _5jwm":""),key:"off",onclick:function(){return this._onNotificationsClick(p,q)}.bind(this),selected:false},c("React").createElement(c("Image.react"),{className:"_47vl",src:h("128986")}),c("React").createElement(c("Image.react"),{className:"_47vm",src:h("114569")}),c("React").createElement("div",{className:"_5jwn"},t))},onNewsFeedChange:function o(p,q){this._informNewsFeedChange(p,q);var r=c("XPageGetNewsFeedSaveController").getURIBuilder().setInt("page_id",p).setEnum("follow",q).setEnum("ref","dialog").getURI();new(c("AsyncRequest"))().setURI(r).setHandler(function(s){var t=s.payload;this._informFollowChange(p,t.followStatus)}.bind(this)).send()},onFollowChange:function o(p,q){var r=arguments.length<=2||arguments[2]===undefined?0:arguments[2],s=arguments[3];this._informFollowChange(p,q);if(q)this._informNewsFeedChange(p,c("ProfileSubFollowStatus").REGULAR_FOLLOW);var t=!!r?r:141,u=c("XPageFollowMutatorController").getURIBuilder().setInt("page_id",p).setBool("status",q).setEnum("location",t).getURI();new(c("AsyncRequest"))().setURI(u).setHandler(function(v){s&&s()}).send()},onFollowChangeWithTrackingData:function o(p,q,r){var s=arguments.length<=3||arguments[3]===undefined?0:arguments[3],t=arguments[4],u={ft:{}};if(p)u={ft:c("collectDataAttributes")(p,["ft"]).ft};this._informFollowChange(q,r);if(r)this._informNewsFeedChange(q,c("ProfileSubFollowStatus").REGULAR_FOLLOW);var v=!!s?s:141,w=c("XPageFollowMutatorController").getURIBuilder().setInt("page_id",q).setBool("status",r).setEnum("location",v).getURI();new(c("AsyncRequest"))().setURI(w).setData(u).setHandler(function(x){t&&t()}).send()},onSnoozeChange:function o(p,q){this._informSnoozeChange(p,q);var r=c("XUnsnoozeController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(r).setData({snoozee_id:p}).setMethod("POST").setHandler(function(s){if(s.getPayload()===false)this._informSnoozeChange(p,true)}.bind(this)).setErrorHandler(function(){return this._informSnoozeChange(p,true)}.bind(this)).send()},_informNewsFeedChange:function o(p,q){c("PagesLikeFollowNotifDispatcher").dispatch({type:c("PagesLikeFollowNotifActions").NEWS_FEED_CHANGE,data:{pageID:p,newsFeedStatus:q}})},_informSnoozeChange:function o(p,q){c("PagesLikeFollowNotifDispatcher").dispatch({type:c("PagesLikeFollowNotifActions").SNOOZE_CHANGED,data:{pageID:p,snoozeStatus:q}})},_onNotificationsClick:function o(p,q,r){this._informNotificationChange(p,q);var s=c("XPageGetNotificationSaveController").getURIBuilder().setInt("page_id",p).setBool("status",q).setBool("all_notif",true).setEnum("ref","www_timeline").getURI();new(c("AsyncRequest"))().setURI(s).setHandler(function(t){this._informFollowChange(p,t.payload.followStatus)}.bind(this)).send()},_informFollowChange:function o(p,q){c("PagesLikeFollowNotifDispatcher").dispatch({type:c("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:p,followStatus:q}})},_informNotificationChange:function o(p,q){var r=q?c("PagesLikeFollowNotifActions").NOTIF_ALL_ON:c("PagesLikeFollowNotifActions").NOTIF_ALL_OFF;c("PagesLikeFollowNotifDispatcher").dispatch({type:r,data:{pageID:p}})}};f.exports=n}),null);
__d("PagesHeaderLikeButton.react",["ix","cx","fbt","BootloadedComponent.react","ContextualDialogArrow","DOM","Image.react","JSResource","PageGetNotificationUtil","PageLikeButton","ProfileSubFollowStatus","PagesLikeButtonAnimationGKConfig","PagesLikeFollowHelper","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","React","ReactDOM","ReactXUIMenu","PagesProfileTestID","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUISpinner.react","fbglyph","goURI"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("ReactXUIMenu").SelectableMenu,n=c("ReactXUIMenu").Item;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.state={changeToLiked:false}}o.getButtonSize=function(p){return c("XUIButton.react").getButtonSize(p)};o.prototype.componentWillReceiveProps=function(p){if(p.likeStatus!==this.props.likeStatus&&p.likeStatus)this.setState({changeToLiked:true})};o.prototype.render=function(){__p&&__p();if(!this.props.likeStatus)return this.$PagesHeaderLikeButton1();else if(this.props.disableDropdown)return this.$PagesHeaderLikeButton2();var p=[c("React").createElement(n,{"data-testid":c("PagesProfileTestID").UNLIKE_PAGE_ITEM,key:"Unlike."+this.props.pageID,onclick:function(event){return this.$PagesHeaderLikeButton3(event)}.bind(this)},j._("Unlike this Page"))];if(!this.props.followAllowed){p.push(c("React").createElement(c("XUIMenuSeparator.react"),{key:"like_seperator"}));p.push(c("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID));p.push(c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus));p.push(c("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,c("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus));var q=c("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);p.push(c("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID));p.push(c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,true,q,this.props.notifStatus));p.push(c("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,false,!q,this.props.notifStatus))}return c("React").createElement(c("PopoverMenu.react"),{alignh:"right",behaviors:[c("PopoverMenuOverlappingBorder"),c("PopoverMenuShowOnHover")],layerBehaviors:[c("ContextualDialogArrow")],menu:c("React").createElement(m,{className:this.props.followAllowed?null:"_4bje",multiple:true},p)},this.$PagesHeaderLikeButton4())};o.prototype.$PagesHeaderLikeButton1=function(){return c("React").createElement(c("XUIButton.react"),{className:"likeButton","data-testid":this.props.origin+c("PagesProfileTestID").LIKE_BUTTON_ID,image:c("React").createElement(c("Image.react"),{src:h("127974")}),label:j._("Like"),onClick:function(event){return this.$PagesHeaderLikeButton5(event)}.bind(this),size:this.props.size})};o.prototype.$PagesHeaderLikeButton2=function(){return c("React").createElement(c("XUIButton.react"),{className:"likedButton",image:c("React").createElement(c("Image.react"),{src:h("116760")}),label:j._("Liked"),onClick:function(event){return this.$PagesHeaderLikeButton3(event)}.bind(this),size:this.props.size})};o.prototype.$PagesHeaderLikeButton4=function(){var p=c("PagesLikeButtonAnimationGKConfig").show_animation;return c("React").createElement(c("XUIPopoverButton.react"),{className:"likedButton"+(this.state.changeToLiked&&p?" _2ws0":"")+(this.state.changeToLiked&&p?" _be8":""),"data-testid":this.props.origin+c("PagesProfileTestID").LIKED_BUTTON_ID,image:c("React").createElement(c("Image.react"),{className:this.state.changeToLiked&&p?"_2wsk":"",src:h("116760")}),label:j._("Liked"),size:this.props.size})};o.prototype.$PagesHeaderLikeButton3=function(event){c("PageLikeButton").doUnlikeAction(event,this.props.pageID,this.props.origin,this.props.actorID)};o.prototype.$PagesHeaderLikeButton5=function(event){if(!this.props.pageID||!this.props.actorID)c("goURI")("/");if(this.props.showUnpublishPageDialog)this.$PagesHeaderLikeButton6();c("PageLikeButton").doLikeAction(event.target,this.props.pageID,this.props.origin,this.props.actorID)};o.prototype.$PagesHeaderLikeButton6=function(){c("ReactDOM").render(c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("PageUnpublishPageLikeWarningDialog.react").__setRef("PagesHeaderLikeButton.react"),bootloadPlaceholder:c("React").createElement(c("XUISpinner.react"),null),pageid:this.props.pageID,pageName:this.props.pageName}),c("DOM").create("div"))};f.exports=o}),null);
__d("PagesLikeStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){var m=babelHelpers["extends"]({},k);switch(l.type){case c("PagesLikeFollowNotifActions").LIKE:case c("PagesLikeFollowNotifActions").UNLIKE:case c("PagesLikeFollowNotifActions").INIT_DATA:m[l.data.pageID]=l.data.likeStatus}return m};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesLikeFollowNotifDispatcher"))}),null);
__d("PagesSnoozeStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("FluxReduceStore"));i=h&&h.prototype;j.prototype.getInitialState=function(){return{}};j.prototype.reduce=function(k,l){var m=babelHelpers["extends"]({},k);switch(l.type){case c("PagesLikeFollowNotifActions").SNOOZE_CHANGED:case c("PagesLikeFollowNotifActions").INIT_DATA:m[l.data.pageID]=babelHelpers["extends"]({},m[l.data.pageID]);m[l.data.pageID].status=l.data.snoozeStatus;m[l.data.pageID].data=l.data.snoozeData||m[l.data.pageID].data}return m};function j(){h.apply(this,arguments)}f.exports=new j(c("PagesLikeFollowNotifDispatcher"))}),null);
__d("PagesHeaderLikeButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderLikeButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React","XUIButton.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.getButtonSize=function(k){return c("XUIButton.react").getButtonSize(k)};j.getStores=function(){return[c("PagesLikeStore"),c("PagesFollowStore"),c("PagesSnoozeStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]};j.calculateState=function(k,l){var m=c("PagesLikeStore").getState(),n=c("PagesFollowStore").getState(),o=c("PagesSnoozeStore").getState()[l.pageID]||{},p=c("PagesGetNotificationStore").getState(),q=c("PageNewsFeedStore").getState(),r={pageID:l.pageID,pageName:l.pageName,actorID:l.actorID,followAllowed:l.followAllowed,newsFeedStatus:q[l.pageID],disableDropdown:l.disableDropdown,likeStatus:m[l.pageID],followStatus:n[l.pageID],snoozeStatus:o.status,snoozeData:o.data,notifStatus:babelHelpers["extends"]({},p[l.pageID]),origin:l.origin,size:l.size,showUnpublishPageDialog:l.showUnpublishPageDialog,shouldShowFollowPrivacyNux:l.shouldShowFollowPrivacyNux,blueFollowButton:l.blueFollowButton,shouldShowFollowButtonNux:l.shouldShowFollowButtonNux};return r};j.prototype.componentWillMount=function(){c("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([c("PagesLikeStore"),c("PagesFollowStore"),c("PageNewsFeedStore"),c("PagesGetNotificationStore")]);c("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:c("PagesLikeFollowNotifActions").INIT_DATA})};j.prototype.render=function(){return c("React").createElement(c("PagesHeaderLikeButton.react"),this.state)};function j(){h.apply(this,arguments)}f.exports=c("FluxContainer").create(j,{withProps:true})}),null);
__d("XControllerWithPageTokenURIUpdater",[],(function a(b,c,d,e,f,g){var h={updateURI:function i(j){window.history&&window.history.replaceState(window.history.state,null,j)}};f.exports=h}),null);
__d("ReactTargetingTaggerStore.react",["ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){var l={};l[c("ReactComposerTaggerType").TARGETING]={};return{taggersData:l,taggersSource:{}}},function(l){if(l.type===c("ReactComposerTaggerActionType").SET_TAGGER_DATA)k&&k.$ReactTargetingTaggerStore1(l)});k=this}j.prototype.getTaggerData=function(k,l){"use strict";return this.getComposerData(k).taggersData[l]};j.prototype.$ReactTargetingTaggerStore1=function(k){"use strict";var l=this.getComposerData(k.composerID),m=Array.isArray(k.taggerData)?k.taggerData.slice():Object.assign({},k.taggerData);l.taggersData[k.taggerID]=m;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("XPagesGetTargetingMetadataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/targeting/metadata/",{page_id:{type:"Int",required:true},target_spec:{type:"String",required:true}})}),null);
__d("ReactComposerTargetingUtils",["fbt","AsyncRequest","React","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactTargetingTaggerStore.react","XPagesGetTargetingMetadataController","XUIText.react","curry","intlList"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={fetchMetadata:function j(k,l,m){var n=c("XPagesGetTargetingMetadataController").getURIBuilder().setInt("page_id",l).setString("target_spec",JSON.stringify(k)).getURI();new(c("AsyncRequest"))().setURI(n).setHandler(c("curry")(this._onFetchMetadataHandler,m)).send()},_onFetchMetadataHandler:function j(k,l){var m=l.payload,n=m.sentences.map(function(o){return c("React").createElement("span",null,h._("{content_label} {children}",[h.param("content_label",c("React").createElement(c("XUIText.react"),{weight:"bold"},o.content)),h.param("children",c("intlList")(o.children,c("intlList").CONJUNCTIONS.OR))]))});k(JSON.parse(m.target_spec),c("React").createElement("span",null,c("intlList")(n,c("intlList").CONJUNCTIONS.NONE)),m.reach_estimate)},getDataFromComposerTaggerStore:function j(k){return c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").TARGETING)},getDataFromTargetingTaggerStore:function j(k){return c("ReactTargetingTaggerStore.react").getTaggerData(k,c("ReactComposerTaggerType").TARGETING)},setData:function j(k,l){var m={},n=["targeting","gating","hints","targetingSentences","gatingSentences","reachEstimate"];n.map(function(o){if(l[o])m[o]=l[o]});c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(k,c("ReactComposerTaggerType").TARGETING,m)}};f.exports=i}),null);
__d("Keyframes.react",["Keyframes","React","createCancelableFunction"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;function j(l){var m=l.width,n=l.height,o={width:m||0,height:n||0};return c("React").createElement("div",{style:o})}h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={renderer:null},m}k.prototype.seekToProgress=function(l){this.state.renderer&&this.state.renderer.seekToProgress(l)};k.prototype.componentDidMount=function(){this.$KeyframesReact4(this.props.source)};k.prototype.componentWillUnmount=function(){this.state.renderer&&this.state.renderer.pause();this.$KeyframesReact2&&this.$KeyframesReact2.cancel();this.$KeyframesReact3&&this.$KeyframesReact3.cancel()};k.prototype.componentDidUpdate=function(l,m){__p&&__p();if(this.props.source!==l.source||this.props.projectName!==l.projectName||this.props.assetName!==l.assetName||this.props.assetID!==l.assetID)this.$KeyframesReact4(this.props.source);else{var n=this.state.renderer;if(n!==m.renderer)this.$KeyframesReact5(m.renderer,n);else if(n){if(l.width!==this.props.width||l.height!==this.props.height){n.resetDimensions();if(this.props.width)n.setWidth(this.props.width);if(this.props.height)n.setHeight(this.props.height)}if(l.repeatCount!==this.props.repeatCount)n.repeatCount(this.props.repeatCount);if(l.onError!==this.props.onError)n.onError(this.props.onError);if(l.onRepeatEnd!==this.props.onRepeatEnd)n.onRepeatEnd(this.props.onRepeatEnd);if(l.onProgress!==this.props.onProgress)n.onProgress(this.props.onProgress);if(l.initialProgress!==this.props.initialProgress)n.seekToProgress(this.props.initialProgress);if(l.playing!==this.props.playing)if(this.props.playing)n.play();else{n.pause();if(this.props.resetOnPause)n.repeatCount(this.props.repeatCount).seekToProgress(this.props.initialProgress)}n.redrawIfNeeded()}}};k.prototype.$KeyframesReact5=function(l,m){__p&&__p();if(!this.$KeyframesReact1)return;if(m){m.onError(this.props.onError).onRepeatEnd(this.props.onRepeatEnd).onProgress(this.props.onProgress).repeatCount(this.props.repeatCount);if(this.props.width)m.setWidth(this.props.width);if(this.props.height)m.setHeight(this.props.height);if(this.props.initialProgress)m.seekToProgress(this.props.initialProgress);this.props.playing?m.play():m.pause();m.redrawIfNeeded()}if(l&&m)this.$KeyframesReact1.replaceChild(m.getElement(),l.getElement());else{l&&this.$KeyframesReact1.removeChild(l.getElement());m&&this.$KeyframesReact1.appendChild(m.getElement())}};k.prototype.$KeyframesReact6=function(l){this.setState({renderer:l});if(this.props.onLoad)this.props.onLoad(l)};k.prototype.$KeyframesReact7=function(){this.setState({renderer:null})};k.prototype.$KeyframesReact4=function(l){__p&&__p();this.$KeyframesReact2&&this.$KeyframesReact2.cancel();this.$KeyframesReact3&&this.$KeyframesReact3.cancel();if(!l){this.$KeyframesReact7();return}else{this.$KeyframesReact2=c("createCancelableFunction")(this.$KeyframesReact6.bind(this));this.$KeyframesReact3=c("createCancelableFunction")(this.$KeyframesReact7.bind(this));if(l instanceof ArrayBuffer)c("Keyframes").requestRendererFromBytes(l,this.$KeyframesReact8()).done(this.$KeyframesReact2,this.$KeyframesReact3);else if(this.props.unstable_packageIndex!=null)c("Keyframes").requestRendererFromPackage(l,this.props.unstable_packageIndex,{projectName:this.props.projectName,assetName:this.props.assetName||"__FIXME__missing_react_asset_name",packageName:this.props.unstable_packageName||"__FIXME__missing_react_package_name"}).done(this.$KeyframesReact2,this.$KeyframesReact3);else c("Keyframes").requestRenderer(l,this.$KeyframesReact8()).done(this.$KeyframesReact2,this.$KeyframesReact3)}};k.prototype.$KeyframesReact8=function(){if(this.props.assetID)return{projectName:this.props.projectName,assetID:this.props.assetID};return{projectName:this.props.projectName,assetName:this.props.assetName||"__FIXME__missing_react_asset_name"}};k.prototype.render=function(){var l=this.props,m=l.className,n=l.height,o=l.style,p=l.width;return c("React").createElement("div",{className:m,ref:function(q){return this.$KeyframesReact1=q}.bind(this),style:babelHelpers["extends"]({display:"inline-block",fontSize:0},o)},!this.state.renderer?this.props.placeholder||c("React").createElement(j,{width:p,height:n}):null)};k.defaultProps={initialProgress:0,resetOnPause:false,playing:true,repeatCount:Infinity};f.exports=k}),null);
__d("UFIReactionsAnimatedKeyframesIcon.react",["Keyframes.react","React","UFIReactionsKeyframesAssets","UFIReactionTypes"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").PureComponent);i=h&&h.prototype;j.supportsReaction=function(k){"use strict";return!!c("UFIReactionsKeyframesAssets").reactions[k]};j.prototype.render=function(){"use strict";var k=this.props,l=k.animate,m=k.className,n=k.maxSize,o=k.reactionID,p=k.usePackage,q=c("UFIReactionsKeyframesAssets").initialProgress[o]||0,r=p?c("UFIReactionsKeyframesAssets")["package"].name:undefined,s=p?c("UFIReactionsKeyframesAssets")["package"].ids[o]:undefined,t=p&&s!=null?c("UFIReactionsKeyframesAssets")["package"].uri:c("UFIReactionsKeyframesAssets").reactions[o];return!t?c("React").createElement("div",{style:{width:n,height:n}}):c("React").createElement(c("Keyframes.react"),{projectName:"feedback_reactions",assetName:c("UFIReactionTypes").reactions[o].name,className:m,source:t,width:n,height:n,playing:l,initialProgress:q,resetOnPause:true,unstable_packageName:r,unstable_packageIndex:s})};function j(){"use strict";h.apply(this,arguments)}j.defaultProps={usePackage:false};f.exports=j}),null);
__d("SUIActionMenuConstants",[],(function a(b,c,d,e,f,g){"use strict";var h=12;f.exports={ACTION_MENU_ITEM_HORIZONTAL_PADDING:h}}),null);
__d("divisorSignedModulo",[],(function a(b,c,d,e,f,g){function h(i,j){return(i%j+j)%j}f.exports=h}),null);
__d("wrapIndex",["divisorSignedModulo"],(function a(b,c,d,e,f,g){"use strict";function h(i,j){return c("divisorSignedModulo")(i,j)}f.exports=h}),null);
__d("SUIActionMenu.react",["Locale","Map","React","ReactDOM","RTLKeys","SUIActionMenuConstants","SUIComponent","SUIFocusUtil","SUISubActionMenuLayer.react","SUITheme","wrapIndex"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j,k,l,m,n,o,p,q,r=c("SUIActionMenuConstants").ACTION_MENU_ITEM_HORIZONTAL_PADDING,s=1,t=4;h=babelHelpers.inherits(u,c("SUIComponent"));i=h&&h.prototype;function u(B){__p&&__p();i.constructor.call(this,B);this.$SUIActionMenu1=null;this.$SUIActionMenu2=new(c("Map"))();this.$SUIActionMenu6=function(C){var D=this.state.flattenedEntries,E=D[C];if(E&&A(E.item)){E.item.onClick&&E.item.onClick();this.props.onItemClick&&this.props.onItemClick()}}.bind(this);this.$SUIActionMenu7=function(C){var D=this.state.flattenedEntries,E=D[C];if(E&&A(E.item))this.$SUIActionMenu4(C);else this.$SUIActionMenu4(null)}.bind(this);this.$SUIActionMenu8=function(C,D){if(!D){var E=c("ReactDOM").findDOMNode(this);if(E instanceof HTMLElement)c("SUIFocusUtil").setFocus(E)}this.setState({activeSubmenuIndex:D?C:null})}.bind(this);this.$SUIActionMenu9=function(){this.$SUIActionMenu4(null)}.bind(this);this.$SUIActionMenu10=function(event){__p&&__p();var C=this.state,D=C.activeSubmenuIndex,E=C.highlightedIndex,F=this.state.flattenedEntries,G=0,H=c("RTLKeys").getRight();switch(event.keyCode){case c("RTLKeys").RETURN:case c("RTLKeys").SPACE:event.preventDefault();if(E!==null){var I=F[E].item;if(I.type==="submenu")this.setState({activeSubmenuIndex:E});else this.$SUIActionMenu6(E)}break;case c("RTLKeys").UP:event.preventDefault();G=-1;break;case c("RTLKeys").DOWN:event.preventDefault();G=1;break;case H:event.preventDefault();if(E!==null&&D!==E){var J=F[E].item;if(J.type==="submenu")this.setState({activeSubmenuIndex:E})}break}if(G===0)return;if(!F.some(function(L){var M=L.item;return A(M)}))return;var K=this.state.highlightedIndex!==null?c("wrapIndex")(this.state.highlightedIndex+G,F.length):G===1?0:F.length-1;while(!A(F[K].item))K=c("wrapIndex")(K+G,F.length);this.$SUIActionMenu4(K)}.bind(this);this.state={highlightedIndex:null,activeSubmenuIndex:null,flattenedEntries:this.$SUIActionMenu3(B.items)}}u.prototype.componentWillReceiveProps=function(B){if(B.items!==this.props.items)this.setState({flattenedEntries:this.$SUIActionMenu3(B.items)})};u.prototype.componentDidMount=function(){if(this.props.focusFirstElementOnMount)this.$SUIActionMenu4(0)};u.prototype.componentWillUnmount=function(){this.$SUIActionMenu5()};u.prototype.$SUIActionMenu4=function(B){this.setState({highlightedIndex:B,activeSubmenuIndex:null});this.$SUIActionMenu5();this.$SUIActionMenu1=setTimeout(function(){var C=B!==null&&this.$SUIActionMenu2.get(B);if(C)C.focus()}.bind(this),0)};u.prototype.$SUIActionMenu5=function(){if(this.$SUIActionMenu1){clearTimeout(this.$SUIActionMenu1);this.$SUIActionMenu1=null}};u.prototype.$SUIActionMenu3=function(B){__p&&__p();var C=[];B.forEach(function(D,E){__p&&__p();switch(D.type){case"item":C.push({isIndented:false,item:D});break;case"separator":C.push({isIndented:false,item:D});break;case"submenu":C.push({isIndented:false,item:D});break;case"group":if(E!==0)C.push({isIndented:false,item:{type:"separator"}});C.push({isIndented:false,item:D});D.items.forEach(function(F){C.push({isIndented:true,item:F})});if(E!==B.length-1&&B[E+1].type==="item")C.push({isIndented:false,item:{type:"separator"}});break;default:D.type}});return C};u.prototype.render=function(){__p&&__p();var B=c("SUITheme").get(this).SUIActionMenu,C=this.state.flattenedEntries;return c("React").createElement("ul",{id:this.props.id,onKeyDown:this.$SUIActionMenu10,onMouseLeave:this.$SUIActionMenu9,role:"menu",style:{backgroundColor:B.backgroundColor,borderColor:B.borderColor,borderStyle:"solid",borderWidth:s,outline:"none",paddingBottom:t,paddingTop:t},tabIndex:"0"},C.map(function(D,E){__p&&__p();var F=D.item,G=D.isIndented;switch(F.type){case"item":return c("React").createElement(v,{index:E,isDisabled:!!F.isDisabled,isHighlighted:E===this.state.highlightedIndex,isIndented:G,key:E,label:F.label,onClick:this.$SUIActionMenu6,onMouseEnter:this.$SUIActionMenu7,ref:function(H){return H&&this.$SUIActionMenu2.set(E,H)}.bind(this),rightContent:F.rightContent,uniform:B});case"submenu":return c("React").createElement(w,{index:E,isDisabled:!!F.isDisabled,isHighlighted:E===this.state.highlightedIndex,isIndented:G,isSubmenuOpen:E===this.state.activeSubmenuIndex,items:F.items,key:E,label:F.label,onItemClick:this.$SUIActionMenu6,onMouseEnter:this.$SUIActionMenu7,onSubmenuVisibilityChange:this.$SUIActionMenu8,ref:function(H){return H&&this.$SUIActionMenu2.set(E,H)}.bind(this),uniform:B});case"separator":return c("React").createElement(y,{isIndented:G,key:E,uniform:B});case"group":return c("React").createElement(z,{isFirstItem:E===0,key:E,label:F.label,rightContent:F.rightContent,uniform:B});default:break}return null}.bind(this)))};u.defaultProps={focusFirstElementOnMount:false};j=babelHelpers.inherits(v,c("React").PureComponent);k=j&&j.prototype;function v(){var B,C;for(var D=arguments.length,E=Array(D),F=0;F<D;F++)E[F]=arguments[F];return C=(B=k.constructor).call.apply(B,[this].concat(E)),this.$MenuItem1=function(){this.props.onClick(this.props.index)}.bind(this),this.$MenuItem2=function(){this.props.onMouseEnter(this.props.index)}.bind(this),C}v.prototype.focus=function(){var B=c("ReactDOM").findDOMNode(this);if(B instanceof HTMLElement)c("SUIFocusUtil").setFocus(B)};v.prototype.render=function(){var B=x(this.props.uniform,this.props.isDisabled,this.props.isHighlighted,this.props.isIndented,c("Locale").isRTL());return c("React").createElement("li",{onClick:this.$MenuItem1,onMouseEnter:this.$MenuItem2,role:"menuitem",style:B,tabIndex:0},this.props.label,this.props.rightContent)};l=babelHelpers.inherits(w,c("React").PureComponent);m=l&&l.prototype;function w(){__p&&__p();var B,C;for(var D=arguments.length,E=Array(D),F=0;F<D;F++)E[F]=arguments[F];return C=(B=m.constructor).call.apply(B,[this].concat(E)),this.$Submenu1=function(){this.props.onItemClick(this.props.index)}.bind(this),this.$Submenu2=function(){this.props.onMouseEnter(this.props.index);this.$Submenu3()}.bind(this),this.$Submenu3=function(){this.props.onSubmenuVisibilityChange(this.props.index,true)}.bind(this),this.$Submenu4=function(){this.props.onSubmenuVisibilityChange(this.props.index,false)}.bind(this),this.$Submenu5=function(){return c("ReactDOM").findDOMNode(this)}.bind(this),C}w.prototype.focus=function(){var B=c("ReactDOM").findDOMNode(this);if(B instanceof HTMLElement)c("SUIFocusUtil").setFocus(B)};w.prototype.render=function(){var B,C=this.props,D=C.isDisabled,E=C.isSubmenuOpen,F=C.items,G=C.uniform,H=c("Locale").isRTL(),I=x(this.props.uniform,this.props.isDisabled,this.props.isHighlighted,this.props.isIndented,H),J=H?G.submenuIndicatorRTL:G.submenuIndicatorLTR,K=(B={flex:"0 0 auto",height:"100%",display:"flex",alignItems:"center",opacity:D?.5:1},B[H?"marginRight":"marginLeft"]=r,B);return c("React").createElement("li",{onClick:this.$Submenu3,onMouseEnter:this.$Submenu2,onMouseLeave:this.$Submenu4,role:"menuitem",style:babelHelpers["extends"]({},I,{cursor:"default"}),tabIndex:0},this.props.label,c("React").createElement("div",{style:K},J),D?null:c("React").createElement(c("SUISubActionMenuLayer.react"),{getContextNode:this.$Submenu5,isVisible:E,items:F,offsetY:-1*t-s,onClose:this.$Submenu4,onItemClick:this.$Submenu1}))};function x(B,C,D,E,F){var G;return babelHelpers["extends"]({},B.itemTypeStyle,(G={alignItems:"center",backgroundColor:D?B.highlightedItemBackgroundColor:null,color:C?B.disabledItemColor:D?B.highlightedItemColor:B.itemColor,cursor:C?"default":"pointer",display:"flex",justifyContent:"space-between",minHeight:B.itemHeight,outline:"none"},G[F?"paddingRight":"paddingLeft"]=E?r*2:r,G[F?"paddingLeft":"paddingRight"]=r,G))}n=babelHelpers.inherits(y,c("React").PureComponent);o=n&&n.prototype;y.prototype.render=function(){var B,C=this.props.uniform;return c("React").createElement("li",{style:(B={borderColor:C.borderColor,borderTopWidth:"1px",borderTopStyle:"solid",marginTop:t,marginBottom:t},B[c("Locale").isRTL()?"marginRight":"marginLeft"]=this.props.isIndented?"24px":"0px",B)})};function y(){n.apply(this,arguments)}p=babelHelpers.inherits(z,c("React").PureComponent);q=p&&p.prototype;z.prototype.render=function(){var B=this.props.uniform;return c("React").createElement("li",{style:babelHelpers["extends"]({},B.headerTypeStyle,{alignItems:"center",color:B.headerColor,cursor:"default",display:"flex",justifyContent:"space-between",minHeight:B.itemHeight,padding:"0 12px"})},this.props.label,this.props.rightContent)};function z(){p.apply(this,arguments)}function A(B){return(B.type==="item"||B.type==="submenu")&&!B.isDisabled}f.exports=u}),null);
__d("SUIContextMenuLayerBehaviors",["ContextualLayerAutoFlip","ContextualLayerHideOnScroll","LayerAutoFocus","LayerFitHeightToScreen","LayerHideOnBlur","LayerHideOnEscape"],(function a(b,c,d,e,f,g){"use strict";var h={ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),ContextualLayerHideOnScroll:c("ContextualLayerHideOnScroll"),LayerAutoFocus:c("LayerAutoFocus"),LayerFitHeightToScreen:c("LayerFitHeightToScreen"),LayerHideOnBlur:c("LayerHideOnBlur"),LayerHideOnEscape:c("LayerHideOnEscape")};f.exports=h}),null);
__d("SUISubActionMenuLayer.react",["cssVar","ContextualLayer.react","React","RTLKeys","SUIActionMenu.react","SUIContextMenuLayerBehaviors"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$SUISubActionMenuLayer1=function(q){this.props.onClose()}.bind(this),this.$SUISubActionMenuLayer2=function(event){var q=c("RTLKeys").getLeft();if(event.keyCode===q){event.preventDefault();this.$SUISubActionMenuLayer1(false)}}.bind(this),m}k.prototype.render=function(){var l=this.props,m=l.getContextNode,n=l.isVisible,o=l.onItemClick,p=l.offsetY,q=p===undefined?0:p;if(!n)return null;return c("React").createElement(c("ContextualLayer.react"),{alignment:"left",behaviors:c("SUIContextMenuLayerBehaviors"),contextRef:m,offsetY:q,onToggle:this.$SUISubActionMenuLayer1,position:"right",shouldSetARIAProperties:true,shown:true},c("React").createElement("div",{onKeyDown:this.$SUISubActionMenuLayer2,style:{boxShadow:"0 1px 10px rgba(0, 0, 0, 0.2)",minWidth:160}},c("React").createElement(c("SUIActionMenu.react"),{focusFirstElementOnMount:true,items:this.props.items,onItemClick:o})))};f.exports=k}),null);
__d("SUIDropdownMenu.react",["AlignmentEnum","React","SUIAbstractMenu.react","SUIActionMenu.react","SUIComponent","SUIPropTypes","SUITheme","uniqueID"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Element,k=c("React").PropTypes,l={buttonTextAlign:"left",contextualLayerBehaviors:{},disabled:false,dropdownWidth:"auto",maxHeight:250,menuHorizontalAlignment:"left",menuVerticalAlignment:"below",shouldHideOnMouseLeave:false,shouldHideOnBlur:true,suppressed:false,width:"auto"};h=babelHelpers.inherits(m,c("SUIComponent"));i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$SUIDropdownMenu3=c("uniqueID")(),this.$SUIDropdownMenu4=function(){if(this.$SUIDropdownMenu2&&this.$SUIDropdownMenu1)this.$SUIDropdownMenu1.hideMenu()}.bind(this),this.$SUIDropdownMenu5=function(s){this.$SUIDropdownMenu1=s}.bind(this),o}m.prototype.componentDidMount=function(){this.$SUIDropdownMenu2=true};m.prototype.componentWillUnmount=function(){this.$SUIDropdownMenu2=false};m.prototype.focusMenuButton=function(){if(this.$SUIDropdownMenu1)this.$SUIDropdownMenu1.focusInput()};m.prototype.showMenu=function(){if(this.$SUIDropdownMenu1)this.$SUIDropdownMenu1.showMenu()};m.prototype.hideMenu=function(){if(this.$SUIDropdownMenu1)this.$SUIDropdownMenu1.hideMenu()};m.prototype.render=function(){var n=c("SUITheme").get(this).SUIDropdownMenu,o={borderRadius:n.borderRadius+"px",boxShadow:n.boxShadow};return c("React").createElement(c("SUIAbstractMenu.react"),{button:this.props.button,buttonBorderedSides:this.props.buttonBorderedSides,buttonRoundedCorners:this.props.buttonRoundedCorners,buttonTextAlign:this.props.buttonTextAlign,contextualLayerBehaviors:this.props.contextualLayerBehaviors,"data-menu-testid":this.props["data-menu-testid"],"data-testid":this.props["data-testid"],disabled:this.props.disabled,display:"inline-block",dropdownWidth:this.props.dropdownWidth,id:this.props.id,label:this.props.label,margin:this.props.margin,maxHeight:this.props.maxHeight,maxWidth:this.props.maxWidth,menu:c("React").createElement(c("SUIActionMenu.react"),{focusFirstElementOnMount:true,id:this.$SUIDropdownMenu3,items:this.props.items,onItemClick:this.$SUIDropdownMenu4,theme:this.props.theme}),menuContainerStyle:o,menuHorizontalAlignment:this.props.menuHorizontalAlignment,menuID:this.$SUIDropdownMenu3,menuVerticalAlignment:this.props.menuVerticalAlignment,name:this.props.name,onButtonClick:this.props.onMenuButtonClick,onClose:this.props.onClose,onMouseEntersMenu:this.props.onMouseEntersMenu,onMouseLeavesMenu:this.props.onMouseLeavesMenu,onOpen:this.props.onOpen,ref:this.$SUIDropdownMenu5,shouldHideOnBlur:this.props.shouldHideOnBlur,shouldHideOnMouseLeave:this.props.shouldHideOnMouseLeave,shouldOpenAutomatically:this.props.shouldOpenAutomatically,suppressed:this.props.suppressed,theme:this.props.theme,tooltip:this.props.tooltip,width:this.props.width})};m.propTypes={button:k.element,buttonBorderedSides:k.arrayOf(k.oneOf(["top","right","bottom","left"])),buttonRoundedCorners:k.arrayOf(k.oneOf(["topLeft","topRight","bottomRight","bottomLeft"])),buttonTextAlign:c("AlignmentEnum").propType.isRequired,contextualLayerBehaviors:k.object.isRequired,disabled:k.bool.isRequired,dropdownWidth:c("SUIPropTypes").dropdownWidth,margin:k.string,maxHeight:k.number.isRequired,menuHorizontalAlignment:k.oneOf(["left","right"]).isRequired,menuVerticalAlignment:k.oneOf(["above","below"]).isRequired,shouldHideOnMouseLeave:k.bool.isRequired,suppressed:k.bool.isRequired,theme:k.instanceOf(c("SUITheme")),width:c("SUIPropTypes").width};m.defaultProps=l;f.exports=m}),null);
__d("EntityTitle.react",["cx","csx","AutoScalingContent.react","CSS","DOMContainer.react","DOMQuery","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$EntityTitle1=function(n,o){this.setState({noResize:true});return 1}.bind(this);this.state={noResize:false}}l.prototype.render=function(){__p&&__p();var m=this.props.title;if(!this.props.autoScale||this.state.noResize)c("CSS").addClass(m,"_3d2d");if(!this.props.autoScale){c("CSS").addClass(m,"_3d2f");return c("React").createElement(c("DOMContainer.react"),null,m)}var n=c("DOMQuery").scry(m,"._3d2h *");if(n.length>0)c("CSS").addClass(m,"_3d2g");return c("React").createElement(c("AutoScalingContent.react"),{handleMinWidthRatioViolation:this.$EntityTitle1,minWidthRatio:.7},c("React").createElement(c("DOMContainer.react"),null,m))};l.defaultProps={autoScale:true};f.exports=l}),null);
__d("ProgressiveDateAndTimePicker.react",["cx","fbt","InlineBlock.react","React","XUIProgressiveDatepicker.react","XUISelector.react","formatDate"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("XUISelector.react").Option,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={datePickerResult:{year:this.props.initialYear,month:this.props.initialMonth,day:this.props.initialDay},hour:this.props.initialHour,minute:this.props.initialMinute},this.onDateChange=function(t){this.setState({datePickerResult:t},this.onDateAndTimeChange)}.bind(this),this.onDateAndTimeChange=function(){if(!this.props.onDateAndTimeChange)return;var t=this.state.datePickerResult,u=babelHelpers["extends"]({},t,{hour:this.state.hour,minute:this.state.minute});this.props.onDateAndTimeChange(u)}.bind(this),this.onHourChange=function(event){this.onSelectorChange(event,"hour")}.bind(this),this.onMinuteChange=function(event){this.onSelectorChange(event,"minute")}.bind(this),this.onSelectorChange=function(event,t){var u=event.target?event.target.value:event.value,v={};v[t]=u;this.setState(v,this.onDateAndTimeChange)}.bind(this),p}n.prototype.componentWillReceiveProps=function(o){"use strict";var p=this.state,q=p.datePickerResult;if(o.initialYear!==q.year||o.initialMonth!==q.month||o.initialDay!==q.day||o.initialHour!==p.hour||o.initialMinute!==p.minute)this.setState({datePickerResult:{year:o.initialYear,month:o.initialMonth,day:o.initialDay},hour:o.initialHour,minute:o.initialMinute})};n.prototype.render=function(){"use strict";__p&&__p();var o,p;if(this.state.datePickerResult.day){var q=[c("React").createElement(l,{key:-1,value:-1},i._("Hour:"))];for(var r=0;r<24;r++){var s=new Date();s.setHours(r);var t=c("formatDate")(s,"g A");q.push(c("React").createElement(l,{key:r,value:r},t))}o=c("React").createElement(c("XUISelector.react"),{className:"_5vu1",disabled:!this.state.datePickerResult.day,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+"_hour",onChange:this.onHourChange,value:this.state.hour},q)}if(this.state.hour!=-1){var u=[c("React").createElement(l,{key:-1,value:-1},i._("Minute:"))];for(r=0;r<60;r+=10){var v="00";if(r>0)v=r;u.push(c("React").createElement(l,{key:r,value:r},v))}p=c("React").createElement(c("XUISelector.react"),{className:"_5vu1",disabled:this.state.hour==-1,maxheight:this.props.menuMaxHeight,name:this.props.inputPrefix+"_minute",onChange:this.onMinuteChange,value:this.state.minute},u)}return c("React").createElement(c("InlineBlock.react"),{className:this.props.className},c("React").createElement(c("XUIProgressiveDatepicker.react"),babelHelpers["extends"]({},this.props,{setDateTo:this.state.datePickerResult,onDateChange:this.onDateChange})),o,p)};n.propTypes=babelHelpers["extends"]({},c("XUIProgressiveDatepicker.react").propTypes,{initialHour:m.number,initialMinute:m.number});n.defaultProps={initialYear:0,initialMonth:0,initialDay:0,initialHour:-1,initialMinute:-1,maxTime:Date.now()/1e3,minTime:new Date(1906,0,0,0,0).getTime()/1e3};f.exports=n}),null);
__d("VideoEditMentionsTextArea.react",["cx","AtSignMentionsStrategy","DocumentCompositeMentionsSource","DocumentMentionsSource","EditorState","MentionsInput.react","MentionsInputUtility","MentionsInputTypeaheadView.react","React","joinClasses","getMentionsInputDecorator"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(m){"use strict";__p&&__p();j.constructor.call(this,m);this.$VideoEditMentionsTextArea1=function(r){if(this.props.disabled)return;this.setState({editorState:r});this.props.onChange(r)}.bind(this);this.focus=function(){this.refs.mentionsInput.focus()}.bind(this);var n=new(c("DocumentMentionsSource"))(c("AtSignMentionsStrategy"),m.searchSource),o=new(c("DocumentCompositeMentionsSource"))([n]),p=m.textWithMentions,q;if(m.editorState)q=m.editorState;else if(p)q=c("MentionsInputUtility").createFromTextWithMentions(p,c("getMentionsInputDecorator")());else q=c("EditorState").createEmpty(c("getMentionsInputDecorator")());m.onChange(q);this.state={compositeMentionsSource:o,editorState:q}}l.prototype.render=function(){"use strict";var m=c("joinClasses")("_2oc3",this.props.className);return c("React").createElement(c("MentionsInput.react"),{className:m,editorState:this.state.editorState,mentionsSource:this.state.compositeMentionsSource,placeholder:this.props.placeholder,typeaheadView:c("MentionsInputTypeaheadView.react"),typeaheadViewProps:{},onChange:this.$VideoEditMentionsTextArea1,ref:"mentionsInput"})};l.propTypes={disabled:k.bool};l.defaultProps={disabled:false};f.exports=l}),null);
__d("LiveVideoBroadcastDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("XLiveVideoSuggestedInviteFriendsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/live_video/invite_friends_suggestion/",{})}),null);
__d("LiveVideoBroadcastActions",["AsyncRequest","LiveVideoBroadcastDispatcher","XLiveVideoSuggestedInviteFriendsController"],(function a(b,c,d,e,f,g){__p&&__p();var h={initialize:function i(j){var k={type:"INITIALIZE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setUpdateRequestPending:function i(j){var k={type:"SET_UPDATE_REQUEST_PENDING",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setShowSaveChangesDialog:function i(j){var k={type:"SET_SHOW_SAVE_CHANGES_DIALOG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},updateCameraState:function i(j){var k={type:"UPDATE_CAMERA_STATE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},startLiveBroadcastRequest:function i(j){var k={type:"START_BROADCAST_REQUEST",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setScheduledLiveData:function i(j,k){var l={type:"SET_SCHEDULED_LIVE_DATA",isManualMode:j,scheduleStartTime:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},serverError:function i(j){var k={type:"SERVER_ERROR",details:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},startLiveCountdown:function i(){var j={type:"START_LIVE_COUNTDOWN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},startLiveBroadcastSuccess:function i(){var j={type:"START_BROADCAST_SUCCESS"};c("LiveVideoBroadcastDispatcher").dispatch(j)},finishBroadcastRequest:function i(){var j={type:"FINISH_BROADCAST_REQUEST"};c("LiveVideoBroadcastDispatcher").dispatch(j)},finishBroadcastSuccess:function i(){var j={type:"FINISH_BROADCAST_SUCCESS"};c("LiveVideoBroadcastDispatcher").dispatch(j)},cancelLiveCountdown:function i(){var j={type:"CANCEL_LIVE_COUNTDOWN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},updateCountdown:function i(j){var k={type:"UPDATE_COUNTDOWN",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},showReplay:function i(){var j={type:"SHOW_REPLAY"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setDialogLoading:function i(j){var k={type:"SET_DIALOG_LOADING",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},hideCommentPlaceholder:function i(){var j={type:"HIDE_COMMENT_PLACEHOLDER"};c("LiveVideoBroadcastDispatcher").dispatch(j)},getWebcamStreamUrlRequest:function i(j){var k={type:"GET_WEBCAM_STREAM_URL_REQUEST",config:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},getWebcamStreamUrlSuccess:function i(j){var k={type:"GET_WEBCAM_STREAM_URL_SUCCESS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},getScreenStreamUrlRequest:function i(j){var k={type:"GET_SCREEN_STREAM_URL_REQUEST",config:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},getScreenStreamUrlSuccess:function i(j){var k={type:"GET_SCREEN_STREAM_URL_SUCCESS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},actionButtonClick:function i(){var j={type:"ACTION_BUTTON_CLICK"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setReplayShouldUploadHigherQualityVideo:function i(j){var k={type:"SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorConnectionBroken:function i(){var j={type:"ERROR_CONNECTION_BROKEN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorConnectionFailed:function i(){var j={type:"ERROR_CONNECTION_FAILED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorRTCClientError:function i(){var j={type:"ERROR_RTC_CLIENT_ERROR"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorMediaValidation:function i(j,k){var l={type:"ERROR_MEDIA_VALIDATION",errorMessage:j.toString(),blockedFromGoingLive:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},errorMWSBadAudioOrVideoData:function i(){var j={type:"ERROR_MWS_BAD_AUDIO_OR_VIDEO_DATA"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorTrackEnded:function i(){var j={type:"ERROR_TRACK_ENDED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},attemptReconnection:function i(){var j={type:"ATTEMPT_RECONNECTION"};c("LiveVideoBroadcastDispatcher").dispatch(j)},webRTCConnectionEstablished:function i(){var j={type:"WEBRTC_CONNECTION_ESTABLISHED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},iceConnectionStateChanged:function i(j){var k={type:"ICE_CONNECTION_STATE_CHANGED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorBroadcastCouldNotStart:function i(){var j={type:"ERROR_BROADCAST_COULD_NOT_START"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorBroadcastCouldNotStartAccepted:function i(){var j={type:"ACCEPT_ERROR_BROADCAST_COULD_NOT_START"};c("LiveVideoBroadcastDispatcher").dispatch(j)},deleteReplayVideo:function i(){var j={type:"DELETE_REPLAY_VIDEO"};c("LiveVideoBroadcastDispatcher").dispatch(j)},errorBroadcastPublishFail:function i(){var j={type:"ERROR_BROADCAST_PUBLISH_FAIL"};c("LiveVideoBroadcastDispatcher").dispatch(j)},handleNetworkOffline:function i(){var j={type:"NETWORK_OFFLINE"};c("LiveVideoBroadcastDispatcher").dispatch(j)},handleNetworkOnline:function i(){var j={type:"NETWORK_ONLINE"};c("LiveVideoBroadcastDispatcher").dispatch(j)},prepareThumbnailUri:function i(){var j={type:"PREPARE_THUMBNAIL_URI"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setThumbnailUri:function i(j){var k={type:"SET_THUMBNAIL_URI",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setCopyrightTriggered:function i(j){var k={type:"SET_COPYRIGHT_TRIGGERED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setCopyrightsViolationDialogState:function i(j){var k={type:"SET_COPYRIGHTS_VIOLATION_DIALOG_STATE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVodReady:function i(){var j={type:"SET_VOD_READY"};c("LiveVideoBroadcastDispatcher").dispatch(j)},handleCopyrightEvent:function i(j,k){var l={type:"HANDLE_COPYRIGHT_EVENT",value:j,broadcastID:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},setBroadcastEndedWithCopyrightViolation:function i(){var j={type:"SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION"};c("LiveVideoBroadcastDispatcher").dispatch(j)},finishCountdown:function i(){var j={type:"FINISH_COUNT_DOWN"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setShowNUX:function i(j){var k={type:"SET_SHOW_NUX",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},requestUFI:function i(){var j={type:"REQUEST_UFI"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setUfiMarkup:function i(j){var k={type:"SET_UFI_MARKUP",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setDialog:function i(j){var k={type:"SET_DIALOG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setDialogContainerID:function i(j){var k={type:"SET_DIALOG_CONTAINER_ID",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setComposerConfig:function i(j){var k={type:"SET_COMPOSER_CONFIG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setUfiScrollArea:function i(j){var k={type:"SET_UFI_SCROLL_AREA",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInviteFriendsShown:function i(j){c("LiveVideoBroadcastDispatcher").dispatch({type:"SET_INVITE_FRIENDS_SHOWN",value:j})},setInviteFriendsQuery:function i(j){var k={type:"SET_INVITE_FRIENDS_QUERY",value:{inviteFriendsQueryString:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInviteFriendsSearchResults:function i(j){var k={type:"SET_INVITE_FRIENDS_RESULTS",value:{results:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInviteFriendsSuggestions:function i(j){var k={type:"SET_INVITE_FRIENDS_SUGGESTIONS",value:{results:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},fetchInviteFriendsSuggestions:function i(){var j=c("XLiveVideoSuggestedInviteFriendsController").getURIBuilder().getURI();new(c("AsyncRequest"))(j).send()},fetchInvitedFriends:function i(j){var k={type:"FETCH_INVITED_FRIENDS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInvitedFriends:function i(j){var k={type:"SET_INVITED_FRIENDS",value:{friendIds:j}};c("LiveVideoBroadcastDispatcher").dispatch(k)},inviteFriend:function i(j){var k={type:"INVITE_FRIEND",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},logWebRTCStats:function i(j){var k={type:"LOG_WEBRTC_STATS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setDescriptionExpanded:function i(j){var k={type:"SET_DESCRIPTION_EXPANDED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},cleanup:function i(){var j={type:"CLEANUP"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setDescription:function i(j){var k={type:"SET_DESCRIPTION",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setTagList:function i(j){var k={type:"SET_TAG_LIST",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setTarget:function i(j){var k={type:"SET_TARGET",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},clearBroadcastID:function i(){var j={type:"CLEAR_BROADCAST_ID"};c("LiveVideoBroadcastDispatcher").dispatch(j)},clearAPIBroadcastID:function i(){var j={type:"CLEAR_API_BROADCAST_ID"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setAttributionTags:function i(j){var k={type:"SET_ATTRIBUTION_TAGS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVideoTitle:function i(j){var k={type:"SET_VIDEO_TITLE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setContentTags:function i(j){var k={type:"SET_CONTENT_TAGS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setSelectedAttributionTag:function i(j){var k={type:"SET_SELECTED_ATTRIBUTION_TAG",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setBroadcastID:function i(j){var k={type:"SET_BROADCAST_ID",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVideoID:function i(j){var k={type:"SET_VIDEO_ID",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setGame:function i(j){var k={type:"SET_GAME",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setGroups:function i(j){var k={type:"SET_GROUPS",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setVideoTJApp:function i(j){var k={type:"SET_VIDEO_TJ_APP",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorTimeOutWaitingForPublish:function i(j){var k={type:"ERROR_TIME_OUT_WAITING_FOR_PUBLISH",errorSource:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setPeopleTaggerSource:function i(j){var k={type:"SET_PEOPLE_TAGGER_SOURCE",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setPrivacySelector:function i(j){var k={type:"SET_PRIVACY_SELECTOR",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},uiMounted:function i(){var j={type:"UI_MOUNTED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},readyStateEnded:function i(){var j={type:"READY_STATE_ENDED"};c("LiveVideoBroadcastDispatcher").dispatch(j)},updateBroadcastUIConfig:function i(j){var k={type:"UPDATE_UI_CONFIG",values:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setInputSource:function i(j){var k={type:"SET_INPUT_SOURCE",source:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},apiBroadcastCreated:function i(j,k,l,m,n,o,p,q){var r={type:"API_BROADCAST_CREATED",actorID:j,id:k,streamURL:l,secureStreamURL:m,videoID:n,targetID:o,apiEmbedHTML:p,attributionAppID:q};c("LiveVideoBroadcastDispatcher").dispatch(r)},apiBroadcastLivePreviewPlaying:function i(j){var k={type:"API_BROADCAST_LIVE_PREVIEW_PLAYING",livePreviewPlaying:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setAPIBroadcastPrivacySelector:function i(j){var k={type:"SET_API_BROADCAST_PRIVACY_SELECTOR",apiComposerPrivacySelector:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},errorCreatingBroadcast:function i(j){var k={type:"ERROR_CREATING_BROADCAST",additionalLoggingData:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},scheduledLiveSuccess:function i(j){var k={type:"SCHEDULED_LIVE_SUCCESS",shouldCloseDialog:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},prepareBroadcastForScheduledLive:function i(){var j={type:"PREPARE_BROADCAST_FOR_SCHEDULED_LIVE"};c("LiveVideoBroadcastDispatcher").dispatch(j)},scheduledLiveRequest:function i(j,k,l,m,n,o,p){var q={type:"SCHEDULED_LIVE_REQUEST",actorID:j,broadcastID:k,plannedStartTime:l,customProfileImage:m,customProfileImageFocus:n,customAnnouncementThumbnail:o,enableManualMode:p};c("LiveVideoBroadcastDispatcher").dispatch(q)},scheduledLiveFail:function i(){var j={type:"SCHEDULED_LIVE_FAIL"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setEpisodeData:function i(j){var k={type:"SET_EPISODE_DATA",episodeData:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setHideInputToggle:function i(j){var k={type:"SET_HIDE_INPUT_TOGGLE",hideInputToggle:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setBroadcastState:function i(j){var k={type:"SET_BROADCAST_STATE",broadcastState:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setStartTime:function i(j){var k={type:"SET_START_TIME",startTime:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setCrosspostToPage:function i(j,k){var l={type:"SET_SHOULD_CROSSPOST_TO_PAGE",pageId:j,shouldCrosspost:k};c("LiveVideoBroadcastDispatcher").dispatch(l)},setCrosspostToAllPages:function i(j){var k={type:"SET_SHOULD_CROSSPOST_TO_ALL_PAGES",shouldCrosspost:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},resortCrosspostConfigs:function i(){var j={type:"RESORT_CROSSPOST_CONFIGS"};c("LiveVideoBroadcastDispatcher").dispatch(j)},setLiveCoverVideoEnabled:function i(j){var k={type:"SET_LIVE_COVER_VIDEO_ENABLED",value:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setSelectedRHCTab:function i(j){var k={type:"SET_SELECTED_RHC_TAB",selectedTab:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},setRewindEnabled:function i(j){var k={type:"SET_REWIND_ENABLED",enabled:j};c("LiveVideoBroadcastDispatcher").dispatch(k)},updateMetadataConfig:function i(j){var k={type:"UPDATE_METADATA_CONFIG",config:j};c("LiveVideoBroadcastDispatcher").dispatch(k)}};f.exports=h}),null);
__d("PublicLiveMapConstants",["cx","VideoPlayerLoggerSource"],(function a(b,c,d,e,f,g,h){"use strict";var i={DEFAULT_MAP_ZOOM:4,POPUP_POSITION_OFFSET:[0,0],POPUP_OPEN_TIMEOUT_MS:100,HOVER_INTENT_TIMEOUT_MS:100,DEBOUNCE_TIMER_MS:400,MINIMUM_VIDEO_SIZE_PX:400,COMMENT_INPUT_HEIGHT:48,TOP_N_TO_SHOW_IN_SIDEBAR:20,NUMBER_OF_CACHE_LEVELS:3,NUMBER_OF_VIEWERS_TO_SHOW:200,MARKER_STATUS:{SPECIAL_EVENT:"special_event"},FB_HEADER_HEIGHT:42,BROADCAST_MARKER_OPTIONS:{stroke:false,fill:"true",radius:4,pointerEvents:"all"},NON_INTERACTIVE_MARKER_OPTIONS:{stroke:false,fill:"true",fillOpacity:1,radius:2,pointerEvents:"none"},VIEWER_MARKER_OPTIONS:{stroke:false,fill:"true",fillOpacity:1,radius:3,pointerEvents:"none"},VIEWER_LINE_OPTIONS:{color:"#1c4f8c",weight:.9,opacity:.5,smoothFactor:0,pointerEvents:"none"},DEFAULT_VIDEOPORT_SIZE:{width:900,height:600},VIDEO_PLAYER_DIALOG:{VERT_PADDING:320,HORIZ_PADDING:320,COMMENT_WIDTH:350},TOOLTIP:{OFFSCREEN:-500,DEFAULT:{LEFT:-109,TOP:-110},BOUNDS:{LEFT_LIMIT:180,RIGHT_LIMIT:250,TOP_LIMIT:290},VIDEO_DIMENSIONS:{MAX_WIDTH:368,TOOLTIP_SIZE:218},DESCRIPTION_LINE_LENGTH:30,DESCRIPTION_LINE_HEIGHT:20,LEFT_EDGE_ADJUST:5,RIGHT_EDGE_ADJUST:-10,TOP_EDGE_ADJUST:28,SIDEBAR:{TOP:310,LEFT:265,RIGHT:"auto"}},MAP_CENTER_OPTIONS:{AMERICAS_CENTER:[17,-40],AFRO_EURO_CENTER:[20,0],APAC_CENTER:[10,116]},MAP_BOUNDS:[[-85,-Infinity],[85,+Infinity]],STANDARD_MAP_BOUNDS:{x:-180,y:-90,width:360,height:180},STANDARD_MAP_SEARCH_BOX:{x1:-180,y1:-90,x2:180,y2:90},POPULARITY_MARKERS:{ONE:{className:"_3avk _3avl",iconSize:[12,12],iconAnchor:[6,6]},TWO:{className:"_3avq _3avl",iconSize:[16,16],iconAnchor:[8,8]},THREE:{className:"_3avr _3avl",iconSize:[20,20],iconAnchor:[10,10]},FOUR:{className:"_1iq1 _3avl",iconSize:[20,20],iconAnchor:[10,10]}},SPECIAL_EVENT_MARKER:{className:"_t0m _3avl",iconSize:[20,20],iconAnchor:[10,10]},ZOOM_CONTROLS:{vertical:"bottom",horizontal:"right"},MAP_TYPE:{LEAFLET:"leaflet",WEBGL:"webgl"},VIEW_MODE:{MAP_VIEW:"map_view",LIST_VIEW:"list_view"},ZOOM_CUTOFF_FOR_CACHE:{DYNAMIC:6,LEVEL_2:5,LEVEL_3:6},POLLING_VIDEO_COUNT:{LEVEL_0:300,LEVEL_1:300,LEVEL_2:400,DYNAMIC:100},MIN_VIEWERS_FOR_DYNAMIC_FETCH:0,MAX_VIEWERS_FOR_DYNAMIC_FETCH:6,isInlinePlayer:function j(k){return k===c("VideoPlayerLoggerSource").LIVE_MAP_SIDEBAR||k===c("VideoPlayerLoggerSource").LIVE_MAP_LISTVIEW||k===c("VideoPlayerLoggerSource").LIVE_MAP_TOOLTIP||k===c("VideoPlayerLoggerSource").LIVE_MAP_TOOLTIP_FROM_LISTVIEW||k===c("VideoPlayerLoggerSource").LIVE_MAP_TOOLTIP_FROM_WEBGL||k===c("VideoPlayerLoggerSource").LIVE_MAP_TOOLTIP_FROM_MAP}};f.exports=i}),null);
__d("XHotLiveVideoPayloadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/cdn/cacheable/hot_live_video_payload/{broadcast_id}/",{broadcast_id:{type:"Int",required:true}})}),null);
__d("HotLiveVideoPayloadManager",["Arbiter","AjaxRequest","XHotLiveVideoPayloadController"],(function a(b,c,d,e,f,g){__p&&__p();var h={_subscribedPayloads:{},subscribe:function i(j,k,l){__p&&__p();var m=false;if(j in this._subscribedPayloads){var n=this._subscribedPayloads[j];++n.count;if("lastPayload"in n&&k in n.lastPayload)l(n.lastPayload[k])}else{this._subscribedPayloads[j]={count:1,intervalHandle:window.setInterval(this._fetchPayload.bind(this,j),3e3)};m=true}var o=c("Arbiter").subscribe("HotLiveVideoPayloadManager/"+j+"/"+k,this._onCallback.bind(this,l));if(m)this._fetchPayload(j);return{arbiterToken:o,videoId:j,cancel:function p(){h.unsubscribe(this)}}},unsubscribe:function i(j){c("Arbiter").unsubscribe(j.arbiterToken);var k=this._subscribedPayloads[j.videoId];--k.count;if(k.count==0){if("intervalHandle"in k)window.clearInterval(k.intervalHandle);delete this._subscribedPayloads[j.videoId]}},_fetchPayload:function i(j){var k=c("XHotLiveVideoPayloadController").getURIBuilder().setInt("broadcast_id",j).getURI(),l=new(c("AjaxRequest"))("GET",k);l.streamMode=false;l.onJSON=this._onPayload.bind(this,j);l.onError=this._onError.bind(this,j);l.send()},_onPayload:function i(j,k){var l=this._subscribedPayloads[j];l.lastPayload=k.json;for(var m in k.json)c("Arbiter").inform("HotLiveVideoPayloadManager/"+j+"/"+m,k.json[m])},_onError:function i(j,k){if(k.status==404&&j in this._subscribedPayloads){var l=this._subscribedPayloads[j];if("intervalHandle"in l){window.clearInterval(l.intervalHandle);delete l.intervalHandle}}},_onCallback:function i(j,k,l){j(l)}};f.exports=h}),null);
__d("XLiveResetViewerCountAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/live/viewercount/reset/",{})}),null);
__d("XVideoLiveViewCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/liveviewcount/",{player_origin:{type:"Enum",enumType:1},video_id:{type:"String",required:true},source:{type:"String",required:true},unmuted:{type:"Bool",defaultValue:true},read_only:{type:"Bool",defaultValue:false}})}),null);
__d("VideoWithLiveBroadcast",["AsyncRequest","HTML","SubscriptionsHandler","Run","VideoPlayerLoggerEvent","XLiveResetViewerCountAsyncController","XVideoLiveViewCountController","BanzaiODS"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";__p&&__p();this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast5=i;if(this.$VideoWithLiveBroadcast5.isState("playing"))this.$VideoWithLiveBroadcast9();this.$VideoWithLiveBroadcast2=false;this.$VideoWithLiveBroadcast1=true;this.$VideoWithLiveBroadcast6=null;this.$VideoWithLiveBroadcast4=new(c("SubscriptionsHandler"))();this.$VideoWithLiveBroadcast4.addSubscriptions(i.addListener("beginPlayback",this.$VideoWithLiveBroadcast9.bind(this)),i.addListener("pausePlayback",this.$VideoWithLiveBroadcast10.bind(this)),i.addListener("updateStatus",this.$VideoWithLiveBroadcast11.bind(this)),i.addListener("finishPlayback",this.$VideoWithLiveBroadcast12.bind(this)),i.addListener("unmuteVideo",this.$VideoWithLiveBroadcast13.bind(this)),i.addListener("muteVideo",this.$VideoWithLiveBroadcast14.bind(this)));i.registerOption("VideoWithLiveBroadcast","viewCount",this.getViewCount.bind(this));i.registerOption("VideoWithLiveBroadcast","isLive",function(){return true});c("Run").onLeave(function(){return this.leave()}.bind(this))}h.prototype.leave=function(){"use strict";this.$VideoWithLiveBroadcast15();this.$VideoWithLiveBroadcast4.release()};h.prototype.getViewCount=function(){"use strict";return this.$VideoWithLiveBroadcast6};h.prototype.$VideoWithLiveBroadcast16=function(i){"use strict";if(this.$VideoWithLiveBroadcast6!=i){this.$VideoWithLiveBroadcast6=i;this.$VideoWithLiveBroadcast5.emit("VideoWithLiveBroadcast/viewCountChange",i)}};h.prototype.$VideoWithLiveBroadcast12=function(){"use strict";this.$VideoWithLiveBroadcast5.logEvent(c("VideoPlayerLoggerEvent").PLAYING_LIVE_STOPPED);this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast15()};h.prototype.$VideoWithLiveBroadcast17=function(){"use strict";if(this.$VideoWithLiveBroadcast7)return;this.$VideoWithLiveBroadcast18();this.$VideoWithLiveBroadcast7=setInterval(function(){return this.$VideoWithLiveBroadcast18()}.bind(this),3e3)};h.prototype.$VideoWithLiveBroadcast11=function(i){"use strict";__p&&__p();if(this.$VideoWithLiveBroadcast5.isState("playing")){if(this.$VideoWithLiveBroadcast8==null)this.$VideoWithLiveBroadcast8=i.position;if(this.$VideoWithLiveBroadcast8+3<=i.position){this.$VideoWithLiveBroadcast5.logEvent(c("VideoPlayerLoggerEvent").PLAYED_FOR_THREE_SECONDS);this.$VideoWithLiveBroadcast8=Infinity}}if(!this.$VideoWithLiveBroadcast5.isState("playing")){if(!this.$VideoWithLiveBroadcast3){c("BanzaiODS").bumpEntityKey("www_live_concurrent_viewer","non_playing_update_status");this.$VideoWithLiveBroadcast3=true}if(this.$VideoWithLiveBroadcast1&&!this.$VideoWithLiveBroadcast2)this.$VideoWithLiveBroadcast2=true}};h.prototype.$VideoWithLiveBroadcast15=function(){"use strict";this.$VideoWithLiveBroadcast7&&clearInterval(this.$VideoWithLiveBroadcast7);this.$VideoWithLiveBroadcast7=null};h.prototype.$VideoWithLiveBroadcast18=function(){"use strict";this.$VideoWithLiveBroadcast19(function(i){var j=c("HTML").replaceJSONWrapper(i).getRootNode();this.$VideoWithLiveBroadcast16(j)}.bind(this))};h.prototype.$VideoWithLiveBroadcast19=function(i){"use strict";this.$VideoWithLiveBroadcast5.emit("VideoWithLiveBroadcast/poll");var j=c("XVideoLiveViewCountController").getURIBuilder().setString("video_id",this.$VideoWithLiveBroadcast5.getVideoID()).setString("source",this.$VideoWithLiveBroadcast5.getSource()).setEnum("player_origin",this.$VideoWithLiveBroadcast5.getPlayerOrigin()).setBool("unmuted",!this.$VideoWithLiveBroadcast5.isMuted()).getURI();new(c("AsyncRequest"))().setMethod("GET").setURI(j).setReadOnly(true).setHandler(function(k){return i(k&&k.payload)}).send()};h.prototype.$VideoWithLiveBroadcast9=function(){"use strict";__p&&__p();if(this.$VideoWithLiveBroadcast5.isFacecastAudio()&&(this.$VideoWithLiveBroadcast5.isMuted()||!this.$VideoWithLiveBroadcast5.isState("playing")))return;this.$VideoWithLiveBroadcast8=null;if(this.$VideoWithLiveBroadcast1){this.$VideoWithLiveBroadcast5.logEvent(c("VideoPlayerLoggerEvent").PLAYING_LIVE_STARTED);this.$VideoWithLiveBroadcast1=false;c("BanzaiODS").bumpEntityKey("www_live_concurrent_viewer","begin_playback");if(!this.$VideoWithLiveBroadcast2)c("BanzaiODS").bumpEntityKey("www_live_concurrent_viewer","begin_playback_without_early_polling")}this.$VideoWithLiveBroadcast17()};h.prototype.$VideoWithLiveBroadcast10=function(){"use strict";this.$VideoWithLiveBroadcast8=null;this.$VideoWithLiveBroadcast15()};h.prototype.$VideoWithLiveBroadcast13=function(){"use strict";if(!this.$VideoWithLiveBroadcast5.isFacecastAudio())return;this.$VideoWithLiveBroadcast15();this.$VideoWithLiveBroadcast9()};h.prototype.$VideoWithLiveBroadcast14=function(){"use strict";if(!this.$VideoWithLiveBroadcast5.isFacecastAudio())return;new(c("AsyncRequest"))().setMethod("POST").setURI(c("XLiveResetViewerCountAsyncController").getURIBuilder().getURI()).setData({video_id:this.$VideoWithLiveBroadcast5.getVideoID()}).send()};f.exports=h}),null);
__d("VideoComponentPlayButton.react",["cx","fbt","React","VideoComponent","nullthrows"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$VideoComponentPlayButton2=function(){c("nullthrows")(this.state.vpc).clickVideo()}.bind(this);this.state={vpc:null}}l.prototype.$VideoComponentPlayButton1=function(m){if(m==="paused"||m==="ready")return true;var n=this.props.alsoVisibleWhen;if(!n)return false;return Array.isArray(n)?n.includes(m):n===m};l.prototype.render=function(){__p&&__p();var m=this.state.vpc;if(!m)return null;var n=m.getState(),o=m.isPlayRequestPending(),p=m.isBuffering();if(o||p)return c("React").createElement("i",{className:"_5l7x"});if(!this.$VideoComponentPlayButton1(n))return null;var q=i._("Play video");return c("React").createElement("i",{className:"_3htz _1jto _bsl",onClick:this.$VideoComponentPlayButton2,role:"presentation"},c("React").createElement("input",{"aria-label":q,type:"button",className:"_yak"}))};l.prototype.enable=function(m){this.setState({vpc:m})};l.prototype.disable=function(){};f.exports=c("VideoComponent").createContainer(l,{observedVpcEvents:["stateChange","bufferingChanged","pendingPlayRequestChanged"]})}),null);
__d("CommercialBreakSkywalkerSubscriptionManager",["Map","RTISubscriptionManager"],(function a(b,c,d,e,f,g){__p&&__p();var h=new(c("Map"))(),i=new(c("Map"))(),j={subscribe:function k(l,m){__p&&__p();var n;if(!h.has(l))(function(){__p&&__p();var o=[];h.set(l,o);var p=c("RTISubscriptionManager").subscribe(l,function(q){__p&&__p();for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;v(q)}});i.set(l,p)})();var o=h.get(l);if(o)o.push(m);return i.get(l)}};f.exports=j}),null);
__d("CommercialBreakMobileEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUBSCRIPTION_SUCCESS:"commercial_break_skywalker_subscription_success",SUBSCRIPTION_FAILURE:"commercial_break_skywalker_subscription_failure",RECEIVE_INTENT_MSG:"commercial_break_skywalker_receive_intent",RECEIVE_START_MSG:"commercial_break_skywalker_receive_start",RECEIVE_INVALID_MSG:"commercial_break_skywalker_receive_invalid_message",VIDEO_FETCH_SUCCESS:"commercial_break_video_fetch_success",VIDEO_FETCH_FAILURE:"commercial_break_video_fetch_failure",COMMERCIAL_BREAK_INLINE_TO_FULLSCREEN:"commercial_break_inline_to_fullscreen",COMMERCIAL_BREAK_FULLSCREEN_TO_INLINE:"commercial_break_fullscreen_to_inline",COMMERCIAL_BREAK_SCROLLED_AWAY:"commercial_break_scrolled_away",COMMERCIAL_BREAK_SCROLLED_INTO:"commercial_break_scrolled_into",COMMERCIAL_BREAK_START_NFX:"commercial_break_start_nfx",COMMERCIAL_BREAK_HIDE_AD:"commercial_break_hide_ad",COMMERCIAL_BREAK_HIDE_AD_BREAKS:"commercial_break_hide_ad_breaks",COMMERCIAL_BREAK_START:"commercial_break_start",COMMERCIAL_BREAK_START_AD:"commercial_break_start_ad",COMMERCIAL_BREAK_TRANSIT:"commercial_break_transit",COMMERCIAL_BREAK_WAIT_FOR:"commercial_break_wait_for",COMMERCIAL_BREAK_STATIC_COUNTDOWN:"commercial_break_static_countdown",COMMERCIAL_BREAK_END:"commercial_break_end",COMMERCIAL_BREAK_PAUSE_AD:"commercial_break_pause_ad",COMMERCIAL_BREAK_PLAY_AD:"commercial_break_play_ad",COMMERCIAL_BREAK_NO_AD_TRANSITION:"commercial_break_no_ad_transition",COMMERCIAL_BREAK_ELIGIBLE_VOD_START:"commercial_break_eligible_vod_start",COMMERCIAL_BREAK_START_SHOW_NOTHING:"commercial_break_start_show_nothing",COMMERCIAL_BREAK_STARTING_INDICATOR:"commercial_break_starting_indicator",COMMERCIAL_BREAK_START_TIME_DELTA:"commercial_break_start_time_delta",COMMERCIAL_BREAK_IMPRESSION_ATTEMPT:"commercial_break_impression_attempt",COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT:"commercial_break_skywalker_received_duplicate_event",COMMERCIAL_BREAK_ADS_LOADED:"commercial_break_ads_loaded",COMMERCIAL_BREAK_FIRE_EVENT_IN_TRACKER:"commercial_break_fire_event_in_tracker",COMMERCIAL_BREAK_LOG_IMPRESSION_IN_TRACKER:"commercial_break_log_impression_in_tracker",COMMERCIAL_BREAK_REGISTER_VIDEO:"commercial_break_register_video",COMMERCIAL_BREAK_RESUME_HOST_VIDEO:"commercial_break_resume_host_video",COMMERCIAL_BREAK_CLICK_ON_STARTING_INDICATOR:"commercial_break_click_on_starting_indicator",COMMERCIAL_BREAK_PLUGIN_IS_ON_DIFFERENT_HOSTVIDEO:"commercial_break_plugin_is_on_different_hostvideo",COMMERCIAL_BREAK_LOG_AD_IMPRESSION:"commercial_break_log_ad_impression",COMMERCIAL_BREAK_CLICK:"commercial_break_click",COMMERCIAL_BREAK_SCRUB_THROUGH:"commercial_break_scrub_through",COMMERCIAL_BREAK_SCRUBBER_LEAVE_BEFORE_AD_BREAK:"commercial_break_scrubber_leave_before_ad_break",COMMERCIAL_BREAK_SCRUBBER_LEAVE_DURING_AD_BREAK:"commercial_break_scrubber_leave_during_ad_break",COMMERCIAL_BREAK_CONTEXT_CARD_INFO_BUTTON_CLICK:"commercial_break_context_card_info_button_click",COMMERCIAL_BREAK_TAP_ON_TRAILER:"commercial_break_tap_on_trailer",COMMERCIAL_BREAK_PRE_ROLL_FETCH_SUCCESS_LATE:"commercial_break_pre_roll_fetch_success_late"})}),null);
__d("CommercialBreakState",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INIT:"INIT",PREPARE:"PREPARE",AD_REQUEST_SENT:"AD_REQUEST_SENT",CB_SCHEDULED:"CB_SCHEDULED",ENTERING_TRANSITION:"ENTERING_TRANSITION",PLAY_AD_COUNTDOWN:"PLAY_AD_COUNTDOWN",LEAVING_TRANSITION:"LEAVING_TRANSITION",VOD_BREAK_WITH_NO_VIDEO_AD:"VOD_BREAK_WITH_NO_VIDEO_AD"})}),null);
__d("CommercialBreakStartingIndicator.react",["cx","fbt","CircularProgressBar.react","CommercialBreakMobileEvent","CommercialBreakState","CSS","DateConsts","React","Style","SubscriptionsHandler","VideoPlayerLoggerEvent","VideoPlayerUIComponentDrawer"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=300,m=300,n=31;j=babelHelpers.inherits(o,c("React").Component);k=j&&j.prototype;function o(p){"use strict";__p&&__p();k.constructor.call(this,p);this.$CommercialBreakStartingIndicator1=null;this.$CommercialBreakStartingIndicator2=null;this.$CommercialBreakStartingIndicator4=null;this.$CommercialBreakStartingIndicator12=null;this.$CommercialBreakStartingIndicator13=null;this.$CommercialBreakStartingIndicator15=false;this.state={percentComplete:-1};this.$CommercialBreakStartingIndicator11=false;this.$CommercialBreakStartingIndicator15=false;this.$CommercialBreakStartingIndicator3=new(c("SubscriptionsHandler"))();this.$CommercialBreakStartingIndicator6=this.props.controller.addListener("optionsChange",function(){return this.$CommercialBreakStartingIndicator16()}.bind(this));this.$CommercialBreakStartingIndicator16();this.$CommercialBreakStartingIndicator14=this.props.controller.registerDrawer(c("VideoPlayerUIComponentDrawer").priorities.AdBreakStartingIndicator,n)}o.prototype.$CommercialBreakStartingIndicator16=function(){"use strict";__p&&__p();if(!this.$CommercialBreakStartingIndicator1){var p=this.props.controller.getOption("VideoWithInstreamVideo","controller");this.$CommercialBreakStartingIndicator1=p&&p.getConfig()}if(!this.$CommercialBreakStartingIndicator5){var q=this.props.controller.getOption("VideoWithCommercialBreak","controller");this.$CommercialBreakStartingIndicator5=q&&q.addListener("commercialBreak/stateChange",function(r){return this.$CommercialBreakStartingIndicator17(r.state)}.bind(this))}if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator5)this.$CommercialBreakStartingIndicator6.remove()};o.prototype.$CommercialBreakStartingIndicator18=function(){"use strict";__p&&__p();clearInterval(this.$CommercialBreakStartingIndicator4);c("CSS").addClass(this.props.container,"_20dq");if(this.$CommercialBreakStartingIndicator10)c("CSS").removeClass(this.$CommercialBreakStartingIndicator10,"_3ee4");if(this.$CommercialBreakStartingIndicator9)c("CSS").removeClass(this.$CommercialBreakStartingIndicator9,"_3ee4");if(this.$CommercialBreakStartingIndicator7)c("CSS").removeClass(this.$CommercialBreakStartingIndicator7,"_3ee6");if(this.$CommercialBreakStartingIndicator7)c("CSS").removeClass(this.$CommercialBreakStartingIndicator7,"_3ee4");c("CSS").removeClass(this.props.container,"_1xn2");this.setState({percentComplete:-1});this.$CommercialBreakStartingIndicator11=false};o.prototype.$CommercialBreakStartingIndicator19=function(p){"use strict";var q=this.props.controller.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC,r=-1;if(q>p)clearInterval(this.$CommercialBreakStartingIndicator4);else if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.startingIndicatorMs&&q>p-this.$CommercialBreakStartingIndicator1.startingIndicatorMs)r=100-100*(p-q)/this.$CommercialBreakStartingIndicator1.startingIndicatorMs;this.setState({percentComplete:r})};o.prototype.$CommercialBreakStartingIndicator20=function(p){"use strict";__p&&__p();var q=this.props.controller.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC;if(q>p){if(!this.$CommercialBreakStartingIndicator15)this.$CommercialBreakStartingIndicator21();return}clearInterval(this.$CommercialBreakStartingIndicator4);if(!this.$CommercialBreakStartingIndicator1||!this.$CommercialBreakStartingIndicator1.startingIndicatorMs)return;this.$CommercialBreakStartingIndicator4=setInterval(function(){this.$CommercialBreakStartingIndicator19(p)}.bind(this),this.$CommercialBreakStartingIndicator1.startingIndicatorMs/100);this.$CommercialBreakStartingIndicator15=true};o.prototype.componentDidMount=function(){"use strict";this.$CommercialBreakStartingIndicator3.addSubscriptions(this.props.controller.addListener("commercialBreak/vodBreakStarting",function(p){this.$CommercialBreakStartingIndicator20(p)}.bind(this)),this.props.controller.addListener("seekRequested",this.$CommercialBreakStartingIndicator18.bind(this)));this.props.controller.registerOption("WatchAndScroll","hideOverlay",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this));this.props.controller.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this));this.props.controller.registerOption("VideoWithInstreamVideo","disableClickToPause",function(){return this.$CommercialBreakStartingIndicator2!==null}.bind(this))};o.prototype.componentWillUnmount=function(){"use strict";this.$CommercialBreakStartingIndicator3.release();if(this.$CommercialBreakStartingIndicator5)this.$CommercialBreakStartingIndicator5.remove();this.props.controller.unregisterOption("WatchAndScroll","hideOverlay");this.props.controller.unregisterOption("VideoContextMenu","disablePauseMenuItem");this.props.controller.unregisterOption("VideoWithInstreamVideo","disableClickToPause")};o.prototype.componentWillReceiveProps=function(p){"use strict";if(p.adsStopped)this.$CommercialBreakStartingIndicator21()};o.prototype.componentDidUpdate=function(){"use strict";if(this.$CommercialBreakStartingIndicator9&&this.$CommercialBreakStartingIndicator8)c("Style").set(this.$CommercialBreakStartingIndicator9,"width",this.$CommercialBreakStartingIndicator8.clientWidth+34+"px");if(!this.$CommercialBreakStartingIndicator11&&this.state.percentComplete>=0){c("CSS").addClass(this.props.container,"_1xn2");this.$CommercialBreakStartingIndicator11=true;this.$CommercialBreakStartingIndicator14.reserve()}};o.prototype.$CommercialBreakStartingIndicator17=function(p){"use strict";switch(p){case c("CommercialBreakState").ENTERING_TRANSITION:this.$CommercialBreakStartingIndicator22();break;case c("CommercialBreakState").INIT:case c("CommercialBreakState").PLAY_AD_COUNTDOWN:this.$CommercialBreakStartingIndicator21();break}};o.prototype.$CommercialBreakStartingIndicator22=function(){"use strict";__p&&__p();clearInterval(this.$CommercialBreakStartingIndicator4);var p=this.$CommercialBreakStartingIndicator1;if(!p||!p.beginningNonLiveTransitionTimeMs)return;var q=p.beginningNonLiveTransitionTimeMs-l;if(q<l)return;this.$CommercialBreakStartingIndicator12=setTimeout(function(){clearTimeout(this.$CommercialBreakStartingIndicator12);if(this.$CommercialBreakStartingIndicator9)c("CSS").addClass(this.$CommercialBreakStartingIndicator9,"_3ee4")}.bind(this),m);this.$CommercialBreakStartingIndicator13=setTimeout(function(){clearTimeout(this.$CommercialBreakStartingIndicator13);if(this.$CommercialBreakStartingIndicator7)c("CSS").addClass(this.$CommercialBreakStartingIndicator7,"_3ee4")}.bind(this),q);if(this.$CommercialBreakStartingIndicator10)c("CSS").addClass(this.$CommercialBreakStartingIndicator10,"_3ee4");if(this.$CommercialBreakStartingIndicator7)c("CSS").addClass(this.$CommercialBreakStartingIndicator7,"_3ee6")};o.prototype.$CommercialBreakStartingIndicator21=function(){"use strict";if(this.$CommercialBreakStartingIndicator2){this.$CommercialBreakStartingIndicator2.release();this.$CommercialBreakStartingIndicator2=null}this.$CommercialBreakStartingIndicator18();this.$CommercialBreakStartingIndicator14.release();this.$CommercialBreakStartingIndicator15=false};o.prototype.$CommercialBreakStartingIndicator23=function(){"use strict";__p&&__p();if(!this.$CommercialBreakStartingIndicator2){this.$CommercialBreakStartingIndicator2=this.props.controller.getOption("VideoControls","acquireForceHideLock");this.props.controller.emit("adBreakIndicatorShowing");var p=this.props.controller.getOption("VideoWithInstreamVideo","controller");if(p){p.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STARTING_INDICATOR);this.props.controller.logEvent(c("VideoPlayerLoggerEvent").AD_BREAK_STARTING_INDICATOR,{instream_video_ad_break_index:p.getCurrentInstreamVideoAdBreakIndex(),instream_video_ad_break_video_id:p.getCurrentInstreamVideoAdBreakVideoID()})}}};o.prototype.$CommercialBreakStartingIndicator24=function(){"use strict";if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.vodPreTransitionText)return this.$CommercialBreakStartingIndicator1.vodPreTransitionText;return i._("Ad starting soon")};o.prototype.$CommercialBreakStartingIndicator25=function(){"use strict";if(this.$CommercialBreakStartingIndicator1&&this.$CommercialBreakStartingIndicator1.vodTransitionText)return this.$CommercialBreakStartingIndicator1.vodTransitionText;return i._("Video will continue after ad")};o.prototype.componentWillUpdate=function(p,q){"use strict";if(q.percentComplete>=0)this.$CommercialBreakStartingIndicator23()};o.prototype.render=function(){"use strict";if(this.$CommercialBreakStartingIndicator2)c("CSS").removeClass(this.props.container,"_20dq");return c("React").createElement("div",{className:"_3ee7"},c("React").createElement("div",{className:"_1xne",ref:function(p){this.$CommercialBreakStartingIndicator9=p}.bind(this)}),c("React").createElement("div",{className:"_3ee9",ref:function(p){this.$CommercialBreakStartingIndicator10=p}.bind(this)},c("React").createElement("div",{className:"_20ds"},c("React").createElement(c("CircularProgressBar.react"),{percentComplete:this.state.percentComplete})),c("React").createElement("div",{className:"_4zpn",ref:function(p){this.$CommercialBreakStartingIndicator8=p}.bind(this)},this.$CommercialBreakStartingIndicator24())),c("React").createElement("div",{className:"_3eea",ref:function(p){this.$CommercialBreakStartingIndicator7=p}.bind(this)},this.$CommercialBreakStartingIndicator25()))};f.exports=o}),null);
__d("CommercialBreakNoAdReason",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NO_VIDEO_AD:"no_video_ad",TIME_SPENT_INSUFFICIENT:"time_spent_insufficient",PLAYBACK_ERROR:"playback_error",HIDE_AD:"hide_ad",WAIT_FOR_FAILED:"wait_for_failed",SPONSORED_STORY:"sponsored_story",CONTROL_GROUP:"control_group",DUPLICATE_VIDEO:"duplicate_video",INACTIVE_TAB:"inactive_tab",IS_COMMENTING:"is_commenting",SCRUBBER_FETCH_INCOMPLETE:"scrubber_fetch_incomplete"})}),null);
__d("InstreamVideoAdType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"live",VOD:"vod",NONLIVE:"nonlive",LIVE_POST_ROLL:"live_post_roll",VOD_POST_ROLL:"vod_post_roll",NONLIVE_POST_ROLL:"nonlive_post_roll",LIVE_AD_PODS:"live_ad_pods",NONLIVE_PRE_ROLL:"nonlive_pre_roll"})}),null);
__d("InstreamVideoAdsController",["CommercialBreakMobileEvent","DataAttributeUtils","DateConsts","DOMQuery","Map","MarauderLogger","NonBlockingIFrame","URI","VideoPlayerStates","ViewableImpressionConfig"],(function a(b,c,d,e,f,g){__p&&__p();var h=null;function i(){"use strict";this.$InstreamVideoAdsController1=new(c("Map"))()}i.prototype.$InstreamVideoAdsController2=function(j){"use strict";var k=[];this.$InstreamVideoAdsController1.forEach(function(l,m){if(!m.isState(c("VideoPlayerStates").DESTROYED)&&c("DOMQuery").contains(j,m.getRootNode()))k.push(m)});if(k.length===0)return null;return k[0]};i.prototype.$InstreamVideoAdsController3=function(j,k){"use strict";if(this.$InstreamVideoAdsController1.has(j))return;this.$InstreamVideoAdsController1.set(j,k)};i.registerVideoController=function(j,k){"use strict";if(h===null)h=new i();h.$InstreamVideoAdsController3(j,k);c("MarauderLogger").log(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_REGISTER_VIDEO,"commercial_break",{commercial_break_ad_client_token:j.getAdClientToken()});var l=h;j.once("beginPlayback",function(){l.$InstreamVideoAdsController4(j)})};i.prototype.$InstreamVideoAdsController4=function(j){"use strict";var k=this.$InstreamVideoAdsController1.get(j);if(c("DOMQuery").contains(k,j.getRootNode())){var l=c("DataAttributeUtils").getDataAttribute(k,"data-xt"),m=Math.floor(Date.now()/c("DateConsts").MS_PER_SEC),n={xt:l,isv:1,cts:m};c("NonBlockingIFrame").loadIFrame(new(c("URI"))(c("ViewableImpressionConfig").impressionURL).addQueryData(n).toString())}};i.findVideoControllerForStory=function(j){"use strict";if(h===null)return null;return h.$InstreamVideoAdsController2(j)};f.exports=i}),null);
__d("CommercialBreakVideoAdOverlay",["cx","Arbiter","Bootloader","CommercialBreakMobileEvent","CommercialBreakNoAdReason","CommercialBreakState","CSS","DOM","DOMDimensions","Event","InstreamVideoAdsController","InstreamVideoAdType","SubscriptionsHandler","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","getFullScreenElement","gkx"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j,k){"use strict";__p&&__p();this.$CommercialBreakVideoAdOverlay7=k;this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay1=j;this.$CommercialBreakVideoAdOverlay4=null;this.$CommercialBreakVideoAdOverlay10=false;this.$CommercialBreakVideoAdOverlay11=false;this.$CommercialBreakVideoAdOverlay12=0;this.$CommercialBreakVideoAdOverlay14=false;this.$CommercialBreakVideoAdOverlay15={};this.$CommercialBreakVideoAdOverlay16=0;this.$CommercialBreakVideoAdOverlay17=false;this.$CommercialBreakVideoAdOverlay6=j.addListener("optionsChange",function(){return this.$CommercialBreakVideoAdOverlay18()}.bind(this));this.$CommercialBreakVideoAdOverlay18()}i.prototype.stopAdWithoutTransition=function(){"use strict";this.$CommercialBreakVideoAdOverlay19();if(this.$CommercialBreakVideoAdOverlay3)this.$CommercialBreakVideoAdOverlay3.reset()};i.prototype.$CommercialBreakVideoAdOverlay18=function(){"use strict";__p&&__p();this.$CommercialBreakVideoAdOverlay2=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithInstreamVideo","controller");if(!this.$CommercialBreakVideoAdOverlay2)return;this.$CommercialBreakVideoAdOverlay3=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithCommercialBreak","controller");if(!this.$CommercialBreakVideoAdOverlay3)return;this.$CommercialBreakVideoAdOverlay6.remove();this.$CommercialBreakVideoAdOverlay8=this.$CommercialBreakVideoAdOverlay2.getConfig();this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/vodBreakStarting",function(){this.$CommercialBreakVideoAdOverlay20()}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/videoAdStoryFetched",function(j,k,l,m,n){if(j){c("DOM").setContent(this.$CommercialBreakVideoAdOverlay7,j);this.$CommercialBreakVideoAdOverlay10=true;this.$CommercialBreakVideoAdOverlay11=!k;this.$CommercialBreakVideoAdOverlay12=l;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(m);this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakClientToken(n)}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/videoAdPodFetched",function(j,k,l){__p&&__p();if(j){this.$CommercialBreakVideoAdOverlay14=true;this.$CommercialBreakVideoAdOverlay15=j;this.$CommercialBreakVideoAdOverlay16=0;for(var m=0;this.$CommercialBreakVideoAdOverlay15[m];m++){var n=this.$CommercialBreakVideoAdOverlay15[m];if(n.videoAdStory){this.$CommercialBreakVideoAdOverlay10=true;this.$CommercialBreakVideoAdOverlay11=true;this.$CommercialBreakVideoAdOverlay12=l;c("DOM").appendContent(this.$CommercialBreakVideoAdOverlay7,n.videoAdStory)}}var o=this.$CommercialBreakVideoAdOverlay15[this.$CommercialBreakVideoAdOverlay16];if(o){var p=o.instreamVideoAdBreakVideoID;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(p)}}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/stateChange",function(j){__p&&__p();var k=j.state;switch(k){case c("CommercialBreakState").AD_REQUEST_SENT:case c("CommercialBreakState").ENTERING_TRANSITION:var l=this.$CommercialBreakVideoAdOverlay21();if(!!l.height&&!!l.width)this.$CommercialBreakVideoAdOverlay13=l;break;case c("CommercialBreakState").PLAY_AD_COUNTDOWN:this.$CommercialBreakVideoAdOverlay22();break;case c("CommercialBreakState").INIT:this.$CommercialBreakVideoAdOverlay19();break;case c("CommercialBreakState").LEAVING_TRANSITION:if(this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay19();break}}.bind(this));this.$CommercialBreakVideoAdOverlay3.addListener("commercialBreak/inTransition",function(j){return this.$CommercialBreakVideoAdOverlay23(j.shouldShowAd)}.bind(this));this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/CTAClicked",this.$CommercialBreakVideoAdOverlay24.bind(this))};i.prototype.$CommercialBreakVideoAdOverlay24=function(){"use strict";this.$CommercialBreakVideoAdOverlay17=true};i.prototype.$CommercialBreakVideoAdOverlay25=function(j){__p&&__p();var k;"use strict";j.setLogEntryPropertyGetters((k={},k[c("VideoPlayerLoggerEventField").HOST_VIDEO_ID]=this.$CommercialBreakVideoAdOverlay8.hostVideoID,k[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$CommercialBreakVideoAdOverlay12,k));j.addListener("stateChange",function(){if(!this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay26();else if(this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").FINISHED))if(this.$CommercialBreakVideoAdOverlay14)this.$CommercialBreakVideoAdOverlay27();else this.$CommercialBreakVideoAdOverlay26()}.bind(this));j.addListener("playRequested",function(l){if(l===c("VideoPlayerReason").USER)this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PLAY_AD)}.bind(this));j.addListener("pauseRequested",function(l){this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PAUSE_AD,{video_player_reason:l})}.bind(this));if(this.$CommercialBreakVideoAdOverlay8.videoChannelCaller)j.addListener("clickVideo",this.$CommercialBreakVideoAdOverlay28.bind(this));this.$CommercialBreakVideoAdOverlay2.registerInstreamVideo(j);this.$CommercialBreakVideoAdOverlay29();this.$CommercialBreakVideoAdOverlay30();this.$CommercialBreakVideoAdOverlay31()};i.prototype.$CommercialBreakVideoAdOverlay32=function(){"use strict";__p&&__p();var j=null,k=this.$CommercialBreakVideoAdOverlay2.getCurrentInstreamVideoAdType();switch(k){case c("InstreamVideoAdType").LIVE:if(this.$CommercialBreakVideoAdOverlay3.getIsDuplicateVideo())j=c("CommercialBreakNoAdReason").DUPLICATE_VIDEO;else if(!this.$CommercialBreakVideoAdOverlay10)j=c("CommercialBreakNoAdReason").WAIT_FOR_FAILED;else if(!this.$CommercialBreakVideoAdOverlay11)j=c("CommercialBreakNoAdReason").NO_VIDEO_AD;else j=c("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STATIC_COUNTDOWN,{commercial_break_no_ad_reason:j});break;case c("InstreamVideoAdType").VOD:case c("InstreamVideoAdType").NONLIVE:j=c("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$CommercialBreakVideoAdOverlay2.logMarauderEvent(this.$CommercialBreakVideoAdOverlay8.disableNoAdTransition?c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING:c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_NO_AD_TRANSITION,{commercial_break_no_ad_reason:j});this.$CommercialBreakVideoAdOverlay3.reset();break}};i.prototype.$CommercialBreakVideoAdOverlay26=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay19();this.$CommercialBreakVideoAdOverlay3.onLeaveTransition()};i.prototype.$CommercialBreakVideoAdOverlay22=function(){"use strict";this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay20();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay25(this.$CommercialBreakVideoAdOverlay4);else this.$CommercialBreakVideoAdOverlay32()};i.prototype.$CommercialBreakVideoAdOverlay20=function(){"use strict";this.$CommercialBreakVideoAdOverlay4=c("InstreamVideoAdsController").findVideoControllerForStory(this.$CommercialBreakVideoAdOverlay7);if(this.$CommercialBreakVideoAdOverlay4&&!this.$CommercialBreakVideoAdOverlay4.hasOption("CommercialBreakVideoAdOverlay","videoController"))this.$CommercialBreakVideoAdOverlay4.registerOption("CommercialBreakVideoAdOverlay","videoController",function(){return this.$CommercialBreakVideoAdOverlay1}.bind(this));if(this.$CommercialBreakVideoAdOverlay4&&!this.$CommercialBreakVideoAdOverlay4.hasOption("VideoContextMenu","disablePauseMenuItem"))this.$CommercialBreakVideoAdOverlay4.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$CommercialBreakVideoAdOverlay8.isLive||!this.$CommercialBreakVideoAdOverlay8.canPauseAdBreak}.bind(this))};i.prototype.$CommercialBreakVideoAdOverlay27=function(){"use strict";__p&&__p();this.$CommercialBreakVideoAdOverlay16++;var j=this.$CommercialBreakVideoAdOverlay15[this.$CommercialBreakVideoAdOverlay16];if(!j)this.$CommercialBreakVideoAdOverlay26();else{var k=j.videoAdStory,l=j.instreamVideoAdBreakVideoID;if(k){if(this.$CommercialBreakVideoAdOverlay7.children.length>0)c("DOM").remove(this.$CommercialBreakVideoAdOverlay7.children[0]);this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(l);var m=this.$CommercialBreakVideoAdOverlay4?this.$CommercialBreakVideoAdOverlay4.isMuted():true,n=this.$CommercialBreakVideoAdOverlay4?this.$CommercialBreakVideoAdOverlay4.getVolume():0;if(this.$CommercialBreakVideoAdOverlay5)this.$CommercialBreakVideoAdOverlay5.release();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.destroy();this.$CommercialBreakVideoAdOverlay4=null;this.$CommercialBreakVideoAdOverlay22();var o=this.$CommercialBreakVideoAdOverlay4;if(o){o.setVolume(n);if(m)o.mute();else o.unmute()}}else this.$CommercialBreakVideoAdOverlay26()}};i.prototype.$CommercialBreakVideoAdOverlay21=function(){"use strict";var j=c("DOMDimensions").getElementDimensions(this.$CommercialBreakVideoAdOverlay1.getRootNode());if(this.$CommercialBreakVideoAdOverlay1.isFullscreen())j=c("DOMDimensions").getElementDimensions(c("getFullScreenElement")());return j};i.prototype.$CommercialBreakVideoAdOverlay29=function(){"use strict";var j=this.$CommercialBreakVideoAdOverlay4;if(!j)return;var k=this.$CommercialBreakVideoAdOverlay21();if((!k.width||!k.height)&&this.$CommercialBreakVideoAdOverlay13)k=this.$CommercialBreakVideoAdOverlay13;j.setDimensions(k.width,k.height)};i.prototype.$CommercialBreakVideoAdOverlay30=function(){"use strict";var j=this.$CommercialBreakVideoAdOverlay4;if(!j)return;var k=this.$CommercialBreakVideoAdOverlay1.getSource();if(k)j.updateSource(k)};i.prototype.$CommercialBreakVideoAdOverlay33=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay2.shouldPlayInstreamAd()){c("CSS").removeClass(this.$CommercialBreakVideoAdOverlay7,"_50m2");if(!this.$CommercialBreakVideoAdOverlay8.isBroadcast)this.$CommercialBreakVideoAdOverlay1.emit("commercialBreak/hideUFI");this.$CommercialBreakVideoAdOverlay2.playInstreamAd()}};i.prototype.$CommercialBreakVideoAdOverlay28=function(){"use strict";if(!this.$CommercialBreakVideoAdOverlay4||!this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING))return;var j=this.$CommercialBreakVideoAdOverlay1.getOption("VideoWithClickToChannelView","isChannelEligible"),k=this.$CommercialBreakVideoAdOverlay1.getOption("WatchAndScroll","isActive");if(j&&!k)c("Bootloader").loadModules(["VideoChannelController"],function(l){l.openFromVideoPlayer(this.$CommercialBreakVideoAdOverlay1,this.$CommercialBreakVideoAdOverlay1.getVideoChannelID(),this.$CommercialBreakVideoAdOverlay8.videoChannelCaller)}.bind(this),"CommercialBreakVideoAdOverlay")};i.prototype.$CommercialBreakVideoAdOverlay23=function(j){"use strict";if(j){this.$CommercialBreakVideoAdOverlay20();this.$CommercialBreakVideoAdOverlay29();if(this.$CommercialBreakVideoAdOverlay4)c("CSS").removeClass(this.$CommercialBreakVideoAdOverlay7,"_50m2")}else this.$CommercialBreakVideoAdOverlay19()};i.prototype.$CommercialBreakVideoAdOverlay31=function(){"use strict";__p&&__p();if(this.$CommercialBreakVideoAdOverlay9)return;this.$CommercialBreakVideoAdOverlay9=true;this.$CommercialBreakVideoAdOverlay5=new(c("SubscriptionsHandler"))();this.$CommercialBreakVideoAdOverlay5.addSubscriptions(this.$CommercialBreakVideoAdOverlay1.addListener("VideoChannelController/enterChannel",this.$CommercialBreakVideoAdOverlay34.bind(this)),c("Arbiter").subscribe("VideoChannelView/closed",this.$CommercialBreakVideoAdOverlay34.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("TahoeController/exitTahoe",this.$CommercialBreakVideoAdOverlay34.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("TahoeController/enterTahoe",this.$CommercialBreakVideoAdOverlay34.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("toggleFullscreen",function(){this.$CommercialBreakVideoAdOverlay29();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.logEvent(this.$CommercialBreakVideoAdOverlay4.isFullscreen()?c("VideoPlayerLoggerEvent").ENTERED_FS:c("VideoPlayerLoggerEvent").EXITED_FS)}.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("WatchAndScroll/positionUpdated",this.$CommercialBreakVideoAdOverlay29.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/scrollAway",function(){if(this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING)){this.$CommercialBreakVideoAdOverlay4.pause(c("VideoPlayerReason").AUTOPLAY);this.$CommercialBreakVideoAdOverlay1.once("commercialBreak/scrollInto",function(){if(this.$CommercialBreakVideoAdOverlay9&&this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PAUSED))this.$CommercialBreakVideoAdOverlay4.play(c("VideoPlayerReason").AUTOPLAY)}.bind(this))}}.bind(this)),this.$CommercialBreakVideoAdOverlay1.addListener("commercialBreak/scrollInto",function(){if(this.$CommercialBreakVideoAdOverlay9&&this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").READY))this.$CommercialBreakVideoAdOverlay33()}.bind(this)),c("Event").listen(window,"focus",this.$CommercialBreakVideoAdOverlay35.bind(this)));this.$CommercialBreakVideoAdOverlay33()};i.prototype.$CommercialBreakVideoAdOverlay35=function(){"use strict";if(this.$CommercialBreakVideoAdOverlay17&&c("gkx")("AT66Z79NswpYFsO2HRr4G1bTG5VJVqTPW01ZncfhaP9KYk7xRjZpH31DhXmSLmHqwAl8I-jzWVNqbJuSv73dKTUSC2M6ufJ3-1EqUthLG94bOQ"))this.$CommercialBreakVideoAdOverlay3.endCommercialBreakByCTAClick()};i.prototype.$CommercialBreakVideoAdOverlay34=function(){"use strict";this.$CommercialBreakVideoAdOverlay29();this.$CommercialBreakVideoAdOverlay30()};i.prototype.$CommercialBreakVideoAdOverlay19=function(){"use strict";__p&&__p();if(!this.$CommercialBreakVideoAdOverlay9)return;this.$CommercialBreakVideoAdOverlay9=false;this.$CommercialBreakVideoAdOverlay10=false;this.$CommercialBreakVideoAdOverlay11=false;this.$CommercialBreakVideoAdOverlay12=0;this.$CommercialBreakVideoAdOverlay14=false;this.$CommercialBreakVideoAdOverlay15={};this.$CommercialBreakVideoAdOverlay16=0;this.$CommercialBreakVideoAdOverlay2.setCurrentInstreamVideoAdBreakVideoID(null);this.$CommercialBreakVideoAdOverlay17=false;c("CSS").addClass(this.$CommercialBreakVideoAdOverlay7,"_50m2");if(this.$CommercialBreakVideoAdOverlay4&&this.$CommercialBreakVideoAdOverlay4.isState(c("VideoPlayerStates").PLAYING))this.$CommercialBreakVideoAdOverlay4.pause(c("VideoPlayerReason").AUTOPLAY);this.$CommercialBreakVideoAdOverlay5.release();if(this.$CommercialBreakVideoAdOverlay4)this.$CommercialBreakVideoAdOverlay4.destroy();this.$CommercialBreakVideoAdOverlay4=null;while(this.$CommercialBreakVideoAdOverlay7.children.length>0)c("DOM").remove(this.$CommercialBreakVideoAdOverlay7.children[0])};f.exports=i}),null);
__d("InstreamNFXHideType",[],(function a(b,c,d,e,f,g){f.exports={HIDE_AD:"HIDE_AD",HIDE_AD_BREAKS:"HIDE_AD_BREAKS"}}),null);
__d("CountdownTimer.react",["fbt","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes,l=1e3,m=3600,n=m*24*l;function o(t){if(t<10)return"0"+t;else return t.toString()}function p(t,u){var v=0;while(v<t.length&&u(t[v]))v+=1;return t.slice(v)}function q(t){t=p(t,function(v){return v===0});if(t.length===0)return"0";else{for(var u=1;u<t.length;u+=1)t[u]=o(t[u]);return t.join(":")}}var r={HUMAN:"human",DIGITAL:"digital"};i=babelHelpers.inherits(s,c("React").Component);j=i&&i.prototype;function s(){__p&&__p();var t,u;"use strict";for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=j.constructor).call.apply(t,[this].concat(w)),this.$CountdownTimer1=function(){return Math.max(this.props.endTime-Date.now(),0)}.bind(this),this.$CountdownTimer2=function(){var y=this.$CountdownTimer1();this.setState({remainingTime:y});if(y<=0){clearInterval(this.interval);if(this.props.onComplete)this.props.onComplete()}}.bind(this),this.formatTime=function(y,z,A){if(this.props.format==r.DIGITAL)return q([y,z,A]);else if(this.props.format==r.HUMAN)return h._({"*":{"*":{"*":"{hours}h {mins}m {seconds}s"}}},[h.param("hours",y,[0]),h.param("mins",z,[0]),h.param("seconds",A,[0])]);else throw new Error("Unknown format: "+this.props.format)}.bind(this),this.state={remainingTime:this.$CountdownTimer1()},u}s.prototype.componentDidMount=function(){"use strict";this.$CountdownTimer2();this.interval=setInterval(this.$CountdownTimer2,l)};s.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.interval)};s.prototype.render=function(){"use strict";var t=this.state.remainingTime;if(t>=n){var u=Math.floor(t/n);return c("React").createElement("span",null,u===1?h._("1 day"):h._({"*":"{number} days"},[h.param("number",u,[0])]))}else{var v=Math.ceil(t/l),w=Math.floor(v/m),x=new Date(v%m*l),y=x.getUTCMinutes(),z=x.getSeconds();return c("React").createElement("span",null,this.formatTime(w,y,z))}};s.propTypes={endTime:k.number.isRequired,format:k.oneOf([r.HUMAN,r.DIGITAL]).isRequired,onComplete:k.func};f.exports=s}),null);
__d("VideoCommercialBreakTransitionOverlay",["cx","fbt","CommercialBreakState","CountdownTimer.react","CSS","React","ReactDOM","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j=300,k=300;function l(m,n,o){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay9=null;this.$VideoCommercialBreakTransitionOverlay10=null;this.$VideoCommercialBreakTransitionOverlay1=n;this.$VideoCommercialBreakTransitionOverlay2=o;this.$VideoCommercialBreakTransitionOverlay7=new(c("SubscriptionsHandler"))();this.$VideoCommercialBreakTransitionOverlay4=m;this.$VideoCommercialBreakTransitionOverlay5=m.addListener("optionsChange",function(){return this.$VideoCommercialBreakTransitionOverlay11()}.bind(this));this.$VideoCommercialBreakTransitionOverlay11()}l.prototype.$VideoCommercialBreakTransitionOverlay11=function(){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay3=this.$VideoCommercialBreakTransitionOverlay4.getOption("VideoWithCommercialBreak","controller");if(!this.$VideoCommercialBreakTransitionOverlay3)return;var m=this.$VideoCommercialBreakTransitionOverlay4.getOption("VideoWithInstreamVideo","controller");if(!m)return;this.$VideoCommercialBreakTransitionOverlay6=m.getConfig();this.$VideoCommercialBreakTransitionOverlay5.remove();this.$VideoCommercialBreakTransitionOverlay7.engage();this.$VideoCommercialBreakTransitionOverlay7.addSubscriptions(this.$VideoCommercialBreakTransitionOverlay3.addListener("commercialBreak/stateChange",function(n){var o=n.state,p=n.countdownDurationMsecs;this.$VideoCommercialBreakTransitionOverlay12(o,p)}.bind(this)));this.$VideoCommercialBreakTransitionOverlay4.addListener("VideoChannelController/exitChannel",this.$VideoCommercialBreakTransitionOverlay13.bind(this));this.$VideoCommercialBreakTransitionOverlay4.addListener("stateChange",this.$VideoCommercialBreakTransitionOverlay13.bind(this))};l.prototype.$VideoCommercialBreakTransitionOverlay12=function(m,n){"use strict";__p&&__p();this.$VideoCommercialBreakTransitionOverlay8=m;switch(m){case c("CommercialBreakState").ENTERING_TRANSITION:case c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD:this.$VideoCommercialBreakTransitionOverlay14();break;case c("CommercialBreakState").PLAY_AD_COUNTDOWN:this.$VideoCommercialBreakTransitionOverlay15(n);break;case c("CommercialBreakState").LEAVING_TRANSITION:this.$VideoCommercialBreakTransitionOverlay16();break;case c("CommercialBreakState").INIT:this.$VideoCommercialBreakTransitionOverlay17();break}this.$VideoCommercialBreakTransitionOverlay13()};l.prototype.$VideoCommercialBreakTransitionOverlay14=function(){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast){this.$VideoCommercialBreakTransitionOverlay18(i._("will be back soon"),null);this.$VideoCommercialBreakTransitionOverlay4.emit("commercialBreak/hideUFI")}else this.$VideoCommercialBreakTransitionOverlay19()};l.prototype.$VideoCommercialBreakTransitionOverlay19=function(){"use strict";__p&&__p();if(!this.$VideoCommercialBreakTransitionOverlay6.beginningNonLiveTransitionTimeMs)return;this.$VideoCommercialBreakTransitionOverlay20();var m=Math.max(j,this.$VideoCommercialBreakTransitionOverlay6.beginningNonLiveTransitionTimeMs-j);c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");this.$VideoCommercialBreakTransitionOverlay9=setTimeout(function(){clearTimeout(this.$VideoCommercialBreakTransitionOverlay9);this.$VideoCommercialBreakTransitionOverlay3.emit("commercialBreak/inTransition",{shouldShowAd:true});c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")}.bind(this),m)};l.prototype.$VideoCommercialBreakTransitionOverlay16=function(){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)this.$VideoCommercialBreakTransitionOverlay18(i._("is returning now"),null);else this.$VideoCommercialBreakTransitionOverlay21()};l.prototype.$VideoCommercialBreakTransitionOverlay21=function(){"use strict";if(!this.$VideoCommercialBreakTransitionOverlay6.endingNonLiveTransitionTimeMs)return;this.$VideoCommercialBreakTransitionOverlay20();c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");this.$VideoCommercialBreakTransitionOverlay10=setTimeout(function(){clearTimeout(this.$VideoCommercialBreakTransitionOverlay10);this.$VideoCommercialBreakTransitionOverlay3.emit("commercialBreak/inTransition",{shouldShowAd:false});c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")}.bind(this),k)};l.prototype.$VideoCommercialBreakTransitionOverlay20=function(){"use strict";c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay2,"_hax");c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay2,"_hay")};l.prototype.$VideoCommercialBreakTransitionOverlay15=function(m){"use strict";if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)if(m)this.$VideoCommercialBreakTransitionOverlay18(i._("will return in"),m);else this.$VideoCommercialBreakTransitionOverlay18(i._("will be back soon"),null)};l.prototype.$VideoCommercialBreakTransitionOverlay18=function(m,n){"use strict";c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2);var o=null;if(n)o=c("React").createElement("div",{className:"_4fih"},c("React").createElement(c("CountdownTimer.react"),{endTime:Date.now()+n,format:"digital"}));c("ReactDOM").render(c("React").createElement("div",null,c("React").createElement("div",{className:"_4fid"},m),o),this.$VideoCommercialBreakTransitionOverlay2)};l.prototype.$VideoCommercialBreakTransitionOverlay17=function(){"use strict";c("ReactDOM").unmountComponentAtNode(this.$VideoCommercialBreakTransitionOverlay2);this.$VideoCommercialBreakTransitionOverlay4.emit("commercialBreak/showUFI");clearTimeout(this.$VideoCommercialBreakTransitionOverlay9);clearTimeout(this.$VideoCommercialBreakTransitionOverlay10)};l.prototype.$VideoCommercialBreakTransitionOverlay22=function(){"use strict";return this.$VideoCommercialBreakTransitionOverlay4?this.$VideoCommercialBreakTransitionOverlay4.getVideoNodeNullable():null};l.prototype.$VideoCommercialBreakTransitionOverlay23=function(){"use strict";c("CSS").addClass(this.$VideoCommercialBreakTransitionOverlay1,"_4fii");var m=this.$VideoCommercialBreakTransitionOverlay22();if(m)c("CSS").removeClass(m,"_1_d3")};l.prototype.$VideoCommercialBreakTransitionOverlay24=function(){"use strict";c("CSS").removeClass(this.$VideoCommercialBreakTransitionOverlay1,"_4fii");var m=this.$VideoCommercialBreakTransitionOverlay22();if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast&&m)c("CSS").addClass(m,"_1_d3")};l.prototype.$VideoCommercialBreakTransitionOverlay13=function(){"use strict";switch(this.$VideoCommercialBreakTransitionOverlay8){case c("CommercialBreakState").ENTERING_TRANSITION:case c("CommercialBreakState").LEAVING_TRANSITION:this.$VideoCommercialBreakTransitionOverlay24();break;case c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD:case c("CommercialBreakState").PLAY_AD_COUNTDOWN:if(this.$VideoCommercialBreakTransitionOverlay6.isBroadcast)this.$VideoCommercialBreakTransitionOverlay24();else this.$VideoCommercialBreakTransitionOverlay23();break;default:this.$VideoCommercialBreakTransitionOverlay23()}};f.exports=l}),null);
__d("AdBreakToastEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FETCH_AD:"fetch_ad",FETCH_AD_SUCCEED:"fetch_ad_succeed",FETCH_AD_FAIL:"fetch_ad_fail",IMPRESSION_LOGGING:"impression_logging",VIEWER_TABLE_LOGGING:"viewer_table_logging"})}),null);
__d("InstreamPlacement",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({PRE_ROLL:"pre_roll",MID_ROLL:"mid_roll",POST_ROLL:"post_roll"})}),null);
__d("XInstreamVideoDemoStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/instream_demo/view/story/async/",{instream_video_type:{type:"Enum",required:true,enumType:1},instream_video_break_index:{type:"Int",required:true}})}),null);
__d("XInstreamVideoSponsoredStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/instream_video/view/story/async/",{host_video_id:{type:"FBID",required:true},instream_video_type:{type:"Enum",required:true,enumType:1},instream_video_break_index:{type:"Int",required:true},player_origin:{type:"String"},player_sub_origin:{type:"String"},script_path:{type:"String"},video_channel_caller:{type:"Enum",enumType:1},is_sponsored_host_video:{type:"Bool",defaultValue:false},referrer:{type:"String"},option_menu_button_id:{type:"String"},host_video_stall_count:{type:"Int"},ad_break_duration_ms:{type:"Int"},player_format:{type:"String"},instream_placement:{type:"Enum",enumType:1}})}),null);
__d("VideoWithCommercialBreak",["cx","AdBreakToastEvent","AsyncRequest","BanzaiODS","Base64","CommercialBreakExperiments","CommercialBreakHostStoryComponentType","CommercialBreakMobileEvent","CommercialBreakSkywalkerSubscriptionManager","CommercialBreakState","CSS","DataStore","DateConsts","EntstreamFeedObjectFollowup","EventEmitter","InstreamNFXHideType","InstreamPlacement","RTISubscriptionManager","ScriptPath","StoryComponentVideoPlayerControllerRegistry","SubscriptionsHandler","VideoPlayerFormats","VideoPlayerFormatsMap","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerStates","XInstreamVideoDemoStoryAsyncController","XInstreamVideoSponsoredStoryAsyncController","hasAdblock","uniqueID"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=Object.freeze({INTENT:"intent",START:"start"}),l=Object.freeze({SHORT_AD_COUNTDOWN_MS:3e3}),m=Object.freeze({NONE:"none",PLAYBACK_FINISHED:"playback_finished",CUT_OFF:"cut_off",HIDE_AD:"hide_ad",HIDE_AD_BREAKS:"hide_ad_breaks",CALL_TO_ACTION_BUTTON_CLICKS:"call_to_action_button_clicks"}),n=Object.freeze({NORMAL:"normal",STALL_STREAM:"stall_stream",STREAM_DRY_OUT:"stream_dry_out"});i=babelHelpers.inherits(o,c("EventEmitter"));j=i&&i.prototype;function o(p){"use strict";__p&&__p();j.constructor.call(this);this.$VideoWithCommercialBreak5=c("CommercialBreakState").INIT;this.$VideoWithCommercialBreak10=new(c("SubscriptionsHandler"))();this.$VideoWithCommercialBreak1=p;this.$VideoWithCommercialBreak11=null;this.$VideoWithCommercialBreak13=-1;this.$VideoWithCommercialBreak19=false;this.$VideoWithCommercialBreak12={};this.$VideoWithCommercialBreak22=0;this.$VideoWithCommercialBreak18=null;this.$VideoWithCommercialBreak26=c("uniqueID")();this.$VideoWithCommercialBreak28=-1;this.$VideoWithCommercialBreak2=p.addListener("optionsChange",function(){return this.$VideoWithCommercialBreak29()}.bind(this));this.$VideoWithCommercialBreak29();c("hasAdblock")(function(q){this.$VideoWithCommercialBreak21=q}.bind(this))}o.prototype.$VideoWithCommercialBreak29=function(){"use strict";__p&&__p();this.$VideoWithCommercialBreak9=this.$VideoWithCommercialBreak1.getOption("VideoWithInstreamVideo","controller");if(!this.$VideoWithCommercialBreak9)return;this.$VideoWithCommercialBreak2.remove();this.$VideoWithCommercialBreak4=this.$VideoWithCommercialBreak9.getConfig();if(!this.$VideoWithCommercialBreak4.isComposerPreviewing){if(c("CommercialBreakExperiments").instreamAdsNFXOnContextCard)c("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,c("CommercialBreakHostStoryComponentType").POP_OVER_MENU);if(c("CommercialBreakExperiments").instreamAdsEnableGreyHostStory)c("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,c("CommercialBreakHostStoryComponentType").HOST_STORY_HEADER)}this.reset();this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","enabled",function(){return true});this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","controller",function(){return this}.bind(this));this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","isInstreamPausedByNFX",this.$VideoWithCommercialBreak30.bind(this));if(this.$VideoWithCommercialBreak4.skywalkerTopic){if(c("RTISubscriptionManager").isSubscribed(this.$VideoWithCommercialBreak4.skywalkerTopic))this.$VideoWithCommercialBreak17=true;var p=c("CommercialBreakSkywalkerSubscriptionManager").subscribe(this.$VideoWithCommercialBreak4.skywalkerTopic,this.$VideoWithCommercialBreak31.bind(this));if(p){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").SUBSCRIPTION_SUCCESS);if(this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak1.addListener("commercialBreak/scrollAway",function(){if(this.$VideoWithCommercialBreak13<0)this.$VideoWithCommercialBreak13=Date.now()}.bind(this));this.$VideoWithCommercialBreak1.addListener("commercialBreak/scrollInto",function(){this.$VideoWithCommercialBreak13=-1}.bind(this))}}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").SUBSCRIPTION_FAILURE)}};o.prototype.$VideoWithCommercialBreak32=function(){"use strict";return this.$VideoWithCommercialBreak4.isLive&&this.$VideoWithCommercialBreak23==="false"&&this.$VideoWithCommercialBreak11===null};o.prototype.$VideoWithCommercialBreak33=function(p){__p&&__p();var q=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];"use strict";if(p===this.$VideoWithCommercialBreak5)return;if(p===c("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak32()){this.reset();return}q.state=p;if(p===c("CommercialBreakState").INIT){this.$VideoWithCommercialBreak9.resetInstreamVideo();this.$VideoWithCommercialBreak10.release();this.$VideoWithCommercialBreak10.engage();this.$VideoWithCommercialBreak11=null;this.$VideoWithCommercialBreak24=null;this.$VideoWithCommercialBreak25=null;this.$VideoWithCommercialBreak27=null;this.$VideoWithCommercialBreak28=-1}else if(p===c("CommercialBreakState").ENTERING_TRANSITION||p===c("CommercialBreakState").PLAY_AD_COUNTDOWN||p===c("CommercialBreakState").LEAVING_TRANSITION||p===c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD)this.$VideoWithCommercialBreak9.registerInstreamVideo(null);this.$VideoWithCommercialBreak5=p;this.emit("commercialBreak/stateChange",q)};o.prototype.getChevronButtonID=function(){"use strict";return this.$VideoWithCommercialBreak26};o.prototype.getInstreamVideoOptionMenuURI=function(){"use strict";return this.$VideoWithCommercialBreak18};o.prototype.getIsCommercialBreakOngoing=function(){"use strict";return this.$VideoWithCommercialBreak5===c("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak4.isBroadcast||this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN||this.$VideoWithCommercialBreak5===c("CommercialBreakState").LEAVING_TRANSITION||this.$VideoWithCommercialBreak5===c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD};o.prototype.getIsDuringTransition=function(){"use strict";return this.$VideoWithCommercialBreak5===c("CommercialBreakState").ENTERING_TRANSITION||this.$VideoWithCommercialBreak5===c("CommercialBreakState").LEAVING_TRANSITION};o.prototype.reset=function(){"use strict";__p&&__p();this.$VideoWithCommercialBreak33(c("CommercialBreakState").INIT);this.$VideoWithCommercialBreak6=0;this.$VideoWithCommercialBreak22=0;this.$VideoWithCommercialBreak7=-1;this.$VideoWithCommercialBreak8=-1;this.$VideoWithCommercialBreak16=null;this.$VideoWithCommercialBreak19=false;this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(null);this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakVideoID(null);this.$VideoWithCommercialBreak18=null};o.prototype.logAndEndCommercialBreak=function(p){"use strict";this.$VideoWithCommercialBreak16=p||null;this.$VideoWithCommercialBreak34();this.reset()};o.prototype.endCommercialBreakByCTAClick=function(){"use strict";this.logAndEndCommercialBreak(m.CALL_TO_ACTION_BUTTON_CLICKS)};o.prototype.$VideoWithCommercialBreak35=function(p){"use strict";var q=this.$VideoWithCommercialBreak12[p.type];if(!q)return false;var r=true;Object.keys(q).forEach(function(s){if(q[s]!==p[s])r=false});return r};o.prototype.$VideoWithCommercialBreak31=function(p){"use strict";__p&&__p();p=JSON.parse(p.payload);if(this.$VideoWithCommercialBreak35(p)){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT);return}var q=p.type;if(q===k.START){this.$VideoWithCommercialBreak12[k.START]=p;this.onStartCommand(p)}else if(q===k.INTENT){this.$VideoWithCommercialBreak12[k.INTENT]=p;this.onIntentCommand(p)}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").RECEIVE_INVALID_MSG)};o.prototype.onIntentCommand=function(p){"use strict";__p&&__p();var q=p.commercial_break_length_ms?parseInt(p.commercial_break_length_ms,10):null,r=Object.prototype.hasOwnProperty.call(p,"index")?parseInt(p.index,10):0;if(this.$VideoWithCommercialBreak4.isLive&&p.type===k.INTENT){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").RECEIVE_INTENT_MSG,{topic:this.$VideoWithCommercialBreak4.skywalkerTopic,commercial_break_length_ms:q,ad_break_index:r});if(this.$VideoWithCommercialBreak13>0&&Date.now()-this.$VideoWithCommercialBreak13>this.$VideoWithCommercialBreak4.maxDurationHostVideoOffscreenToFetchMs)return}if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak33(c("CommercialBreakState").INIT);this.$VideoWithCommercialBreak33(c("CommercialBreakState").PREPARE);this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(r);if(this.$VideoWithCommercialBreak4.isLive&&q)this.$VideoWithCommercialBreak6=q;if(this.$VideoWithCommercialBreak17)return;var s=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType(),t=this.$VideoWithCommercialBreak1.getSource()===c("VideoPlayerLoggerSource").PERMALINK?document.referrer:null;if(!s||!this.$VideoWithCommercialBreak4.hostVideoID&&!this.$VideoWithCommercialBreak4.shouldShowDemoAd){c("BanzaiODS").bumpEntityKey("instreamads","missing_query_params");return}var u={host_video_id:this.$VideoWithCommercialBreak4.hostVideoID,instream_video_type:s,instream_video_break_index:r,player_origin:this.$VideoWithCommercialBreak1.getPlayerOrigin(),script_path:c("ScriptPath").getScriptPath(),player_sub_origin:this.$VideoWithCommercialBreak1.getPlayerSuborigin()||this.$VideoWithCommercialBreak1.getSource(),is_sponsored_host_video:this.$VideoWithCommercialBreak4.isSponsored,video_channel_caller:this.$VideoWithCommercialBreak4.videoChannelCaller,host_video_stall_count:this.$VideoWithCommercialBreak1.getStallCount(),ad_break_duration_ms:q,referrer:t,option_menu_button_id:"",should_show_demo_ad:this.$VideoWithCommercialBreak4.shouldShowDemoAd,player_format:this.$VideoWithCommercialBreak36(),instream_placement:c("InstreamPlacement").MID_ROLL};if(c("CommercialBreakExperiments").instreamAdsNFXOnContextCard)u.option_menu_button_id=this.getChevronButtonID();this.$VideoWithCommercialBreak37(u);this.$VideoWithCommercialBreak33(c("CommercialBreakState").AD_REQUEST_SENT)};o.prototype.$VideoWithCommercialBreak36=function(){"use strict";if(this.$VideoWithCommercialBreak1.isFullscreen())return c("VideoPlayerFormats").FULL_SCREEN;var p=this.$VideoWithCommercialBreak1.getSource();if(p)return c("VideoPlayerFormatsMap")[p];return c("VideoPlayerFormats").INLINE};o.prototype.$VideoWithCommercialBreak37=function(p){"use strict";__p&&__p();var q=null;if(p.should_show_demo_ad){var r=c("XInstreamVideoDemoStoryAsyncController").getURIBuilder().setEnum("instream_video_type",p.instream_video_type).setInt("instream_video_break_index",p.instream_video_break_index);q=new(c("AsyncRequest"))(r.getURI()).setMethod("GET").setReadOnly(true).setHandler(function(u){this.$VideoWithCommercialBreak38(u.getPayload())}.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak39.bind(this))}else if(c("CommercialBreakExperiments").instreamAdsFetchFromFeedEndpoint&&this.$VideoWithCommercialBreak21){var s="/ajax/pagelet/generic.php/LitestandTailLoadPagelet";q=new(c("AsyncRequest"))(s).setMethod("GET").setReadOnly(true).setData({data:c("Base64").encode(JSON.stringify(p))}).setHandler(this.$VideoWithCommercialBreak40.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak39.bind(this))}else{var t=c("XInstreamVideoSponsoredStoryAsyncController").getURIBuilder().setFBID("host_video_id",p.host_video_id).setEnum("instream_video_type",p.instream_video_type).setInt("instream_video_break_index",p.instream_video_break_index).setEnum("video_channel_caller",p.video_channel_caller).setBool("is_sponsored_host_video",p.is_sponsored_host_video).setInt("host_video_stall_count",p.host_video_stall_count).setInt("ad_break_duration_ms",p.ad_break_duration_ms).setString("player_origin",p.player_origin).setString("player_sub_origin",p.player_sub_origin).setString("script_path",p.script_path).setString("referrer",p.referrer).setString("option_menu_button_id",p.option_menu_button_id).setString("player_format",p.player_format).setEnum("instream_placement",p.instream_placement);q=new(c("AsyncRequest"))(t.getURI()).setMethod("GET").setReadOnly(true).setHandler(function(u){this.$VideoWithCommercialBreak38(u.getPayload())}.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak39.bind(this))}q&&q.send();this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",c("AdBreakToastEvent").FETCH_AD);this.$VideoWithCommercialBreak28=Date.now()};o.prototype.$VideoWithCommercialBreak40=function(p){"use strict";this.$VideoWithCommercialBreak38(JSON.parse(c("Base64").decode(p.getPayload())))};o.prototype.$VideoWithCommercialBreak39=function(){"use strict";c("hasAdblock")(function(p){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE,{is_ad_block_enabled:p})}.bind(this));this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",c("AdBreakToastEvent").FETCH_AD_FAIL)};o.prototype.$VideoWithCommercialBreak38=function(p){"use strict";__p&&__p();if(!this.$VideoWithCommercialBreak4.isBroadcast&&this.$VideoWithCommercialBreak5===c("CommercialBreakState").ENTERING_TRANSITION)return;if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").AD_REQUEST_SENT&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").CB_SCHEDULED&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").ENTERING_TRANSITION)return;var q=p.isEmpty,r=p.instreamVideoAdBreakIndex,s=p.instreamVideoAdType,t=p.videoAdPodContents,u=t?t[0]:null,v=u?u.videoAdStory:p.videoAdStory,w=u?u.instreamVideoAdBreakVideoID:p.instreamVideoAdBreakVideoID,x=u?u.instreamVideoOptionMenuURI:p.instreamVideoOptionMenuURI;if(p.shouldParseAdPods)if(t){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_SUCCESS,{is_empty:q});var y=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType();if(s===y){this.$VideoWithCommercialBreak11=q?null:r;this.emit("commercialBreak/videoAdPodFetched",t,q,r)}}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE);else if(v){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_SUCCESS,{is_empty:q,commercial_break_ad_client_token:p.instreamVideoAdBreakClientToken,client_side_ads_query_consumed_time_in_ms:this.$VideoWithCommercialBreak28>0?Date.now()-this.$VideoWithCommercialBreak28:null});var z=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType();if(s===z){this.$VideoWithCommercialBreak11=q?null:r;var A=q?null:w;this.$VideoWithCommercialBreak24=p.callToAction;this.$VideoWithCommercialBreak25=p.contextCardTrackingWrapper;this.$VideoWithCommercialBreak27=p.infoCardNuxID;this.emit("commercialBreak/videoAdStoryFetched",v,q,r,A,p.instreamVideoAdBreakClientToken);this.emit("commercialBreak/runFraudDetector",p.instreamAdImpressionIdentifier);this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",c("AdBreakToastEvent").FETCH_AD_SUCCEED,{isEmpty:q,disabledReason:p.disabledReason});if(c("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&!q)this.$VideoWithCommercialBreak18=x}}else this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE)};o.prototype.getCallToAction=function(){"use strict";return this.$VideoWithCommercialBreak24};o.prototype.getContextCardTrackingWrapper=function(){"use strict";return this.$VideoWithCommercialBreak25};o.prototype.getInfoCardNuxID=function(){"use strict";return this.$VideoWithCommercialBreak27};o.prototype.onStartCommand=function(p){"use strict";__p&&__p();var q=parseInt(p.commercial_break_start_time_ms,10);this.$VideoWithCommercialBreak7=q;var r=this.$VideoWithCommercialBreak41();this.$VideoWithCommercialBreak8=r;this.$VideoWithCommercialBreak23=Object.prototype.hasOwnProperty.call(p,"commercial_break_drop_live_stream")?p.commercial_break_drop_live_stream:null;var s=Object.prototype.hasOwnProperty.call(p,"index")?parseInt(p.index,10):0;if(this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").RECEIVE_START_MSG,{topic:this.$VideoWithCommercialBreak4.skywalkerTopic,commercial_break_start_time_ms:q,ad_break_index:s});if(q<r-this.$VideoWithCommercialBreak4.allowedStartTimeDeltaMs){if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").INIT)c("BanzaiODS").bumpEntityKey("instreamads","receive_start_after_break");return}}if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(s);if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").INIT){var t=p.commercial_break_length_ms?parseInt(p.commercial_break_length_ms,10):null;this.$VideoWithCommercialBreak6=t?t:this.$VideoWithCommercialBreak4.commercialBreakLengthMs;this.onIntentCommand(p)}this.$VideoWithCommercialBreak33(c("CommercialBreakState").CB_SCHEDULED);if(this.$VideoWithCommercialBreak4.isLive)this.$VideoWithCommercialBreak10.addSubscriptions(this.$VideoWithCommercialBreak1.addListener("streamInterrupted",this.$VideoWithCommercialBreak42.bind(this,true)));this.$VideoWithCommercialBreak3=this.$VideoWithCommercialBreak1.addListener("updateStatus",function(){return this.$VideoWithCommercialBreak42()}.bind(this));this.$VideoWithCommercialBreak42()};o.prototype.$VideoWithCommercialBreak42=function(){__p&&__p();var p=arguments.length<=0||arguments[0]===undefined?false:arguments[0];"use strict";if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").CB_SCHEDULED){this.$VideoWithCommercialBreak3.remove();return}var q=this.$VideoWithCommercialBreak41(),r=this.$VideoWithCommercialBreak7-q,s=r>0&&r<=this.$VideoWithCommercialBreak4.startFromStreamDryDeltaMs&&this.$VideoWithCommercialBreak1.isBuffering()&&this.$VideoWithCommercialBreak1.isState(c("VideoPlayerStates").PLAYING);if(!this.$VideoWithCommercialBreak4.isLive||Math.abs(r)<=this.$VideoWithCommercialBreak4.allowedStartTimeDeltaMs||s||p){this.$VideoWithCommercialBreak3.remove();var t=n.NORMAL;if(s)t=n.STALL_STREAM;else if(p)t=n.STREAM_DRY_OUT;var u=this.$VideoWithCommercialBreak7-this.$VideoWithCommercialBreak8;this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START,{timestamp_delta_ms:parseInt(r,10),timestamp_latency_ms:parseInt(u,10),playback_trigger_event:t,viewer_count:this.$VideoWithCommercialBreak43()});this.$VideoWithCommercialBreak33(c("CommercialBreakState").ENTERING_TRANSITION);this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);var v=this.$VideoWithCommercialBreak4.isBroadcast?this.$VideoWithCommercialBreak4.beginningTransitionTimeMs:this.$VideoWithCommercialBreak4.beginningNonLiveTransitionTimeMs;setTimeout(this.$VideoWithCommercialBreak44.bind(this),v)}else if(q>this.$VideoWithCommercialBreak7){this.$VideoWithCommercialBreak3.remove();this.reset()}};o.prototype.$VideoWithCommercialBreak44=function(){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").CB_SCHEDULED&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;var p=this.$VideoWithCommercialBreak6-this.$VideoWithCommercialBreak4.beginningTransitionTimeMs,q=p-this.$VideoWithCommercialBreak4.endingTransitionTimeMs;if(this.$VideoWithCommercialBreak4.isLive)this.$VideoWithCommercialBreak22=q;this.$VideoWithCommercialBreak33(c("CommercialBreakState").PLAY_AD_COUNTDOWN,{countdownDurationMsecs:this.$VideoWithCommercialBreak4.isLive?q:0});if(this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak14=true;setTimeout(function(){this.$VideoWithCommercialBreak14=false}.bind(this),q-l.SHORT_AD_COUNTDOWN_MS);setTimeout(this.$VideoWithCommercialBreak45.bind(this),q);this.$VideoWithCommercialBreak15=false;setTimeout(this.$VideoWithCommercialBreak46.bind(this),p);setTimeout(this.$VideoWithCommercialBreak47.bind(this),p+this.$VideoWithCommercialBreak4.maxOverduePlayingTimeMs)}};o.prototype.onLeaveTransition=function(){"use strict";__p&&__p();var p=this.$VideoWithCommercialBreak30();if(!this.$VideoWithCommercialBreak4.isLive){this.$VideoWithCommercialBreak16=p?this.$VideoWithCommercialBreak20==c("InstreamNFXHideType").HIDE_AD_BREAKS?m.HIDE_AD_BREAKS:m.HIDE_AD:m.PLAYBACK_FINISHED;this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak33(c("CommercialBreakState").LEAVING_TRANSITION);var q=this.$VideoWithCommercialBreak4.isBroadcast?this.$VideoWithCommercialBreak4.endingTransitionTimeMs:this.$VideoWithCommercialBreak4.endingNonLiveTransitionTimeMs;setTimeout(function(){this.$VideoWithCommercialBreak34();this.reset()}.bind(this),q);return}if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN)if(!this.$VideoWithCommercialBreak9.getIsAdActive()){this.$VideoWithCommercialBreak16=m.NONE;this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak33(c("CommercialBreakState").LEAVING_TRANSITION)}else if((this.$VideoWithCommercialBreak9.isState(c("VideoPlayerStates").FINISHED)||this.$VideoWithCommercialBreak9.isState(c("VideoPlayerStates").DESTROYED))&&!this.$VideoWithCommercialBreak14||p){this.$VideoWithCommercialBreak16=p?m.HIDE_AD:m.PLAYBACK_FINISHED;if(this.$VideoWithCommercialBreak15){this.$VideoWithCommercialBreak34();this.reset()}else{this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak33(c("CommercialBreakState").LEAVING_TRANSITION)}}};o.prototype.$VideoWithCommercialBreak46=function(){"use strict";if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").LEAVING_TRANSITION){this.$VideoWithCommercialBreak34();this.reset()}else if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN)this.$VideoWithCommercialBreak15=true};o.prototype.$VideoWithCommercialBreak47=function(){"use strict";if(this.$VideoWithCommercialBreak30())return;if(this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN){this.$VideoWithCommercialBreak16=m.CUT_OFF;this.$VideoWithCommercialBreak34();this.reset()}};o.prototype.$VideoWithCommercialBreak45=function(){"use strict";if(this.$VideoWithCommercialBreak30())return;this.onLeaveTransition()};o.prototype.$VideoWithCommercialBreak34=function(){"use strict";if(this.$VideoWithCommercialBreak9.getIsVisibleForAutoplay())this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_END,{ending_reason:this.$VideoWithCommercialBreak16})};o.prototype.$VideoWithCommercialBreak41=function(){"use strict";var p=this.$VideoWithCommercialBreak1.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC;return p};o.prototype.$VideoWithCommercialBreak43=function(){"use strict";if(!this.$VideoWithCommercialBreak4.isLive)return null;var p=this.$VideoWithCommercialBreak1.getOption("VideoWithLiveBroadcast","viewCount"),q=p&&JSON.parse(c("DataStore").get(p,"store",null));return q?q.viewerCount:null};o.prototype.$VideoWithCommercialBreak30=function(){"use strict";var p=this.$VideoWithCommercialBreak9.getAdController();return p&&p.isState(c("VideoPlayerStates").PAUSED)&&this.$VideoWithCommercialBreak5===c("CommercialBreakState").PLAY_AD_COUNTDOWN&&this.$VideoWithCommercialBreak19};o.prototype.startBreakWithNoVideoAd=function(p,q,r){"use strict";__p&&__p();this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(r);if(this.$VideoWithCommercialBreak4.disableNoAdTransition||!this.$VideoWithCommercialBreak4.isBroadcast){this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING,{commercial_break_no_ad_reason:p});this.reset();return}var s=q-this.$VideoWithCommercialBreak41();this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START,{timestamp_delta_ms:parseInt(s,10),playback_trigger_event:"normal"});this.$VideoWithCommercialBreak33(c("CommercialBreakState").VOD_BREAK_WITH_NO_VIDEO_AD);this.$VideoWithCommercialBreak9.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_NO_AD_TRANSITION,{commercial_break_no_ad_reason:p});setTimeout(function(){this.$VideoWithCommercialBreak16=m.NONE;this.$VideoWithCommercialBreak34();this.reset()}.bind(this),this.$VideoWithCommercialBreak4.breakWithNoVideoAdDurationMs)};o.prototype.hasReceivedAdStory=function(p){"use strict";return p===this.$VideoWithCommercialBreak11};o.prototype.getIsDuplicateVideo=function(){"use strict";return this.$VideoWithCommercialBreak17};o.prototype.onPauseAdFromNFX=function(){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;this.$VideoWithCommercialBreak19=true;c("EntstreamFeedObjectFollowup").addInstreamAdsFollowup(this.$VideoWithCommercialBreak1.getRootNode());var p=this.$VideoWithCommercialBreak9.getAdController();if(p){p.pause(c("VideoPlayerReason").USER);c("CSS").addClass(p.getVideoNode(),"_1_d3");c("CSS").addClass(p.getRootNode(),"_4ap-")}};o.prototype.onPlayAdFromNFX=function(){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;var p=this.$VideoWithCommercialBreak9.getAdController();if(p){this.$VideoWithCommercialBreak19=false;c("CSS").removeClass(p.getVideoNode(),"_1_d3");c("CSS").removeClass(p.getRootNode(),"_4ap-");this.$VideoWithCommercialBreak9.play(c("VideoPlayerReason").USER)}};o.prototype.onLeaveAdFromNFX=function(p){"use strict";if(this.$VideoWithCommercialBreak5!==c("CommercialBreakState").PLAY_AD_COUNTDOWN)return;this.$VideoWithCommercialBreak20=p;this.onLeaveTransition();this.$VideoWithCommercialBreak19=false;this.$VideoWithCommercialBreak20=null};o.prototype.getLiveCountdownDurationMs=function(){"use strict";return this.$VideoWithCommercialBreak22};f.exports=o}),null);
__d("VideoWithInstreamVideo",["BanzaiODS","CommercialBreakMobileEvent","CommercialBreakShouldLogMarauderEvent","DateConsts","EventEmitter","InstreamVideoAdType","MarauderLogger","SubscriptionsHandler","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","onViewportChanged"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$VideoWithInstreamVideo4=k}j.prototype.enable=function(k){"use strict";__p&&__p();if(this.$VideoWithInstreamVideo2)return;this.$VideoWithInstreamVideo2=k;this.$VideoWithInstreamVideo3=k;this.$VideoWithInstreamVideo12=false;this.$VideoWithInstreamVideo13=this.getIsVisibleForAutoplay();c("onViewportChanged")(this.$VideoWithInstreamVideo17.bind(this));this.$VideoWithInstreamVideo1=new(c("SubscriptionsHandler"))();this.$VideoWithInstreamVideo1.engage();this.$VideoWithInstreamVideo14=[];this.$VideoWithInstreamVideo18();this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","enabled",function(){return true});this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","controller",function(){return this}.bind(this))};j.prototype.disable=function(){"use strict"};j.prototype.$VideoWithInstreamVideo19=function(){"use strict";var k=["play","pause","mute","unmute","constructor","destroy","addListener","isMuted","isState","updateSource"],l=this.$VideoWithInstreamVideo2.constructor.prototype,m=Object.getOwnPropertyNames(l).filter(function(n){var o=l[n];return typeof o==="function"&&k.indexOf(n)<0});return m};j.prototype.$VideoWithInstreamVideo18=function(){"use strict";var k=this.$VideoWithInstreamVideo19(),l=function l(m){this.constructor.prototype[m]=function(){return this.$VideoWithInstreamVideo2[m].apply(this.$VideoWithInstreamVideo2,arguments)}};k.forEach(l,this)};j.prototype.$VideoWithInstreamVideo20=function(){"use strict";var k=this.$VideoWithInstreamVideo19();k.forEach(function(l){return delete this.constructor.prototype[l]}.bind(this))};j.prototype.$VideoWithInstreamVideo21=function(){var k;"use strict";(k=i.emit).call.apply(k,[this].concat(Array.prototype.slice.call(arguments)))};j.prototype.emit=function(){var k;"use strict";(k=this.$VideoWithInstreamVideo2).emit.apply(k,arguments)};j.prototype.$VideoWithInstreamVideo22=function(event){"use strict";if(this.$VideoWithInstreamVideo14.indexOf(event)<0){this.$VideoWithInstreamVideo14.push(event);var k=function(event){return this.$VideoWithInstreamVideo21.bind(this,event)}.bind(this);this.$VideoWithInstreamVideo1.addSubscriptions(this.$VideoWithInstreamVideo2.addListener(event,k(event)))}};j.prototype.addListener=function(event){var k;"use strict";this.$VideoWithInstreamVideo22(event);return(k=i.addListener).call.apply(k,[this].concat(Array.prototype.slice.call(arguments)))};j.prototype.registerInstreamVideo=function(k){"use strict";__p&&__p();if(!this.$VideoWithInstreamVideo12){this.$VideoWithInstreamVideo12=true;this.$VideoWithInstreamVideo2.instreamVideoStart()}if(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo8=this.$VideoWithInstreamVideo2.isState(c("VideoPlayerStates").PLAYING);this.$VideoWithInstreamVideo10=this.$VideoWithInstreamVideo2.isMuted();this.$VideoWithInstreamVideo11=this.$VideoWithInstreamVideo2.getVolume();var l=this.getCurrentInstreamVideoAdType();if(l===c("InstreamVideoAdType").LIVE)this.$VideoWithInstreamVideo2.mute();else if(l===c("InstreamVideoAdType").VOD||l===c("InstreamVideoAdType").NONLIVE){var m;this.$VideoWithInstreamVideo2.setLogEntryPropertyGetters((m={},m[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$VideoWithInstreamVideo5,m[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]=this.$VideoWithInstreamVideo6?this.$VideoWithInstreamVideo6:-1,m));this.$VideoWithInstreamVideo2.pause(c("VideoPlayerReason").COMMERCIAL_BREAK)}}this.$VideoWithInstreamVideo3=k};j.prototype.resetInstreamVideo=function(){"use strict";__p&&__p();this.$VideoWithInstreamVideo2.removeLogEntryPropertyGetters([c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX,c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]);if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var k=this.getCurrentInstreamVideoAdType();if(k===c("InstreamVideoAdType").LIVE&&!this.$VideoWithInstreamVideo10&&this.$VideoWithInstreamVideo2.isMuted())this.$VideoWithInstreamVideo2.unmute();else if((k===c("InstreamVideoAdType").VOD||k===c("InstreamVideoAdType").NONLIVE)&&this.$VideoWithInstreamVideo8&&!this.$VideoWithInstreamVideo2.isState(c("VideoPlayerStates").PLAYING))this.$VideoWithInstreamVideo2.play(c("VideoPlayerReason").COMMERCIAL_BREAK)}this.$VideoWithInstreamVideo3=this.$VideoWithInstreamVideo2;this.$VideoWithInstreamVideo12=false;this.$VideoWithInstreamVideo2.instreamVideoEnd()};j.prototype.shouldPlayInstreamAd=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive&&!this.$VideoWithInstreamVideo8)return false;return this.getIsVisibleForAutoplay()};j.prototype.playInstreamAd=function(){"use strict";__p&&__p();if(!this.$VideoWithInstreamVideo3||this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){c("BanzaiODS").bumpEntityKey("instreamads","missing_ad_player");return}var k=this.$VideoWithInstreamVideo3;this.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_AD);k.once("beginPlayback",function(){this.$VideoWithInstreamVideo15={adClientToken:k.getAdClientToken(),adStartPlayingTimeMs:Date.now(),adPositionInVideoMs:this.$VideoWithInstreamVideo2.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC}}.bind(this));if(this.$VideoWithInstreamVideo10)k.mute();else{k.unmute();k.setVolume(this.$VideoWithInstreamVideo11)}this.$VideoWithInstreamVideo9=false;k.play(c("VideoPlayerReason").AUTOPLAY)};j.prototype.play=function(k){__p&&__p();var l,m=this;"use strict";this.$VideoWithInstreamVideo8=true;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PAUSED)||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PLAYING)))(function(){var n=m.$VideoWithInstreamVideo3;if(!m.$VideoWithInstreamVideo2.getOption("VideoWithCommercialBreak","isInstreamPausedByNFX"))if(m.$VideoWithInstreamVideo9&&n!==m.$VideoWithInstreamVideo2)n.once("pausePlayback",function(){return n.play(k)});else n.play(k)})();if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo2.play(k)};j.prototype.pause=function(k){"use strict";__p&&__p();if(k===c("VideoPlayerReason").USER&&this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$VideoWithInstreamVideo8=false;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PLAYING))){var l=this.$VideoWithInstreamVideo3;if(l!==this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo9=true;l.once("pausePlayback",function(){return this.$VideoWithInstreamVideo9=false}.bind(this))}l.pause(k)}if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo2.pause(k)};j.prototype.mute=function(){"use strict";this.$VideoWithInstreamVideo10=true;if(this.$VideoWithInstreamVideo3)this.$VideoWithInstreamVideo3.mute()};j.prototype.unmute=function(){"use strict";this.$VideoWithInstreamVideo10=false;if(this.$VideoWithInstreamVideo3)this.$VideoWithInstreamVideo3.unmute()};j.prototype.isMuted=function(){"use strict";if(this.$VideoWithInstreamVideo3)return this.$VideoWithInstreamVideo3.isMuted();return this.$VideoWithInstreamVideo2.isMuted()};j.prototype.isState=function(k){"use strict";if(this.$VideoWithInstreamVideo3)return this.$VideoWithInstreamVideo3.isState(k);return this.$VideoWithInstreamVideo2.isState(k)};j.prototype.destroy=function(){"use strict";if(this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo3.destroy();this.$VideoWithInstreamVideo2.destroy()};j.prototype.updateSource=function(k){"use strict";if(this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo3.updateSource(k);this.$VideoWithInstreamVideo2.updateSource(k)};j.prototype.getConfig=function(){"use strict";return this.$VideoWithInstreamVideo4};j.prototype.setCurrentInstreamVideoAdBreakIndex=function(k){"use strict";this.$VideoWithInstreamVideo5=k};j.prototype.setCurrentInstreamVideoAdBreakVideoID=function(k){"use strict";this.$VideoWithInstreamVideo6=k};j.prototype.setCurrentInstreamVideoAdBreakClientToken=function(k){"use strict";this.$VideoWithInstreamVideo7=k};j.prototype.setThumbnailURLForPreview=function(k){"use strict";this.$VideoWithInstreamVideo16=k};j.prototype.getPreferredThumbnailURI=function(){"use strict";if(this.$VideoWithInstreamVideo4.isComposerPreviewing)return this.$VideoWithInstreamVideo16;return this.$VideoWithInstreamVideo4.preferredThumbnailURI};j.prototype.getCurrentInstreamVideoAdType=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive)return c("InstreamVideoAdType").LIVE;else if(this.$VideoWithInstreamVideo4.isBroadcast)return c("InstreamVideoAdType").VOD;else return c("InstreamVideoAdType").NONLIVE};j.prototype.getCurrentInstreamVideoAdBreakVideoID=function(){"use strict";return this.$VideoWithInstreamVideo6};j.prototype.getCurrentInstreamVideoAdBreakIndex=function(){"use strict";return this.$VideoWithInstreamVideo5};j.prototype.getIsAdActive=function(){"use strict";return this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2};j.prototype.getAdController=function(){"use strict";if(this.getIsAdActive())return this.$VideoWithInstreamVideo3;return null};j.prototype.$VideoWithInstreamVideo17=function(){"use strict";__p&&__p();var k=this.getIsVisibleForAutoplay();if(this.$VideoWithInstreamVideo13!==k){if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var l=null,m=this.$VideoWithInstreamVideo3;if(m&&m.getPlaybackDuration()>0)l=c("DateConsts").MS_PER_SEC*(m.getPlaybackDuration()-m.getCurrentTimePosition());this.logMarauderEvent(k?c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_INTO:c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_AWAY,{remaining_ad_duration_ms:l})}this.$VideoWithInstreamVideo2.emit(k?"commercialBreak/scrollInto":"commercialBreak/scrollAway")}this.$VideoWithInstreamVideo13=k};j.prototype.getIsVisibleForAutoplay=function(){"use strict";var k=this.$VideoWithInstreamVideo2.getOption("FeedAutoplay","isVisibleForAutoplay");return k||k===undefined};j.prototype.getMostRecentAdInfo=function(){"use strict";return this.$VideoWithInstreamVideo15};j.prototype.logMarauderEvent=function(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];"use strict";if(!Object.prototype.hasOwnProperty.call(c("CommercialBreakShouldLogMarauderEvent"),k)||!c("CommercialBreakShouldLogMarauderEvent")[k])return;l.host_video_id=this.$VideoWithInstreamVideo4.hostVideoID;l.instream_video_ad_type=this.getCurrentInstreamVideoAdType();if(!Object.prototype.hasOwnProperty.call(l,"ad_break_index"))l.ad_break_index=this.$VideoWithInstreamVideo5;l.is_sponsored=this.$VideoWithInstreamVideo4.isSponsored;l.is_visible=this.getIsVisibleForAutoplay();l.player_origin=this.$VideoWithInstreamVideo4.playerOrigin;if(!Object.prototype.hasOwnProperty.call(l,"commercial_break_ad_client_token"))l.commercial_break_ad_client_token=this.$VideoWithInstreamVideo7;c("MarauderLogger").log(k,"commercial_break",l)};f.exports=j}),null);
__d("VodWithCommercialBreak",["CommercialBreakExperiments","CommercialBreakNoAdReason","DateConsts","UFIVideoPlayerRegistry","VideoPlayerStates","Visibility"],(function a(b,c,d,e,f,g){__p&&__p();var h=Object.freeze({RECHECK_START_MS:300});function i(j,k){"use strict";__p&&__p();this.$VodWithCommercialBreak1=k;this.$VodWithCommercialBreak4=j;this.$VodWithCommercialBreak7=false;this.$VodWithCommercialBreak9=-1;this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak13=0;this.$VodWithCommercialBreak8=false;this.$VodWithCommercialBreak3=j.addListener("optionsChange",function(){return this.$VodWithCommercialBreak14()}.bind(this));this.$VodWithCommercialBreak14()}i.prototype.setAdBreaks=function(j){"use strict";this.$VodWithCommercialBreak15();this.$VodWithCommercialBreak1=j};i.prototype.$VodWithCommercialBreak15=function(){"use strict";if(this.$VodWithCommercialBreak10)clearTimeout(this.$VodWithCommercialBreak10);if(this.$VodWithCommercialBreak11)clearTimeout(this.$VodWithCommercialBreak11);this.$VodWithCommercialBreak10=null;this.$VodWithCommercialBreak11=null;this.$VodWithCommercialBreak9=-1};i.prototype.$VodWithCommercialBreak14=function(){"use strict";__p&&__p();this.$VodWithCommercialBreak5=this.$VodWithCommercialBreak4.getOption("VideoWithInstreamVideo","controller");this.$VodWithCommercialBreak6=this.$VodWithCommercialBreak4.getOption("VideoWithCommercialBreak","controller");if(!this.$VodWithCommercialBreak5||!this.$VodWithCommercialBreak6)return;this.$VodWithCommercialBreak3.remove();this.$VodWithCommercialBreak2=this.$VodWithCommercialBreak5.getConfig();if(this.$VodWithCommercialBreak4.isState(c("VideoPlayerStates").PLAYING))this.$VodWithCommercialBreak16();this.$VodWithCommercialBreak4.addListener("beginPlayback",this.$VodWithCommercialBreak16.bind(this));this.$VodWithCommercialBreak4.addListener("pausePlayback",this.$VodWithCommercialBreak17.bind(this))};i.prototype.$VodWithCommercialBreak16=function(){"use strict";__p&&__p();if(!this.$VodWithCommercialBreak7)this.$VodWithCommercialBreak7=true;if(this.$VodWithCommercialBreak12===0)this.$VodWithCommercialBreak12=Date.now();var j=this.$VodWithCommercialBreak18();if(j===0){this.$VodWithCommercialBreak4.once("updateStatus",this.$VodWithCommercialBreak16.bind(this));return}var k=this.$VodWithCommercialBreak19(j);if(k===this.$VodWithCommercialBreak9)k+=1;this.$VodWithCommercialBreak20(k,j)};i.prototype.$VodWithCommercialBreak17=function(){"use strict";if(this.$VodWithCommercialBreak12>0)this.$VodWithCommercialBreak13+=Date.now()-this.$VodWithCommercialBreak12;this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak15()};i.prototype.$VodWithCommercialBreak19=function(j){"use strict";var k=this.$VodWithCommercialBreak1.length;for(var l=this.$VodWithCommercialBreak1.length-1;l>=0;l--){var m=this.$VodWithCommercialBreak1[l].getTimeOffsetInMs();if(m&&m>j+this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs)k=l;else break}return k};i.prototype.$VodWithCommercialBreak20=function(j,k){"use strict";__p&&__p();this.$VodWithCommercialBreak15();if(j>=this.$VodWithCommercialBreak1.length)return;var l=this.$VodWithCommercialBreak1[j].getTimeOffsetInMs();if(!l)return;var m=l-k,n=m-this.$VodWithCommercialBreak2.vodPrefetchTimeMs;if(m<0){this.$VodWithCommercialBreak16();return}if(n<=this.$VodWithCommercialBreak2.vodAllowIntentTimeDeltaMs)this.$VodWithCommercialBreak21(j);else this.$VodWithCommercialBreak10=setTimeout(function(){return this.$VodWithCommercialBreak21(j)}.bind(this),n);if(!this.$VodWithCommercialBreak2.isBroadcast)m-=this.$VodWithCommercialBreak2.startingIndicatorMs;if(m<=this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs)this.$VodWithCommercialBreak22(j);else this.$VodWithCommercialBreak11=setTimeout(function(){return this.$VodWithCommercialBreak22(j)}.bind(this),m)};i.prototype.$VodWithCommercialBreak21=function(j){"use strict";__p&&__p();var k=this.$VodWithCommercialBreak18(),l=this.$VodWithCommercialBreak1[j],m=l.getTimeOffsetInMs();if(!m)return;var n=m-this.$VodWithCommercialBreak2.vodPrefetchTimeMs,o=n-k;if(o>this.$VodWithCommercialBreak2.vodAllowIntentTimeDeltaMs){this.$VodWithCommercialBreak10=setTimeout(function(){return this.$VodWithCommercialBreak21(j)}.bind(this),o);return}var p=this.$VodWithCommercialBreak13+m-k;if(this.$VodWithCommercialBreak12>0)p+=Date.now()-this.$VodWithCommercialBreak12;var q=!this.$VodWithCommercialBreak6.hasReceivedAdStory(l.getIndex())&&p>=this.$VodWithCommercialBreak2.vodMinWatchTimeSeconds*c("DateConsts").MS_PER_SEC;if(q){this.$VodWithCommercialBreak6.reset();this.$VodWithCommercialBreak6.onIntentCommand({index:l.getIndex(),commercial_break_length_ms:l.getAdBreakDurationInMs()})}this.$VodWithCommercialBreak10=null};i.prototype.$VodWithCommercialBreak22=function(j){"use strict";__p&&__p();var k=this.$VodWithCommercialBreak18(),l=this.$VodWithCommercialBreak1[j],m=l.getTimeOffsetInMs();if(!m)return;var n=m-k,o=this.$VodWithCommercialBreak13+n;if(this.$VodWithCommercialBreak12>0)o+=Date.now()-this.$VodWithCommercialBreak12;var p=null;if(o<this.$VodWithCommercialBreak2.vodMinWatchTimeSeconds*c("DateConsts").MS_PER_SEC)p=c("CommercialBreakNoAdReason").TIME_SPENT_INSUFFICIENT;else if(!this.$VodWithCommercialBreak6.hasReceivedAdStory(l.getIndex()))p=c("CommercialBreakNoAdReason").NO_VIDEO_AD;else if(c("Visibility").isHidden()&&c("CommercialBreakExperiments").skipInstreamAdWhenInvisible)p=c("CommercialBreakNoAdReason").INACTIVE_TAB;else if(this.$VodWithCommercialBreak2.skipAdsWhileCommenting&&!this.$VodWithCommercialBreak8){var q=c("UFIVideoPlayerRegistry").getAvailableUFIController(this.$VodWithCommercialBreak4);if(q&&!q.getIsCurrentCommentEmpty())p=c("CommercialBreakNoAdReason").IS_COMMENTING}if(!p&&!this.$VodWithCommercialBreak2.isBroadcast){this.$VodWithCommercialBreak4.emit("commercialBreak/vodBreakStarting",m);this.$VodWithCommercialBreak8=true}if(n>this.$VodWithCommercialBreak2.vodAllowStartTimeDeltaMs){if(!this.$VodWithCommercialBreak2.isBroadcast)n=Math.min(n,h.RECHECK_START_MS);this.$VodWithCommercialBreak11=setTimeout(function(){return this.$VodWithCommercialBreak22(j)}.bind(this),n);return}if(!p){this.$VodWithCommercialBreak6.onStartCommand({index:l.getIndex(),commercial_break_start_time_ms:m});this.$VodWithCommercialBreak12=0;this.$VodWithCommercialBreak13=0}else this.$VodWithCommercialBreak6.startBreakWithNoVideoAd(p,m,l.getIndex());this.$VodWithCommercialBreak9=j;this.$VodWithCommercialBreak11=null;this.$VodWithCommercialBreak8=false};i.prototype.$VodWithCommercialBreak18=function(){"use strict";return this.$VodWithCommercialBreak4.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC};f.exports=i}),null);
__d("VideoComponentCommercialBreakVideoAdOverlay.react",["cx","CommercialBreakVideoAdOverlay","React","VideoComponent"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.enable=function(l){this.$VideoComponentCommercialBreakVideoAdOverlay1=new(c("CommercialBreakVideoAdOverlay"))(l,this.refs.root)};k.prototype.disable=function(){this.$VideoComponentCommercialBreakVideoAdOverlay1&&this.$VideoComponentCommercialBreakVideoAdOverlay1.stopAdWithoutTransition();this.$VideoComponentCommercialBreakVideoAdOverlay1=null};k.prototype.componentWillReceiveProps=function(l,m){if(l.adsStopped&&!this.props.adsStopped&&this.$VideoComponentCommercialBreakVideoAdOverlay1)this.$VideoComponentCommercialBreakVideoAdOverlay1.stopAdWithoutTransition()};k.prototype.shouldComponentUpdate=function(l,m){return false};k.prototype.render=function(){var l="_4wd3 _50m2 _167h _4ubd _2lwf";return c("React").createElement("div",{ref:"root",className:l})};function k(){i.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(k)}),null);
__d("VideoPlayerDisturbingThumbnail.react",["cx","fbt","React","XUIText.react","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.render=function(){return c("React").createElement("div",{className:c("joinClasses")("_20m9",this.props.className)},c("React").createElement("div",{className:"_1cqx"},c("React").createElement(c("XUIText.react"),{className:"_2ps6 _jxj",display:"block",size:"xlarge_DEPRECATED",weight:"bold"},c("React").createElement("span",{className:"_20ma"},i._("Warning")),"-",i._("Graphic Video")),c("React").createElement(c("XUIText.react"),{display:"block",size:"header4"},i._("Videos that contain graphic content can shock, offend and upset.")),c("React").createElement(c("XUIText.react"),{display:"block",size:"header4"},i._("Are you sure you want to see this?"))))};function l(){j.apply(this,arguments)}f.exports=l}),null);
__d("VideoComponentCover.react",["cx","Image.react","React","ReactDOM","RelayClassic_DEPRECATED","VideoComponent","VideoCover","VideoPlayerDisturbingThumbnail.react","VideoPlayerExperiments","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l)}k.prototype.componentWillReceiveProps=function(l){var m=this.videoCover;if(l.clickToSnowLift&&m&&l.video&&l.video!==this.props.video)m.setSnowLiftURI(l.video.permalinkUrl)};k.prototype.render=function(){if(this.props.video&&this.props.video.isDisturbing)return c("React").createElement(c("VideoPlayerDisturbingThumbnail.react"),{ref:"root",className:"_1445"});return c("React").createElement("div",{ref:"root",className:c("joinClasses")(this.props.className,"_m54"+(!c("VideoPlayerExperiments").useBlurredBars?" _5z3s":"")+" _1jto")},this.renderCover())};k.prototype.renderCover=function(){var l=this.props.video,m=l?l.image.uri:null;return c("React").createElement(c("Image.react"),{ref:"img",className:"_1445"+(this.$VideoComponentCover1()?" _4ndd":"")+(this.$VideoComponentCover1()?" _2sy9":""),src:m})};k.prototype.enable=function(l){this.videoCover=new(c("VideoCover"))(c("ReactDOM").findDOMNode(this.refs.root),[c("ReactDOM").findDOMNode(this.refs.img)],null,{showAfterFallback:this.props.showAfterFallback,hiddenAfterFinish:this.props.hiddenAfterFinish,showWhileBuffering:this.props.showWhileBuffering});this.videoCover.enable(l)};k.prototype.disable=function(){if(this.videoCover)this.videoCover.disable();this.videoCover=null};k.prototype.$VideoComponentCover1=function(){return false};k.defaultProps={clickToSnowLift:false,hiddenAfterFinish:false,hideControlsOnAutoplay:false,showAfterFallback:false,showWhileBuffering:false,useElementDimension:false,resizeMode:"auto"};f.exports=c("VideoComponent").createContainer(k,{relayVideoConfig:{fragments:{video:function l(m){return function(){return{children:[{alias:"permalinkUrl",fieldName:"permalink_url",kind:"Field",metadata:{},type:"Url"},{alias:"isDisturbing",fieldName:"is_disturbing",kind:"Field",metadata:{},type:"Boolean"},{children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"image",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentCover_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoComponentEmbeddedControls.react",["cx","EmbeddedVideoControls","React","ReactDOM","RelayClassic_DEPRECATED","VideoBroadcastStatus","VideoComponent","VideoPlayerExperiments","joinClasses","shallowCompare"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l,m){return c("shallowCompare")(this,l,m)};k.prototype.componentWillReceiveProps=function(l){var m=this.embeddedControls;if(m&&l.video&&l.video!==this.props.video)m.updateConfig_DEPRECATED({permalinkURL:l.showPermalink?l.video.permalinkUrl:null,showButtons:{casting:l.video.canCastVideo&&c("VideoPlayerExperiments").chromecast},isLive:l.video.broadcastStatus===c("VideoBroadcastStatus").LIVE});if(m&&l.adBreaks&&l.adBreaks!==this.props.adBreaks)m.updateAdBreaksConfig({insertedAdBreaks:l.adBreaks.insertedAdBreaks,isAdBreakDisabled:l.adBreaks.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:l.adBreaks.isAdBreakInsertionWithoutGapRule,isPreviewingAdBreak:l.adBreaks.isPreviewingAdBreak})};k.prototype.render=function(){return c("React").createElement("div",{ref:"playerControls",className:c("joinClasses")(this.props.classNames,(this.props.isCommercialBreak?"_2lwf":"")+(this.props.isCommercialBreak?" _167h":"")+" _3tsq _11q2"+(this.props.adBreaks&&this.props.adBreaks.isPreviewingAdBreak?" _1xyc":""))})};k.prototype.disable=function(){if(this.embeddedControls){this.embeddedControls.unregister();this.embeddedControls=null}};k.prototype.enable=function(l){this.embeddedControls=new(c("EmbeddedVideoControls"))(l,c("ReactDOM").findDOMNode(this.refs.playerControls),{hideOnEvents:{finish:this.props.hideControlsOnFinish,autoplay:this.props.hideControlsOnAutoplay,pause:this.props.hideControlsOnPause},showButtons:{fullscreen:this.props.showFullscreenButton,watchandscroll:this.props.showWatchAndScrollButton,permalink:this.props.showPermalink},hideSettings:!this.props.showSettingsButton,shouldrendercontrols:this.props.shouldRenderControls,watchandscroll:this.props.detachable,redesign:this.props.redesign,hidePlaybackControl:this.props.hidePlaybackControl,hidePlaybackScrubber:this.props.hidePlaybackScrubber,hideRemainingTime:this.props.hideRemainingTime,isCommercialBreak:this.props.isCommercialBreak,isLiveRewindEnabled:false,showQualitySelector:this.props.showQualitySelector,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds})};function k(){i.apply(this,arguments)}k.defaultProps={showSettingsButton:true,hideControlsOnFinish:false,hideControlsOnAutoplay:false,hideControlsOnPause:false,showFullscreenButton:true,showWatchAndScrollButton:false,shouldRenderControls:true,showPermalink:false,detachable:false,redesign:false,hidePlaybackControl:false,hidePlaybackScrubber:false,hideRemainingTime:false,isCommercialBreak:false,showQualitySelector:true,displayElapsedTime:false,displayMilliseconds:false};f.exports=c("VideoComponent").createContainer(k,{relayVideoConfig:{fragments:{video:function l(){return function(){return{children:[{alias:"permalinkUrl",fieldName:"permalink_url",kind:"Field",metadata:{},type:"Url"},{alias:"canCastVideo",fieldName:"can_cast_video",kind:"Field",metadata:{},type:"Boolean"},{alias:"broadcastStatus",fieldName:"broadcast_status",kind:"Field",metadata:{},type:"VideoBroadcastStatus"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentEmbeddedControls_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("SphericalVideoFallback",["cx","CSS","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","VideoPlayerStates"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={setup:function j(k,l){__p&&__p();var m,n=l.fallbackUriList,o=l.fallbackType,p=function p(){__p&&__p();k.emit(c("VideoPlayerFallbackEvents").ENTER);var q=k.getLastError();if(q&&q.error!=="SPHERICAL_SETUP_FAILED"&&q.error!=="SPHERICAL_RENDER_ERROR")return;var r=k.addListener("stateChange",function(){if(k.isState(c("VideoPlayerStates").PLAYING)){k.logEvent(c("VideoPlayerLoggerEvent").SPHERICAL_FALLBACK_ENTERED,{spherical_fallback_type:o});r.remove()}});k.setFallbackSources(n);c("CSS").removeClass(k.getRootNode(),"_3-n5");k.reset();k.emit(c("VideoPlayerFallbackEvents").RECOVER)};if(k.isState(c("VideoPlayerStates").FALLBACK))p();else(function(){var q=k.addListener("stateChange",function(){if(k.isState(c("VideoPlayerStates").FALLBACK)){p();q.remove()}})})()}};f.exports=i}),null);
__d("VideoErrorOverlay",["SphericalVideoFallback"],(function a(b,c,d,e,f,g){__p&&__p();function h(k,l){if("textContent"in k)k.textContent=l;k.innerText=l}function i(k){if("textContent"in k)return k.textContent;if(!k.innerText)return"";return k.innerText}function j(k,l,m,n,o){"use strict";__p&&__p();this.$VideoErrorOverlay1=l;this.$VideoErrorOverlay2=m;this.$VideoErrorOverlay3=n;k.registerOption("VideoErrorOverlay","title",function(){return this.getTitle()}.bind(this),function(p){return this.setTitle(p)}.bind(this));k.registerOption("VideoErrorOverlay","message",function(){return this.getMessage()}.bind(this),function(p){return this.setMessage(p)}.bind(this));k.registerOption("VideoErrorOverlay","linkURL",function(){return this.getLinkURL()}.bind(this),function(p){return this.setLinkURL(p)}.bind(this));k.registerOption("VideoErrorOverlay","linkTitle",function(){return this.getLinkTitle()}.bind(this),function(p){return this.setLinkTitle(p)}.bind(this));k.registerOption("VideoErrorOverlay","available",function(){return true});if(o)c("SphericalVideoFallback").setup(k,o)}j.prototype.getTitle=function(){"use strict";return this.$VideoErrorOverlay1?i(this.$VideoErrorOverlay1):""};j.prototype.setTitle=function(k){"use strict";if(this.$VideoErrorOverlay1)h(this.$VideoErrorOverlay1,k)};j.prototype.getMessage=function(){"use strict";return i(this.$VideoErrorOverlay2)};j.prototype.setMessage=function(k){"use strict";h(this.$VideoErrorOverlay2,k)};j.prototype.getLinkURL=function(){"use strict";return this.$VideoErrorOverlay3.href};j.prototype.setLinkURL=function(k){"use strict";this.$VideoErrorOverlay3.href=k};j.prototype.getLinkTitle=function(){"use strict";return i(this.$VideoErrorOverlay3)};j.prototype.setLinkTitle=function(k){"use strict";h(this.$VideoErrorOverlay3,k)};f.exports=j}),null);
__d("VideoComponentErrorOverlay.react",["cx","fbt","Link.react","React","ReactDOM","VideoComponent","VideoErrorOverlay","VideoPlayerReactConfig"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;l.prototype.enable=function(m){new(c("VideoErrorOverlay"))(m,c("ReactDOM").findDOMNode(this.refs.title),c("ReactDOM").findDOMNode(this.refs.msg),c("ReactDOM").findDOMNode(this.refs.link))};l.prototype.disable=function(){};l.prototype.render=function(){var m=c("VideoPlayerReactConfig").outdatedBrowser,n=m?i._("To watch the video, please upgrade your web browser."):null,o=c("React").createElement("div",{ref:"title",className:"_4ctr"},i._("Something Went Wrong")),p=c("React").createElement("div",{ref:"msg"},i._("Sorry, we're having trouble playing this video."),n),q=m?"/unsupportedbrowser":"https://www.facebook.com/help/396404120401278/list",r=c("React").createElement(c("Link.react"),{ref:"link",className:"_4cts",href:q},i._("Learn More"));return c("React").createElement("div",{className:"_4ctp _1jto _3htz"},c("React").createElement("div",{className:"_4ctq"},o,p,c("React").createElement("div",{className:"_5hdy"},r)))};function l(){j.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(l)}),null);
__d("VideoComponentLiveVideoIndicator.react",["FBJSON","LiveVideoIndicatorContainer.react","React","RelayClassic_DEPRECATED","SubscriptionsHandler","VideoBroadcastStatus","VideoComponent","gkx"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.state={showLiveIndicator:true,viewCountNode:null,viewerCount:null};this.subscriptions=new(c("SubscriptionsHandler"))()}j.prototype.enable=function(k){this.vpc=k;this.subscriptions.addSubscriptions(k.addListener("VideoWithLiveBroadcast/viewCountChange",function(l){var m=l.getAttribute("data-store"),n=m?c("FBJSON").parse(m).viewerCount:null;this.setState({viewCountNode:l,viewerCount:n})}.bind(this)),k.addListener("finishPlayback",function(){return this.setState({showLiveIndicator:false})}.bind(this)),k.addListener("commercialBreak/hideUFI",function(){return this.setState({showLiveIndicator:false})}.bind(this)),k.addListener("commercialBreak/showUFI",function(){return this.setState({showLiveIndicator:true})}.bind(this)))};j.prototype.disable=function(){};j.prototype.render=function(){if(!this.props.video||!this.state.showLiveIndicator||this.vpc.isStreamInterrupted())return null;var k=this.props.video,l=k.broadcastStatus,m=k.breakingStatus,n=l===c("VideoBroadcastStatus").LIVE||this.props.isLive,o=!n&&(l===c("VideoBroadcastStatus").PREVIEW||l===c("VideoBroadcastStatus").SCHEDULED_PREVIEW);return c("React").createElement(c("LiveVideoIndicatorContainer.react"),{compact:this.$VideoComponentLiveVideoIndicator1(),inBeeper:this.props.inBeeper,inline:this.props.inline,isAudio:this.vpc.isFacecastAudio(),isBreakingNews:m,isLive:n,isPreview:o,playerID:this.vpc?this.vpc.getVideoPlayerID():"",viewCountNode:this.state.viewCountNode,viewerCount:this.state.viewerCount})};j.prototype.componentWillUnmount=function(){this.subscriptions.release()};j.prototype.$VideoComponentLiveVideoIndicator1=function(){if(!c("gkx")("AT4KGYcd4g4uwaYpLCQCA7WH27AHxWarELGmGYkH0BZYEbzOIBM2B4taV2c0jQCfEMmQadsTgzuVA6xxFZlOzF1p"))return false;var k=this.state.viewerCount;return!!k&&k>0};f.exports=c("VideoComponent").createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{alias:"broadcastStatus",fieldName:"broadcast_status",kind:"Field",metadata:{},type:"VideoBroadcastStatus"},{alias:"breakingStatus",fieldName:"breaking_status",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentLiveVideoIndicator_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoVolumeStorage",["CacheStorage"],(function a(b,c,d,e,f,g){__p&&__p();var h="videos_persistent_volume_";function i(j){"use strict";this.$VideoVolumeStorage3=j;this.$VideoVolumeStorage2=new(c("CacheStorage"))("localstorage",h);j.runOnApiReady(function(){return this.$VideoVolumeStorage4()}.bind(this));j.addListener("changeVolume",function(k){return this.$VideoVolumeStorage5(k.volume)}.bind(this))}i.prototype.$VideoVolumeStorage4=function(){"use strict";this.$VideoVolumeStorage1=this.$VideoVolumeStorage3.getVolume();this.$VideoVolumeStorage3.setVolume(this.$VideoVolumeStorage6())};i.prototype.$VideoVolumeStorage5=function(j){"use strict";if(this.$VideoVolumeStorage2)this.$VideoVolumeStorage2.set("volume",j,true)};i.prototype.$VideoVolumeStorage6=function(){"use strict";return this.$VideoVolumeStorage2?this.$VideoVolumeStorage2.get("volume",this.$VideoVolumeStorage1):this.$VideoVolumeStorage1};f.exports=i}),null);
__d("VideoComponentVolumeStorage.react",["React","VideoComponent","VideoPlayerSnowliftReactExperiments","VideoVolumeStorage"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){new(c("VideoVolumeStorage"))(k)};j.prototype.disable=function(){};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j,{suppressMount:function k(){return!c("VideoPlayerSnowliftReactExperiments").videoCanStoreVolumeLevel}})}),null);
__d("VideoComponentWithCommercialBreak.react",["React","VideoComponent","VideoWithCommercialBreak"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){this.$VideoComponentWithCommercialBreak1=new(c("VideoWithCommercialBreak"))(k)};j.prototype.disable=function(){this.$VideoComponentWithCommercialBreak1=null};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComponentWithFallbackMode.react",["React","VideoComponent","VideoWithFallbackMode"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.enable=function(k){new(c("VideoWithFallbackMode"))(k,{fallbackTimeoutMs:this.props.fallbackTimeoutMs})};j.prototype.disable=function(){};j.prototype.render=function(){return null};function j(){h.apply(this,arguments)}j.defaultProps={fallbackTimeoutMs:1e4};f.exports=c("VideoComponent").createContainer(j)}),null);
__d("VideoComponentWithInstreamVideo.react",["ComposerAdBreaksPreviewConfig","React","RelayClassic_DEPRECATED","VideoComponent","VideoWithInstreamVideo"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);if(k.shouldUsePreviewConfig&&c("ComposerAdBreaksPreviewConfig").config)this.$VideoComponentWithInstreamVideo1=c("ComposerAdBreaksPreviewConfig").config}j.prototype.componentWillReceiveProps=function(k){if(!k.shouldUsePreviewConfig&&k.video&&k.video!==this.props.video){this.$VideoComponentWithInstreamVideo1=JSON.parse(k.video.adBreaksViewerConfig);this.$VideoComponentWithInstreamVideo4()}if(this.$VideoComponentWithInstreamVideo2&&k.thumbnailURLForPreview)this.$VideoComponentWithInstreamVideo2.setThumbnailURLForPreview(k.thumbnailURLForPreview)};j.prototype.enable=function(k){this.$VideoComponentWithInstreamVideo3=k;this.$VideoComponentWithInstreamVideo4()};j.prototype.$VideoComponentWithInstreamVideo4=function(){if(this.$VideoComponentWithInstreamVideo3&&this.$VideoComponentWithInstreamVideo1){this.$VideoComponentWithInstreamVideo2=new(c("VideoWithInstreamVideo"))(this.$VideoComponentWithInstreamVideo1);this.$VideoComponentWithInstreamVideo2.enable(this.$VideoComponentWithInstreamVideo3)}};j.prototype.disable=function(){this.$VideoComponentWithInstreamVideo2=null;this.$VideoComponentWithInstreamVideo3=null};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{alias:"adBreaksViewerConfig",fieldName:"ad_breaks_viewer_config",kind:"Field",metadata:{},type:"String"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentWithInstreamVideo_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoComponentWithLiveBroadcast.react",["React","RelayClassic_DEPRECATED","VideoBroadcastStatus","VideoComponent","VideoWithLiveBroadcast"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k)}j.prototype.componentWillReceiveProps=function(k){if(k.video&&k.video!==this.props.video&&k.video.broadcastStatus===c("VideoBroadcastStatus").LIVE)this.liveBroadCast=new(c("VideoWithLiveBroadcast"))(this.vpc)};j.prototype.disable=function(k){var l=this.liveBroadCast;if(l){l.leave();this.liveBroadCast=null}};j.prototype.enable=function(k){this.vpc=k};j.prototype.render=function(){return null};f.exports=c("VideoComponent").createContainer(j,{relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:true},type:"ID"},{alias:"broadcastStatus",fieldName:"broadcast_status",kind:"Field",metadata:{},type:"VideoBroadcastStatus"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentWithLiveBroadcast_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("VideoComponentContextMenu.react",["React","RelayClassic_DEPRECATED","VideoComponent","VideoContextMenu","VideoPlayerHTML5Experiments","VideoPlayerVersions"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.componentWillReceiveProps=function(k){var l=this.contextMenu;if(l&&k.video&&k.video!==this.props.video)l.setPermalinkURL(k.video.permalinkUrl)};j.prototype.enable=function(k){if(!this.refs.container)return;if(k.isPlayerVersion(c("VideoPlayerVersions").PLEASANTVILLE))this.contextMenu=new(c("VideoContextMenu"))(k,this.refs.container,{permalinkURL:""})};j.prototype.disable=function(){};j.prototype.render=function(){return c("React").createElement("div",{ref:"container"})};function j(){h.apply(this,arguments)}f.exports=c("VideoComponent").createContainer(j,{suppressMount:function k(){return!c("VideoPlayerHTML5Experiments").useCustomContextMenu},relayVideoConfig:{fragments:{video:function k(){return function(){return{children:[{alias:"permalinkUrl",fieldName:"permalink_url",kind:"Field",metadata:{},type:"Url"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentContextMenu_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("XLiveURLDelegationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/live/",{rest:{type:"String"},ref:{type:"Enum",enumType:1},video_id:{type:"FBID"}})}),null);
__d("VideoComponentLiveEndScreen.react",["cx","fbt","CenteredContainer.react","Link.react","LiveMapEntryPointsEnum","LiveMapEntryPointsLoggerController","LiveMapGK","React","RelayClassic_DEPRECATED","RoundImage.react","SubscriptionsHandler","VideoComponent","VideoPlayerOrigins","XLiveURLDelegationController","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=70;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$VideoComponentLiveEndScreen1=function(){if(this.$VideoComponentLiveEndScreen2())c("LiveMapEntryPointsLoggerController").logEndscreenImpression()}.bind(this);this.vpc=null;this.subscriptions=new(c("SubscriptionsHandler"))()}m.prototype.enable=function(n){this.vpc=n;this.subscriptions.engage();this.subscriptions.addSubscriptions(n.addListener("finishPlayback",this.$VideoComponentLiveEndScreen1));n.registerOption("VideoLiveEndscreen","enabled",function(){return true})};m.prototype.disable=function(){this.subscriptions.release()};m.prototype.render=function(){var n=this.props,o=this.vpc;if(!n.video||!o||o.getState()!=="finished"||!this.props.videoData.isLiveStream())return null;return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_1uwa")},c("React").createElement("div",{className:"_5sjs"}),c("React").createElement(c("CenteredContainer.react"),{vertical:true,className:"_2q2t"},c("React").createElement("div",{className:"_1uwb"},c("React").createElement("div",{className:"_39rw"},this.$VideoComponentLiveEndScreen3(this.props.video)))))};m.prototype.$VideoComponentLiveEndScreen3=function(n){var o=n.liveEndText,p=n.liveEndFollowPromptText,q=n.owner,r=n.isLiveAudioFormat,s=c("React").createElement(c("RoundImage.react"),{className:"_3-96",src:q.profilePicture.uri,width:l,height:l}),t=i._("This live video has ended."),u=i._("This live audio has ended."),v=r?u:t,w=!this.$VideoComponentLiveEndScreen4()?c("React").createElement("div",null,c("React").createElement("div",null,o?o.text:"",c("React").createElement("div",null,p?p.text:"")),this.$VideoComponentLiveEndScreen5()):null,x=c("React").createElement("div",{className:"_39ry"},s,c("React").createElement("div",{className:"_39rz"},v),w);return x};m.prototype.$VideoComponentLiveEndScreen5=function(){if(this.$VideoComponentLiveEndScreen2()){var n=c("XLiveURLDelegationController").getURIBuilder().setEnum("ref",c("LiveMapEntryPointsEnum").TRENDING).getURI(),o=c("React").createElement("div",{className:"_2pig"},c("React").createElement(c("Link.react"),{href:n,className:"_39g5"},c("React").createElement("div",{className:"_1svp"},i._("Explore more live videos."))));return o}return null};m.prototype.$VideoComponentLiveEndScreen2=function(){return c("LiveMapGK").live_map_public&&c("LiveMapGK").livemap_on_live_endscreen};m.prototype.$VideoComponentLiveEndScreen4=function(){return!!this.vpc&&this.vpc.getPlayerOrigin()===c("VideoPlayerOrigins").FB_STORIES};f.exports=c("VideoComponent").createContainer(m,{suppressMount:function n(o){return o.getStreamType()==="progressive"},observedVpcEvents:["beginPlayback","finishPlayback","playRequested"],relayVideoConfig:{fragments:{video:function n(){return function(o,p){return{children:[{alias:"liveEndText",children:[{fieldName:"text",kind:"Field",metadata:{},type:"String"}],fieldName:"live_end_text",kind:"Field",metadata:{canHaveSubselections:true},type:"TextWithEntities"},{alias:"liveEndFollowPromptText",children:[{fieldName:"text",kind:"Field",metadata:{},type:"String"}],fieldName:"live_end_follow_prompt_text",kind:"Field",metadata:{canHaveSubselections:true},type:"TextWithEntities"},{alias:"isLiveAudioFormat",fieldName:"is_live_audio_format",kind:"Field",metadata:{},type:"Boolean"},{children:[{alias:"profilePicture",calls:[{kind:"Call",metadata:{type:"Int"},name:"width",value:c("RelayClassic_DEPRECATED").QL.__var(o)},{kind:"Call",metadata:{type:"Int"},name:"height",value:c("RelayClassic_DEPRECATED").QL.__var(p)}],children:[{fieldName:"uri",kind:"Field",metadata:{},type:"Url"}],fieldName:"profile_picture",kind:"Field",metadata:{canHaveSubselections:true},type:"Image"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"String"}],fieldName:"owner",kind:"Field",metadata:{canHaveSubselections:true,inferredRootCallName:"node",inferredPrimaryKey:"id",isAbstract:true},type:"Actor"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentLiveEndScreen_react_VideoRelayQL",type:"Video"}}(l,l)}}}})}),null);
__d("VideoComponentLiveInterruptedScreen.react",["cx","fbt","CenteredContainer.react","ChannelManager","React","RelayClassic_DEPRECATED","VideoComponent","joinClasses"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;c("ChannelManager").startChannelManager();j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.vpc=null}l.prototype.enable=function(m){this.vpc=m};l.prototype.disable=function(){};l.prototype.render=function(){if(!this.vpc||!this.vpc.isStreamInterrupted())return null;return c("React").createElement("div",{className:c("joinClasses")(this.props.className,"_1uwa _3htz")},c("React").createElement("div",{className:"_4qn1"}),c("React").createElement(c("CenteredContainer.react"),{vertical:true,className:"_2q2t"},c("React").createElement("div",{className:"_1uwb"},c("React").createElement("div",{className:"_39rw"},this.$VideoComponentLiveInterruptedScreen1()))))};l.prototype.$VideoComponentLiveInterruptedScreen1=function(){var m=i._("Live Video Interrupted"),n=i._("Live Audio Interrupted"),o=this.props.video&&this.props.video.isLiveAudioFormat,p=o?n:m;return c("React").createElement("div",{className:"_39ry"},c("React").createElement("div",{className:"_39rz"},p),c("React").createElement("div",{className:"_4qn3"},i._("The broadcast has been paused. It should resume shortly.")))};f.exports=c("VideoComponent").createContainer(l,{suppressMount:function m(n){return n.getStreamType()==="progressive"},observedVpcEvents:["streamInterrupted","streamResumed"],relayVideoConfig:{fragments:{video:function m(){return function(){return{children:[{alias:"isLiveAudioFormat",fieldName:"is_live_audio_format",kind:"Field",metadata:{},type:"Boolean"},{fieldName:"id",kind:"Field",metadata:{isGenerated:true,isRequisite:true},type:"ID"}],id:c("RelayClassic_DEPRECATED").QL.__id(),kind:"Fragment",metadata:{},name:"VideoComponentLiveInterruptedScreen_react_VideoRelayQL",type:"Video"}}()}}}})}),null);
__d("StreamingReaction",["cx","CSS","DOM","EventEmitter","FeedbackReactionType","Random","React","ReactDOM","Style","StreamingReactionsTrayEvents","UFIReactionsAnimatedKeyframesIcon.react","getVendorPrefixedName","queryThenMutateDOM"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("getVendorPrefixedName")("transform"),l=-30,m=30,n=50;i=babelHelpers.inherits(o,c("EventEmitter"));j=i&&i.prototype;o.getReaction=function(p,q,r){__p&&__p();var s=arguments.length<=3||arguments[3]===undefined?"":arguments[3];"use strict";var t=p?o.friendElementQueue:o.anonElementQueue;if(t.length>0){var u=t.shift();u.removeSpecificData();u.addSpecificData(q,s);return u}else return new o(p,q,r,s)};o.clearQueue=function(){"use strict";o.anonElementQueue.length=0;o.friendElementQueue.length=0};function o(p,q,r){__p&&__p();var s=arguments.length<=3||arguments[3]===undefined?"":arguments[3];"use strict";j.constructor.call(this);this.$StreamingReaction1=r;this.setState("CONSTRUCTED");this.isFriend=p;this.type=q;this.profilePicUri=s;this.start=-1;this.randVerticalStartPositionAnon=this.$StreamingReaction6();this.randHorizontalStartPositionAnon=this.$StreamingReaction7();this.randShootUpHorizontalPosition=this.$StreamingReaction8();this.randShootUpMaxVerticalPosition=this.$StreamingReaction9();this.randAmp=this.$StreamingReaction10();this.randTimeOffsetMs=this.$StreamingReaction11();this.period=this.$StreamingReaction12(this.isFriend,this.randShootUpHorizontalPosition);this.anonWindDurationMs=this.$StreamingReaction1.anonWindDurationMs+this.randTimeOffsetMs;this.maxAnonWindDurationMs=this.$StreamingReaction1.anonWindDurationMs+this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;this.shootUpDurationMs=this.$StreamingReaction1.durationsMs.SHOOT_UP;this.explosionDurationMs=this.$StreamingReaction1.durationsMs.EXPLOSION;this.explosionPauseDurationMs=this.$StreamingReaction1.durationsMs.EXPLOSION_PAUSE;this.morphShrinkDurationMs=this.$StreamingReaction1.durationsMs.MORPH/4;this.morphGrowDurationMs=this.$StreamingReaction1.durationsMs.MORPH/6;this.morphPauseDurationMs=this.$StreamingReaction1.durationsMs.MORPH_PAUSE;this.friendWindKeyDurationMs=this.$StreamingReaction1.friendWindDurationMs;this.shootUpVerticalPositionOffset=this.$StreamingReaction1.isVerticalReactionEnabled?65:15;c("queryThenMutateDOM")(function(){},this.createElem.bind(this))}o.prototype.createElem=function(){"use strict";__p&&__p();this.yAxisDiv=c("DOM").create("div");this.xAxisDiv=c("DOM").create("div");this.reactionElem=c("DOM").create("div");c("DOM").appendContent(this.xAxisDiv,this.reactionElem);c("DOM").appendContent(this.yAxisDiv,this.xAxisDiv);this.root=this.yAxisDiv;c("CSS").addClass(this.yAxisDiv,"_g19");c("CSS").addClass(this.xAxisDiv,"_g19");this.setReactionImage();var p=void 0,q=void 0,r=void 0;if(this.isFriend){this.$StreamingReaction13();this.setFireworksColors();this.root=c("DOM").create("div");c("DOM").appendContent(this.root,this.fireworks);c("DOM").appendContent(this.root,this.yAxisDiv);p=this.randShootUpHorizontalPosition;q=this.$StreamingReaction1.minY+l;r=this.$StreamingReaction1.minMorphScale;var s=this.$StreamingReaction1.shootUpScale;this.createFriendImage();c("Style").set(this.friendImg,k,"scale("+s+")")}else{if(this.$StreamingReaction1.isVerticalReactionEnabled){p=this.randHorizontalStartPositionAnon;q=this.$StreamingReaction1.minY}else{p=this.$StreamingReaction1.minX;q=this.randVerticalStartPositionAnon}r=this.$StreamingReaction1.globalScale}c("Style").set(this.reactionElem,k,"scale("+r+")");c("Style").set(this.yAxisDiv,"right",p+"px");c("Style").set(this.yAxisDiv,"bottom",q+"px");this.setState("RENDERED")};o.prototype.setAnimationX=function(p){"use strict";this.$StreamingReaction3=p};o.prototype.setAnimationY=function(p){"use strict";this.$StreamingReaction4=p};o.prototype.setAnimationScale=function(p){"use strict";this.$StreamingReaction5=p};o.prototype.getAnimationX=function(){"use strict";return this.$StreamingReaction3};o.prototype.getAnimationY=function(){"use strict";return this.$StreamingReaction4};o.prototype.getAnimationScale=function(){"use strict";return this.$StreamingReaction5};o.prototype.createFriendImage=function(){"use strict";this.friendImg=c("DOM").create("img");c("DOM").setAttributes(this.friendImg,{src:this.profilePicUri});c("DOM").appendContent(this.xAxisDiv,this.friendImg);c("Style").set(this.friendImg,k,"scale("+this.$StreamingReaction1.shootUpScale+")");c("Style").set(this.reactionElem,"opacity","0");c("CSS").addClass(this.friendImg,"_2-ai")};o.prototype.setFriendImage=function(p){"use strict";this.profilePicUri=p;c("DOM").setAttributes(this.friendImg,{src:this.profilePicUri})};o.prototype.setReactionImage=function(){"use strict";c("CSS").addClass(this.reactionElem,"_g19");if(this.$StreamingReaction1.isVerticalReactionEnabled&&this.isFriend)c("ReactDOM").render(c("React").createElement(c("UFIReactionsAnimatedKeyframesIcon.react"),{animate:true,className:"_2jry",maxSize:48,reactionID:c("FeedbackReactionType")[this.type],selectedIndex:0}),this.reactionElem);else c("CSS").addClass(this.reactionElem,this.getReactionImageClass(this.type))};o.prototype.setState=function(p){"use strict";var q=this.getState();this.$StreamingReaction2=p;if(q!=="FINISHED"&&p==="FINISHED"){var r=this.isFriend?o.friendElementQueue:o.anonElementQueue;r.push(this);this.$StreamingReaction2="RENDERED"}this.emit(c("StreamingReactionsTrayEvents").ReactionStateChange,this.getState())};o.prototype.getState=function(){"use strict";return this.$StreamingReaction2};o.prototype.addSpecificData=function(p,q){"use strict";this.type=p;this.profilePicUri=q;this.setReactionImage();if(this.isFriend){this.setFireworksColors();this.setFriendImage(q)}};o.prototype.removeSpecificData=function(){"use strict";this.removeReactionImage();if(this.isFriend)this.removeFireworksStyle()};o.prototype.removeReactionImage=function(){"use strict";c("CSS").removeClass(this.reactionElem,this.getReactionImageClass(this.type))};o.prototype.removeFireworksStyle=function(){"use strict";for(var p=0;p<this.fireworks.length;p++)c("CSS").removeClass(this.fireworks[p],this.getReactionFireworksClass(this.type,p))};o.prototype.$StreamingReaction13=function(){"use strict";__p&&__p();var p=[];for(var q=0,r;q<10;q++){r=c("DOM").create("div");c("CSS").addClass(r,"_3na5");c("Style").set(r,"right",this.randShootUpHorizontalPosition+22+"px");c("Style").set(r,"bottom",this.randShootUpMaxVerticalPosition-this.shootUpVerticalPositionOffset+"px");switch(q){case 1:c("CSS").addClass(r,"_3nab");break;case 2:c("CSS").addClass(r,"_3nad");break;case 3:c("CSS").addClass(r,"_3nae");break;case 4:c("CSS").addClass(r,"_3naf");break;case 5:c("CSS").addClass(r,"_3nag");break;case 6:c("CSS").addClass(r,"_3nah");break;case 7:c("CSS").addClass(r,"_3nak");break;case 8:c("CSS").addClass(r,"_3nam");break;case 9:c("CSS").addClass(r,"_3nan");break;default:break}p.push(r)}this.fireworks=p};o.prototype.setFireworksColors=function(){"use strict";for(var p=0;p<this.fireworks.length;p++)c("CSS").addClass(this.fireworks[p],this.getReactionFireworksClass(this.type,p))};o.prototype.getReactionImageClass=function(p){"use strict";__p&&__p();switch(p){case"LIKE":return"_2-am";case"HAHA":return"_2-an";case"WOW":return"_2-ao";case"LOVE":return"_2-ap";case"ANGER":return"_2-aq";case"SORRY":return"_2-ar";case"DOROTHY":return"_3men";default:throw new Error("Not a valid reaction type: "+p)}};o.prototype.getReactionFireworksClass=function(p,q){"use strict";__p&&__p();var r=q%2===0;if(r)if(this.type==="LIKE")return"_3na6";else if(this.type==="LOVE")return"_3na8";else if(this.type==="DOROTHY")return"_1l5u";else return"_3na9";else return"_3naa"};o.prototype.$StreamingReaction11=function(){"use strict";var p=this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;return-1*p+c("Random").random()*p*2};o.prototype.$StreamingReaction10=function(){"use strict";var p=c("Random").random()>.5;return(p?1:-1)*(c("Random").random()*(1-.6)+.6)};o.prototype.$StreamingReaction12=function(p,q){"use strict";var r=p?this.$StreamingReaction1.maxX-q:this.$StreamingReaction1.maxX;return r};o.prototype.$StreamingReaction6=function(){"use strict";var p=(this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY)/2;return~~(c("Random").random()*p)};o.prototype.$StreamingReaction7=function(){"use strict";var p=(this.$StreamingReaction1.maxX-this.$StreamingReaction1.minX)/2;return~~(c("Random").random()*p)};o.prototype.$StreamingReaction8=function(){"use strict";return c("Random").random()*(this.$StreamingReaction1.maxX/3)};o.prototype.$StreamingReaction9=function(){"use strict";var p=this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY,q=void 0;if(this.$StreamingReaction1.isVerticalReactionEnabled)q=c("Random").random()*m+p+n;else{var r=1/3;q=c("Random").random()*(p*(1-r))+r*p-l}return q};o.anonElementQueue=[];o.friendElementQueue=[];f.exports=o}),null);
__d("StreamingReactionsTrayAnimation",["DOM","Set","StreamingReaction","StreamingReactionsTrayEvents"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j){"use strict";this.root=i;this.config=j;this.animating=false;this.reactions=new(c("Set"))()}h.prototype.addReaction=function(i,j){__p&&__p();var k,l=this,m=arguments.length<=2||arguments[2]===undefined?"":arguments[2];"use strict";if(this.animating)(function(){var n=c("StreamingReaction").getReaction(i,j,l.config,m);l.reactions.add(n);if(n.getState()==="RENDERED")l.buildAnimation(n);else n.once(c("StreamingReactionsTrayEvents").ReactionStateChange,function(o){if(o==="RENDERED")this.buildAnimation(n)}.bind(l))})()};h.prototype.start=function(){"use strict";this.animating=true};h.prototype.stop=function(){"use strict";__p&&__p();this.animating=false;c("StreamingReaction").clearQueue();for(var i=this.reactions,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}var m=l;if(m.getState()!=="CONSTRUCTED")c("DOM").remove(m.root)}this.reactions.clear()};h.prototype.clearCurrent=function(){"use strict";__p&&__p();c("StreamingReaction").clearQueue();for(var i=this.reactions,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}var m=l;if(m.getState()!=="CONSTRUCTED")c("DOM").remove(m.root)}this.reactions.clear()};h.prototype.setOnFinishHandler=function(i){"use strict";this.onFinishHandler=i};h.prototype.buildAnimation=function(i){"use strict";throw new Error("Function not implemented")};h.prototype.createOnFinishForReaction=function(i){"use strict";return function(j){this.onFinish(i,j)}.bind(this)};h.prototype.onFinish=function(i,j){"use strict";if(this.onFinishHandler)this.onFinishHandler();if(i.getState()!=="FINISHED")i.setState("FINISHED")};f.exports=h}),null);
__d("StreamingReactionsTrayAnonymousAnimation",["CSSAnimationBuilder","DOM","StreamingReactionsTrayAnimation"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("StreamingReactionsTrayAnimation"));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this,k,l)}j.prototype.addAnonReaction=function(k){"use strict";i.addReaction.call(this,false,k)};j.prototype.buildAnimation=function(k){"use strict";__p&&__p();if(!k.getAnimationY()){var l=k.anonWindDurationMs/1e3,m=k.maxAnonWindDurationMs/1e3,n=this.$StreamingReactionsTrayAnonymousAnimation1(k),o=this.$StreamingReactionsTrayAnonymousAnimation2(k);n=Math.round(n*100)/100;o=Math.round(o*100)/100;var p=c("CSSAnimationBuilder").keyframeAnimation(k.yAxisDiv),q=c("CSSAnimationBuilder").keyframeAnimation(k.xAxisDiv),r=c("CSSAnimationBuilder").keyframeAnimation(k.reactionElem);this.$StreamingReactionsTrayAnonymousAnimation3(q,n,l,m);this.$StreamingReactionsTrayAnonymousAnimation4(p,o,l,m,k);this.$StreamingReactionsTrayAnonymousAnimation5(r,l,m);k.setAnimationX(q);k.setAnimationY(p);k.setAnimationScale(r);if(this.animating)c("DOM").appendContent(this.root,k.root)}if(this.animating){k.setState("ANIMATING");k.getAnimationX().start();k.getAnimationY().start();k.getAnimationScale().start()}};j.prototype.$StreamingReactionsTrayAnonymousAnimation1=function(k){"use strict";return this.config.isVerticalReactionEnabled?k.randAmp*this.config.horizontalAnimationRange:-1*(this.config.maxX-this.config.minX)};j.prototype.$StreamingReactionsTrayAnonymousAnimation2=function(k){"use strict";return this.config.isVerticalReactionEnabled?-1*(this.config.maxY-this.config.minY):k.randAmp*(this.config.maxY-this.config.minY)/2};j.prototype.$StreamingReactionsTrayAnonymousAnimation4=function(k,l,m,n,o){"use strict";if(this.config.isVerticalReactionEnabled){k.defineKeyframes({"0%":{transform:"translateY("+0+"px)"},"100%":{transform:"translateY("+l+"px)"}});k.setDuration(m)}else{k.defineKeyframes({"0%":{transform:"translateY("+0+"px)","animation-timing-function":"ease-in-out"},"50%":{transform:"translateY("+l+"px)","animation-timing-function":"ease-in-out"},"100%":{transform:"translateY("+0+"px)"}});k.setDuration(n)}k.setIterationCount(1).setMemoize(false).setFinishedCallback(this.createOnFinishForReaction(o))};j.prototype.$StreamingReactionsTrayAnonymousAnimation3=function(k,l,m,n){"use strict";if(this.config.isVerticalReactionEnabled){k.defineKeyframes({"0%":{transform:"translateX("+0+"px)","animation-timing-function":"ease-in-out"},"50%":{transform:"translateX("+l+"px)"},"100%":{transform:"translateX("+0+"px)"}});k.setTimingFunction("cubic-bezier(0.215, 0.61, 0.355, 1)").setDuration(n)}else{k.defineKeyframes({"0%":{transform:"translateX("+0+"px)"},"100%":{transform:"translateX("+l*1.2+"px)"}});k.setTimingFunction(this.config.anonHorizontalCurve).setDuration(m)}k.setMemoize(false).setIterationCount(1)};j.prototype.$StreamingReactionsTrayAnonymousAnimation5=function(k,l,m){"use strict";__p&&__p();var n=this.config.globalScale;if(this.config.isVerticalReactionEnabled){k.defineKeyframes({"0%":{transform:"scale("+n+")"},"40%":{transform:"scale("+n+")",opacity:"1"},"100%":{transform:"scale("+.1+")",opacity:"0"}});k.setTimingFunction("cubic-bezier(0.215, 0.61, 0.355, 1)").setDuration(l)}else{k.defineKeyframes({"0%":{transform:"scale("+n+")"},"80%":{transform:"scale("+n+")"},"100%":{transform:"scale("+.1+")"}});k.setTimingFunction("linear").setDuration(l)}k.setMemoize(false).setIterationCount(1)};f.exports=j}),null);
__d("StreamingReactionsTrayConfig",["EventEmitter","StreamingReactionsAnimationConfig","StreamingReactionsTrayEvents","VideoPlayerLoggerSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k,l,m,n){"use strict";__p&&__p();i.constructor.call(this);this.$StreamingReactionsTrayConfig1=c("StreamingReactionsAnimationConfig");this.durationsMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS;this.isVerticalReactionEnabled=n;this.updateDimensions(k,l);this.$StreamingReactionsTrayConfig2(m);this.globalScale=this.$StreamingReactionsTrayConfig1.SCALES.GLOBAL*this.$StreamingReactionsTrayConfig1.SCALES.SCALE_MULTIPLIER;this.shootUpScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.SHOOT_UP;this.maxExplosionScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.MAX_EXPLOSION;this.minMorphScale=this.globalScale*this.$StreamingReactionsTrayConfig1.SCALES.MIN_MORPH;this.scaleMultiplier=this.viewUpdateInterval=this.$StreamingReactionsTrayConfig1.THROTTLE.VIEW_UPDATE_INTERVAL;this.reactionStartAnimationRate=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_START_ANIMATION_RATE;this.reactionBufferSize=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_BUFFER_SIZE;this.maxAnonReactionsCount=this.$StreamingReactionsTrayConfig1.THROTTLE.MAX_REACTIONS_ON_SCREEN;this.reactionSelfFireworkAnimationThreshold=this.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_CLICK_SELF_FIREWORK_ANIMATION_THRESHOLD;this.horizontalAnimationRange=this.$StreamingReactionsTrayConfig1.VERTICAL_REACTION_SCALES.HORIZONTAL_ANIMATION_RANGE;var o=this.$StreamingReactionsTrayConfig1.CURVES;this.anonHorizontalCurve="cubic-bezier("+o.ANON_HORIZONTAL.join(", ")+")";this.friendWindHorizontalCurve="cubic-bezier("+o.FRIEND_WIND_HORIZONTAL.join(", ")+")";this.shootUpVerticalCurve="cubic-bezier("+o.SHOOT_UP_VERTICAL.join(", ")+")";this.morphScaleCurve="cubic-bezier("+o.MORPH_SCALE.join(", ")+")";this.explosionScaleCurve="cubic-bezier("+o.EXPLOSION_SCALE.join(", ")+")";this.friendWindScaleCurve="cubic-bezier("+o.FRIEND_WIND_SCALE.join(", ")+")";this.friendWindVacuumZoneScaleCurve="cubic-bezier("+o.FRIEND_WIND_VACUUM_ZONE_SCALE.join(", ")+")"}j.prototype.updateSurface=function(k,l,m){"use strict";this.updateDimensions(k,l);this.$StreamingReactionsTrayConfig2(m);this.emit(c("StreamingReactionsTrayEvents").UpdateSurface)};j.prototype.$StreamingReactionsTrayConfig2=function(k){"use strict";__p&&__p();if(k===c("VideoPlayerLoggerSource").CHANNEL){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_CHANNEL;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_CHANNEL}else if(k===c("VideoPlayerLoggerSource").SNOWLIFT){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_SNOWLIFT;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_SNOWLIFT}else{this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_INLINE;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_INLINE}};j.prototype.updateDimensions=function(k,l){"use strict";__p&&__p();var m=k,n=void 0;if(this.isVerticalReactionEnabled){n=l*this.$StreamingReactionsTrayConfig1.VERTICAL_REACTION_SCALES.HEIGHT_MULTIPLIER;this.maxX=m/2;this.minX=0;this.maxY=n+this.$StreamingReactionsTrayConfig1.VERTICAL_REACTIONS_OFFSETS_PX.POSITIVE_Y;this.minY=0-this.$StreamingReactionsTrayConfig1.VERTICAL_REACTIONS_OFFSETS_PX.NEGATIVE_Y}else{n=l;this.maxX=m+this.$StreamingReactionsTrayConfig1.OFFSETS_PX.POSITIVE_X;this.minX=0-this.$StreamingReactionsTrayConfig1.OFFSETS_PX.NEGATIVE_X;this.maxY=n+this.$StreamingReactionsTrayConfig1.OFFSETS_PX.POSITIVE_Y;this.minY=0-this.$StreamingReactionsTrayConfig1.OFFSETS_PX.NEGATIVE_Y}this.reactionsOffScreenX=m+21};f.exports=j}),null);
__d("StreamingReactionsTrayDiffuser",["BanzaiODS","Random","randomShuffle","setTimeout"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();c("BanzaiODS").setEntitySample("feedback",1e-4);function h(i,j,k,l){"use strict";__p&&__p();this.$StreamingReactionsTrayDiffuser1=i;this.$StreamingReactionsTrayDiffuser4=j;this.$StreamingReactionsTrayDiffuser12=k;this.$StreamingReactionsTrayDiffuser11=l;this.$StreamingReactionsTrayDiffuser10=this.$StreamingReactionsTrayDiffuser11.viewUpdateInterval;this.$StreamingReactionsTrayDiffuser7={};this.$StreamingReactionsTrayDiffuser6={};this.$StreamingReactionsTrayDiffuser2=[];this.$StreamingReactionsTrayDiffuser9=0;this.$StreamingReactionsTrayDiffuser5=this.$StreamingReactionsTrayDiffuser11.maxAnonReactionsCount;this.$StreamingReactionsTrayDiffuser3=this.$StreamingReactionsTrayDiffuser11.reactionBufferSize;this.$StreamingReactionsTrayDiffuser1.setOnFinishHandler(this.$StreamingReactionsTrayDiffuser13.bind(this))}h.prototype.clearCurrentReactions=function(){"use strict";this.$StreamingReactionsTrayDiffuser1.clearCurrent();this.$StreamingReactionsTrayDiffuser4.clearCurrent();this.$StreamingReactionsTrayDiffuser9=0};h.prototype.startAnimation=function(){"use strict";clearInterval(this.$StreamingReactionsTrayDiffuser8);this.$StreamingReactionsTrayDiffuser1.start();this.$StreamingReactionsTrayDiffuser4.start();this.$StreamingReactionsTrayDiffuser8=setInterval(this.$StreamingReactionsTrayDiffuser14.bind(this),this.$StreamingReactionsTrayDiffuser10)};h.prototype.stopAnimation=function(){"use strict";this.$StreamingReactionsTrayDiffuser1.stop();this.$StreamingReactionsTrayDiffuser4.stop();this.$StreamingReactionsTrayDiffuser9=0;clearInterval(this.$StreamingReactionsTrayDiffuser8)};h.prototype.pauseAnimation=function(){"use strict";clearInterval(this.$StreamingReactionsTrayDiffuser8)};h.prototype.clearBuffer=function(){"use strict";this.$StreamingReactionsTrayDiffuser2=[]};h.prototype.addOwnReaction=function(i,j,k){"use strict";if(k)this.$StreamingReactionsTrayDiffuser6[i]+=1;this.$StreamingReactionsTrayDiffuser15(i,j)};h.prototype.processPayload=function(i){"use strict";__p&&__p();var j=i.feedback_add_streaming_reaction_subscribe,k=j.reactor,l=j.reaction_info.reaction_type,m=k.is_viewer_friend;if(m)this.$StreamingReactionsTrayDiffuser15(l,k.profile_picture.uri);var n={},o=0;for(var p=j.reaction_counts,q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s,u=t.reaction_info.reaction_type,v=t.count;if(m&&l)v--;if(this.$StreamingReactionsTrayDiffuser7[u]){var w=this.$StreamingReactionsTrayDiffuser7[u];if(this.$StreamingReactionsTrayDiffuser6[u])w+=this.$StreamingReactionsTrayDiffuser6[u];var x=w?Math.max(v-w,0):0;n[u]=x;o+=x}this.$StreamingReactionsTrayDiffuser7[u]=v}this.$StreamingReactionsTrayDiffuser16(n,o)};h.prototype.processVodPayload=function(i){"use strict";__p&&__p();var j={},k=0;for(var l=i.reactions,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}var p=o,q=p.reaction_type,r=p.count;j[q]=r;k+=r;for(var s=p.important_reactors,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}var w=v;this.$StreamingReactionsTrayDiffuser17(q,w.profile_picture_uri,i.length*1e3)}}this.clearBuffer();this.$StreamingReactionsTrayDiffuser16(j,k)};h.prototype.$StreamingReactionsTrayDiffuser16=function(i,j){__p&&__p();var k;"use strict";var l=[],m=this.$StreamingReactionsTrayDiffuser3-this.$StreamingReactionsTrayDiffuser2.length;if(m>0){var n=j>m,o=function o(t){var u=t[0],v=t[1];v=n?Math.floor(v/j*m):v;l=l.concat(Array.apply(undefined,Array(v)).map(function(){return u}))};for(var p=Object.entries(i),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var s;if(q){if(r>=p.length)break;s=p[r++]}else{r=p.next();if(r.done)break;s=r.value}var t=s;o(t)}c("randomShuffle")(l);this.$StreamingReactionsTrayDiffuser2=this.$StreamingReactionsTrayDiffuser2.concat(l)}};h.prototype.$StreamingReactionsTrayDiffuser17=function(i,j,k){"use strict";var l=Math.floor(c("Random").random()*k);c("setTimeout")(function(){return this.addOwnReaction(i,j,false)}.bind(this),l)};h.prototype.$StreamingReactionsTrayDiffuser15=function(i,j){"use strict";this.$StreamingReactionsTrayDiffuser4.addFriendReaction(i,j);this.$StreamingReactionsTrayDiffuser12?c("BanzaiODS").bumpEntityKey("feedback","facecast_live_friend_reaction_rendered"):c("BanzaiODS").bumpEntityKey("feedback","facecast_vod_friend_reaction_rendered")};h.prototype.$StreamingReactionsTrayDiffuser14=function(){"use strict";if(this.$StreamingReactionsTrayDiffuser2.length>0&&this.$StreamingReactionsTrayDiffuser9<this.$StreamingReactionsTrayDiffuser5){this.$StreamingReactionsTrayDiffuser1.addAnonReaction(this.$StreamingReactionsTrayDiffuser2.shift());this.$StreamingReactionsTrayDiffuser9++;this.$StreamingReactionsTrayDiffuser12?c("BanzaiODS").bumpEntityKey("feedback","facecast_live_reaction_rendered"):c("BanzaiODS").bumpEntityKey("feedback","facecast_vod_reaction_rendered")}};h.prototype.$StreamingReactionsTrayDiffuser13=function(){"use strict";this.$StreamingReactionsTrayDiffuser9--};f.exports=h}),null);
__d("StreamingReactionsTrayFriendAnimation",["Arbiter","DOM","CSSAnimationBuilder","StreamingReactionsTrayAnimation","StreamingReactionsTrayEvents","queryThenMutateDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=10;h=babelHelpers.inherits(k,c("StreamingReactionsTrayAnimation"));i=h&&h.prototype;function k(l,m){"use strict";i.constructor.call(this,l,m)}k.prototype.addFriendReaction=function(l,m){"use strict";i.addReaction.call(this,true,l,m)};k.prototype.buildAnimation=function(l){"use strict";__p&&__p();this.incrementFireworksCount();var m=-1*l.randShootUpMaxVerticalPosition;m=Math.round(m*100)/100;var n=0,o=0;if(!this.config.isVerticalReactionEnabled){n=l.randAmp*(this.config.maxY-this.config.minY)/2;o=-1*(this.config.maxX-this.config.minX-l.randShootUpHorizontalPosition)}var p=this.config.globalScale,q=[l.shootUpDurationMs,l.explosionDurationMs*.15,l.explosionDurationMs*.85,l.explosionPauseDurationMs*.8,l.explosionPauseDurationMs*.2,l.morphShrinkDurationMs,l.morphGrowDurationMs,l.morphPauseDurationMs,l.friendWindKeyDurationMs*.5,l.friendWindKeyDurationMs*.3,l.friendWindKeyDurationMs*.2].map(function(P){return P/1e3}),r=q.reduce(function(P,Q){return P+Q}),s=q.map(function(P,Q,R){var S=(Q>0?R[Q-1]:0)+P;q[Q]=S;return S}).map(function(P){return P/r*100}),t=s[0],u=s[1],v=s[2],w=s[3],x=s[4],y=s[5],z=s[6],A=s[7],B=s[8],C=s[9],D=s[10],E=c("CSSAnimationBuilder").keyframeAnimation(l.yAxisDiv);E.defineKeyframe("0%",{transform:"translateY("+0+"px)","animation-timing-function":this.config.shootUpVerticalCurve}).defineKeyframe(t,{transform:"translateY("+m+"px)","animation-timing-function":"linear"}).defineKeyframe(A,{transform:"translateY("+m+"px)","animation-timing-function":"ease-in-out"}).defineKeyframe(B,{transform:"translateY("+(m+n)+"px)","animation-timing-function":"ease-in-out"}).defineKeyframe(D,{transform:"translateY("+m+"px)"});E.setDuration(r).setFinishedCallback(this.createOnFinishForReaction(l)).setIterationCount(1);var F=c("CSSAnimationBuilder").keyframeAnimation(l.xAxisDiv);F.defineKeyframe("0%",{transform:"translateX("+0+"px)"}).defineKeyframe(A,{transform:"translateX("+0+"px)"}).defineKeyframe(D,{transform:"translateX("+o+"px)"});F.setDuration(r).setTimingFunction(this.config.anonHorizontalCurve).setIterationCount(1);var G=c("CSSAnimationBuilder").keyframeAnimation(l.friendImg);G.defineKeyframe("0%",{transform:"scale("+this.config.shootUpScale+")","animation-timing-function":"linear"}).defineKeyframe(t,{transform:"scale("+this.config.shootUpScale+")","animation-timing-function":this.config.explosionScaleCurve}).defineKeyframe(v,{transform:"scale("+this.config.maxExplosionScale+")","animation-timing-function":"linear"}).defineKeyframe(x,{transform:"scale("+this.config.maxExplosionScale+")",opacity:"1","animation-timing-function":"linear"}).defineKeyframe(y,{transform:"scale("+this.config.minMorphScale+")",opacity:"0"}).defineKeyframe(D,{opacity:"0"});G.setDuration(r).setIterationCount(1);var H=c("CSSAnimationBuilder").keyframeAnimation(l.reactionElem);H.defineKeyframe("0%",{opacity:"0",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":"linear"}).defineKeyframe(x,{opacity:"0",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":"linear"}).defineKeyframe(y,{opacity:"1",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":this.config.morphScaleCurve}).defineKeyframe(z,{opacity:"1",transform:"scale("+this.config.maxExplosionScale+")","animation-timing-function":"linear"}).defineKeyframe(B,{opacity:"1",transform:"scale("+p+")","animation-timing-function":"linear"}).defineKeyframe(C,{opacity:"1",transform:"scale("+p+")","animation-timing-function":"linear"}).defineKeyframe(D,{opacity:"1",transform:"scale("+.1+")","animation-timing-function":"linear"});H.setDuration(r).setIterationCount(1);var I=[];for(var J=l.fireworks,K=Array.isArray(J),L=0,J=K?J:J[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var M;if(K){if(L>=J.length)break;M=J[L++]}else{L=J.next();if(L.done)break;M=L.value}var N=M,O=c("CSSAnimationBuilder").keyframeAnimation(N);O.defineKeyframe("0%",{"background-position":"0px -36px",opacity:"0"}).defineKeyframe(u,{"background-position":"0px 36px",opacity:"0"}).defineKeyframe(w,{"background-position":"0px -36px",opacity:"1"}).defineKeyframe("100%",{"background-position":"0px -36px",opacity:"0"});O.setDuration(r).setIterationCount(1).setMemoize(false).setTimingFunction("cubic-bezier(0.075, 0.82, 0.165, 1)").setFinishedCallback(this.onFireworkFinish.bind(this));I.push(O)}if(this.animating)c("queryThenMutateDOM")(function(){},function(){__p&&__p();c("DOM").appendContent(this.root,l.root);l.setState("ANIMATING");for(var P=I,Q=Array.isArray(P),R=0,P=Q?P:P[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var S;if(Q){if(R>=P.length)break;S=P[R++]}else{R=P.next();if(R.done)break;S=R.value}var T=S;T.start()}F.start();E.start();G.start();H.start()}.bind(this))};k.prototype.onFireworkFinish=function(l){"use strict";this.decrementFireworksCount()};k.prototype.incrementFireworksCount=function(){"use strict";var l=k.fireWorksCount,m=l+j;c("Arbiter").inform(c("StreamingReactionsTrayEvents").FireworksAnimating,true);k.fireWorksCount=m};k.prototype.decrementFireworksCount=function(){"use strict";var l=k.fireWorksCount-1;if(l<1)c("Arbiter").inform(c("StreamingReactionsTrayEvents").FireworksAnimating,false);k.fireWorksCount=l};k.fireWorksCount=0;f.exports=k}),null);
__d("XVODStreamingReactionsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/videos/vodreactions/",{eft_id:{type:"String",required:true},start_time:{type:"Float",required:true},end_time:{type:"Float",required:true}})}),null);
__d("VODReactionStream",["AsyncRequest","Map","SubscriptionsHandler","XVODStreamingReactionsAsyncController","setInterval"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(j,k){__p&&__p();this.videoPlayerController=j;this.diffuser=k;this.reactions=[];this.queueEndTime=0;this.currentRequest=null;this.subscriptions=new(c("SubscriptionsHandler"))();this.resetToTime(j.getCurrentTimePosition());this.subscriptions.addSubscriptions(j.addListener("seek",function(l){this.resetToTime(l.time)}.bind(this)));c("setInterval")(this.renderReactions.bind(this),800)}h.prototype.renderReactions=function(){if(!this.videoPlayerController.isState("playing")||this.videoPlayerController.isMuted())return;var j=this.videoPlayerController.getCurrentTimePosition(),k=Math.floor(j);this.onTimeUpdated(j);if(this.reactions[k]){this.diffuser.processVodPayload(this.reactions[k]);delete this.reactions[k]}};h.prototype.fetchNewReactions=function(j){__p&&__p();var k=j+60,l=c("XVODStreamingReactionsAsyncController").getURIBuilder().setString("eft_id",this.videoPlayerController.getVideoID()).setFloat("start_time",j).setFloat("end_time",k).getURI();if(this.currentRequest)this.currentRequest.abandon();this.currentRequest=new(c("AsyncRequest"))().setURI(l).setHandler(function(m){__p&&__p();var n=m.getPayload();if(n.reactionpayloads)for(var o=n.reactionpayloads,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var r;if(p){if(q>=o.length)break;r=o[q++]}else{q=o.next();if(q.done)break;r=q.value}var s=r;this.reactions[s.start_time]=s}this.queueEndTime=k}.bind(this)).setFinallyHandler(function(){this.currentRequest=null}.bind(this));this.currentRequest.send()};h.prototype.onTimeUpdated=function(j){if(j<this.queueEndTime-15||this.currentRequest!==null)return;this.fetchNewReactions(this.queueEndTime)};h.prototype.resetToTime=function(j){this.fetchNewReactions(j)};h.prototype.stop=function(){this.subscriptions.release()};var i=new(c("Map"))();f.exports={start:function j(k,l){i.set(k,new h(k,l))},stop:function j(k){var l=i.get(k);if(!l)return;l.stop();i["delete"](k)}}}),null);
__d("StreamingReactionsTray",["Arbiter","FeedbackAddStreamingReactionSubscription","FeedbackReactionType","HotLiveVideoPayloadManager","PublicLiveMapConstants","Run","StreamingReactionsTrayAnonymousAnimation","StreamingReactionsTrayConfig","StreamingReactionsTrayDiffuser","StreamingReactionsTrayEvents","StreamingReactionsTrayFriendAnimation","Style","SubscriptionsHandler","UFIUIEvents","VideoPlayerLoggerSource","Visibility","VODReactionStream"],(function a(b,c,d,e,f,g){__p&&__p();function h(i,j,k,l,m,n,o,p,q,r){"use strict";__p&&__p();this.$StreamingReactionsTray7=i;this.$StreamingReactionsTray4=k;this.$StreamingReactionsTray20=0;this.$StreamingReactionsTray12=r;this.$StreamingReactionsTray18=p;this.$StreamingReactionsTray19=q;this.$StreamingReactionsTray21(k);var s=j?!!j.getOption("VideoWithLiveBroadcast","isLive"):true;this.$StreamingReactionsTray1=new(c("StreamingReactionsTrayDiffuser"))(new(c("StreamingReactionsTrayAnonymousAnimation"))(this.$StreamingReactionsTray7,this.$StreamingReactionsTray2),new(c("StreamingReactionsTrayFriendAnimation"))(this.$StreamingReactionsTray7,this.$StreamingReactionsTray2),s,this.$StreamingReactionsTray2);this.$StreamingReactionsTray17=new(c("SubscriptionsHandler"))();this.$StreamingReactionsTray10=j;this.$StreamingReactionsTray8=false;this.$StreamingReactionsTray9=false;this.$StreamingReactionsTray5=n;this.$StreamingReactionsTray6=o;this.$StreamingReactionsTray11=false;this.$StreamingReactionsTray13=l;this.$StreamingReactionsTray14=m;this.$StreamingReactionsTray22();c("Run").onLeave(this.$StreamingReactionsTray23.bind(this));var t=j?j.getOption("VideoWithVODBroadcast","isLiveVOD"):false;if(t&&j)c("VODReactionStream").start(j,this.$StreamingReactionsTray1)}h.prototype.$StreamingReactionsTray21=function(i){"use strict";var j=parseInt(c("Style").get(this.$StreamingReactionsTray7,"width"),10),k=parseInt(c("Style").get(this.$StreamingReactionsTray7,"height"),10);this.$StreamingReactionsTray3=i;if(this.$StreamingReactionsTray2)this.$StreamingReactionsTray2.updateSurface(j,k,this.$StreamingReactionsTray3);else this.$StreamingReactionsTray2=new(c("StreamingReactionsTrayConfig"))(j,k,this.$StreamingReactionsTray3,this.$StreamingReactionsTray12)};h.prototype.$StreamingReactionsTray24=function(){"use strict";if(this.$StreamingReactionsTray2){var i=parseInt(c("Style").get(this.$StreamingReactionsTray7,"width"),10),j=parseInt(c("Style").get(this.$StreamingReactionsTray7,"height"),10);this.$StreamingReactionsTray2.updateDimensions(i,j,this.$StreamingReactionsTray3)}};h.prototype.$StreamingReactionsTray25=function(i){"use strict";__p&&__p();return[i.addListener("unmuteVideo",function(){if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this)),i.addListener("muteVideo",function(){if(this.$StreamingReactionsTray28())this.$StreamingReactionsTray29()}.bind(this)),i.addListener("changeVolume",function(){if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this)),i.addListener("pausePlayback",function(){this.$StreamingReactionsTray30()}.bind(this)),i.addListener("beginPlayback",function(){if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this)),i.addListener("seek",function(){this.$StreamingReactionsTray31()}.bind(this)),i.addListener("VideoChannelController/enterChannel",function(){this.$StreamingReactionsTray21(c("VideoPlayerLoggerSource").CHANNEL);this.$StreamingReactionsTray29()}.bind(this)),i.addListener("VideoChannelController/exitChannel",function(){this.$StreamingReactionsTray21(this.$StreamingReactionsTray4);if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this)),i.addListener("beginPlayback",function(){if(this.$StreamingReactionsTray26())setTimeout(function(){this.$StreamingReactionsTray21(this.$StreamingReactionsTray3);this.$StreamingReactionsTray27()}.bind(this),100)}.bind(this)),i.addListener("finishPlayback",function(){this.$StreamingReactionsTray29()}.bind(this))]};h.prototype.$StreamingReactionsTray32=function(){"use strict";window.addEventListener("resize",function(){return this.$StreamingReactionsTray24()}.bind(this))};h.prototype.$StreamingReactionsTray22=function(){__p&&__p();var i;"use strict";var j=this.$StreamingReactionsTray10?this.$StreamingReactionsTray25(this.$StreamingReactionsTray10):[];if(!this.$StreamingReactionsTray10)this.$StreamingReactionsTray32();(i=this.$StreamingReactionsTray17).addSubscriptions.apply(i,j.concat([c("Arbiter").subscribe("VideoChannelView/opened",function(){this.$StreamingReactionsTray21(c("VideoPlayerLoggerSource").CHANNEL);this.$StreamingReactionsTray29()}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").ResizeChannelViewWindow,function(){return this.$StreamingReactionsTray21(this.$StreamingReactionsTray3)}.bind(this)),c("Arbiter").subscribe("VideoChannelView/closed",function(){this.$StreamingReactionsTray21(this.$StreamingReactionsTray4);if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").ShowChannelViewDetails,function(){if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").HideChannelViewDetails,function(){this.$StreamingReactionsTray29()}.bind(this)),this.$StreamingReactionsTray2.addListener(c("StreamingReactionsTrayEvents").UpdateSurface,function(){return this.$StreamingReactionsTray1.clearCurrentReactions()}.bind(this)),c("Arbiter").subscribe(c("UFIUIEvents").ReactionButtonClicked,function(k,l){if(l.ft_id===this.$StreamingReactionsTray13)this.$StreamingReactionsTray33(l,true)}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").AddReactionAnimate,function(k,l){this.$StreamingReactionsTray33(l,false)}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").DisableReactions,function(){this.$StreamingReactionsTray11=true;this.$StreamingReactionsTray29()}.bind(this)),c("Arbiter").subscribe(c("StreamingReactionsTrayEvents").EnableReactions,function(){this.$StreamingReactionsTray11=false;if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this)),c("Visibility").addListener(c("Visibility").HIDDEN,function(){this.$StreamingReactionsTray29()}.bind(this)),c("Arbiter").subscribe("ActorSelector/ActorSelected",function(k,l){if(this.$StreamingReactionsTray6[l.selectedActorID])this.$StreamingReactionsTray5=this.$StreamingReactionsTray6[l.selectedActorID]}.bind(this)),c("Visibility").addListener(c("Visibility").VISIBLE,function(){if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()}.bind(this))]));if(this.$StreamingReactionsTray26())this.$StreamingReactionsTray27()};h.prototype.$StreamingReactionsTray23=function(){"use strict";this.$StreamingReactionsTray10&&c("VODReactionStream").stop(this.$StreamingReactionsTray10);this.$StreamingReactionsTray29();this.$StreamingReactionsTray17.release()};h.prototype.$StreamingReactionsTray34=function(){"use strict";this.$StreamingReactionsTray15=c("FeedbackAddStreamingReactionSubscription").subscribe(this.$StreamingReactionsTray13,this.$StreamingReactionsTray35.bind(this));this.$StreamingReactionsTray9=true};h.prototype.$StreamingReactionsTray36=function(){"use strict";this.$StreamingReactionsTray15&&this.$StreamingReactionsTray15.unsubscribe();this.$StreamingReactionsTray16&&c("HotLiveVideoPayloadManager").unsubscribe(this.$StreamingReactionsTray16);this.$StreamingReactionsTray9=false};h.prototype.$StreamingReactionsTray33=function(i,j){"use strict";__p&&__p();var k=Date.now(),l=k-this.$StreamingReactionsTray20;if(l<this.$StreamingReactionsTray2.reactionSelfFireworkAnimationThreshold)return;this.$StreamingReactionsTray20=k;var m=void 0;switch(i.reaction_type){case c("FeedbackReactionType").NONE:return;case c("FeedbackReactionType").LIKE:m="LIKE";break;case c("FeedbackReactionType").LOVE:m="LOVE";break;case c("FeedbackReactionType").WOW:m="WOW";break;case c("FeedbackReactionType").HAHA:m="HAHA";break;case c("FeedbackReactionType").SORRY:m="SORRY";break;case c("FeedbackReactionType").ANGER:m="ANGER";break;case c("FeedbackReactionType").DOROTHY:m="DOROTHY";break;default:throw new Error("Not a valid reaction type: "+i.reaction_type)}this.$StreamingReactionsTray1.addOwnReaction(m,this.$StreamingReactionsTray5,j)};h.prototype.$StreamingReactionsTray35=function(i){"use strict";if(this.$StreamingReactionsTray8&&this.$StreamingReactionsTray18)this.$StreamingReactionsTray1.processPayload(i)};h.prototype.$StreamingReactionsTray29=function(){"use strict";this.$StreamingReactionsTray8=false;if(this.$StreamingReactionsTray9)this.$StreamingReactionsTray36();this.$StreamingReactionsTray1.stopAnimation()};h.prototype.$StreamingReactionsTray30=function(){"use strict";this.$StreamingReactionsTray8=false;if(this.$StreamingReactionsTray9)this.$StreamingReactionsTray36();this.$StreamingReactionsTray1.pauseAnimation()};h.prototype.$StreamingReactionsTray27=function(){"use strict";if(this.$StreamingReactionsTray8)return;this.$StreamingReactionsTray8=true;if(!this.$StreamingReactionsTray9)this.$StreamingReactionsTray34();if(this.$StreamingReactionsTray19)this.$StreamingReactionsTray1.startAnimation()};h.prototype.$StreamingReactionsTray31=function(){"use strict";this.$StreamingReactionsTray1.clearBuffer()};h.prototype.$StreamingReactionsTray37=function(){"use strict";return!(this.$StreamingReactionsTray3===c("VideoPlayerLoggerSource").CHANNEL||this.$StreamingReactionsTray3===c("VideoPlayerLoggerSource").SNOWLIFT||this.$StreamingReactionsTray3===c("VideoPlayerLoggerSource").PERMALINK||this.$StreamingReactionsTray3===c("VideoPlayerLoggerSource").LIVE_CONTROL_PANEL||this.$StreamingReactionsTray3===c("VideoPlayerLoggerSource").CAMERA_POST||this.$StreamingReactionsTray3===c("VideoPlayerLoggerSource").TAHOE)};h.prototype.$StreamingReactionsTray26=function(){"use strict";return this.$StreamingReactionsTray37()?this.$StreamingReactionsTray38():this.$StreamingReactionsTray39()};h.prototype.$StreamingReactionsTray28=function(){"use strict";return this.$StreamingReactionsTray37()};h.prototype.$StreamingReactionsTray39=function(){"use strict";if(this.$StreamingReactionsTray11)return false;return this.$StreamingReactionsTray10?!this.$StreamingReactionsTray10.isState("finished"):true};h.prototype.$StreamingReactionsTray38=function(){"use strict";if(!this.$StreamingReactionsTray10)return true;var i=this.$StreamingReactionsTray10;return!i.isMuted()&&i.isState("playing")&&this.$StreamingReactionsTray3!==c("VideoPlayerLoggerSource").LIVE_MAP&&!c("PublicLiveMapConstants").isInlinePlayer(this.$StreamingReactionsTray3)};f.exports=h}),null);
__d("PaymentsTypeEnum",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BOF:"BOF",NMOR:"NMOR"})}),null);
__d("VideoEditEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({JS_LOADED:"js_loaded",PAGE_LOAD_STARTED:"page_loaded_started",EDIT_VIDEO_ASSET:"edit_video_asset",PAGE_LOADED:"page_loaded",SAVE_ERROR:"save_error",SAVE_START:"save_start",PREFERRED_THUMBNAIL_CHANGE:"preferred_thumbnail_change",THUMBNAIL_CREATE_STARTED:"thumbnail_create_started",THUMBNAIL_CREATED:"thumbnail_created",CLICK_PROFILE_ADD_CUSTOM_THUMBNAIL:"click_profile_add_custom_thumbnail",UPLOAD_PROFILE_CUSTOM_THUMBNAIL:"upload_profile_custom_thumbnail",CANCEL_UPLOAD_PROFILE_CUSTOM_THUMBNAIL:"cancel_upload_profile_custom_thumbnail",SAVE_PROFILE_CUSTOM_THUMBNAIL:"save_profile_custom_thumbnail",DID_NOT_USE_PROFILE_CUSTOM_THUMBNAIL:"did_not_use_custom_thumbnail",SAVE_SUCCESS:"save_success",CTA_UNEXPECTED:"cta_unexpected",CTA_CHANGE_REQUEST:"cta_change_request",VIDEO_DELETE:"video_delete",CAPTIONS_UPLOADED:"captions_uploaded",CAPTIONS_REMOVED:"captions_removed",CAPTIONS_UPDATED_DEFAULT_LOCALE:"captions_updated_default_locale",NO_EDIT_PERMISSION:"no_edit_permission",CANCEL:"cancel_flow",SAVE_CLICKED:"save_clicked",REQUEST_NEW_STORY:"new_story_requested",RECEIVED_NEW_STORY:"new_story_received",REPLACED_OLD_STORY:"old_story_replaced",ERROR_NO_NEW_STORY:"error_no_new_story",ROTATION_CHANGED:"rotation_changed"})}),null);
__d("VideoEditFlow",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({DIALOG:"dialog",FORM:"form"})}),null);
__d("AutoScheduleUtils",["DateConsts","DateTime","Instant","LocalDate","Timezone","TimezoneNamesData","formatDate"],(function a(b,c,d,e,f,g){__p&&__p();var h="D, M j, Y",i="g:i A";f.exports={tzNamesModule:null,capitalize:function j(k){return k.split(/ /g).map(function(l){return""+l.substring(0,1).toUpperCase()+l.substring(1)}).join(" ")},isFunction:function j(k){return typeof k==="function"},getTimeStrWithFormat:function j(k){var l=arguments.length<=1||arguments[1]===undefined?i:arguments[1];return c("formatDate")(k,l)},getDateStrWithFormat:function j(k){var l=arguments.length<=1||arguments[1]===undefined?h:arguments[1];return c("formatDate")(k,l)},getTimeSlotDateStr:function j(k){return this.getDateStrWithFormat(k.start_time)},getTimeSlotTimeStr:function j(k){var l=this.getTimeStrWithFormat(k.start_time),m=this.getTimeStrWithFormat(k.end_time);return l+" - "+m},getTimeSlotStr:function j(k,l){var m={start_time:k,end_time:l},n=this.getTimeSlotDateStr(m),o=this.getTimeSlotTimeStr(m);return n+" "+o},getTimestampStr:function j(k,l){return this.getTimeSlotStr(k,k+(l||c("DateConsts").SEC_PER_HOUR/2))},isWeekend:function j(k){return k.getDay()===c("DateConsts").DAYS.SATURDAY||k.getDay()===c("DateConsts").DAYS.SUNDAY},deltaWeekDaysFromDeltaBusinessDays:function j(k,l){if(l<=0)return 0;var m=0;for(var n=1;n<l;n+=1){var o=this.dateWithDeltaDays(k,m+1);n-=this.isWeekend(o)?1:0;m+=1}return m},dateWithDelta:function j(k,l){return new Date(k.getTime()+l)},dateWithDeltaDays:function j(k,l){return this.dateWithDelta(k,l*c("DateConsts").MS_PER_DAY)},startOfMonday:function j(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate()-k.getDay()+1)},startOfDay:function j(k){return new Date(k.getFullYear(),k.getMonth(),k.getDate())},endOfDay:function j(k){return this.dateWithDeltaDays(this.startOfDay(k),+1)},endOfFriday:function j(k){return this.dateWithDeltaDays(this.startOfMonday(k),5)},getDateFromLocalDate:function j(k){this.setupTimezoneNamesModule();return k.toDateTime(c("Timezone").getEnvironmentTimezoneID()).toDate()},getTimezoneOffset:function j(k){this.setupTimezoneNamesModule();return c("Instant").getOffset(c("Instant").now(),k||c("Timezone").getEnvironmentTimezoneID())},getTimezoneID:function j(k){this.setupTimezoneNamesModule();return c("Timezone").getByNameOrNull(k)},getFirstAndLastSlotStartTimes:function j(k){var l=k.sort(function(n,o){return n.start_time-o.start_time}),m=l.length>0;return{firstSlotStart:m?l[0].start_time:-1,lastSlotStart:m?l[l.length-1].start_time:-1,numSlots:l.length}},setupTimezoneNamesModule:function j(){if(!this.tzNamesModule)this.tzNamesModule=c("Timezone").registerNamesModule(c("TimezoneNamesData"))},getTimezoneString:function j(){this.setupTimezoneNamesModule();var k=c("Timezone").getEnvironmentTimezoneID();return c("Timezone").getName(k)},convertDateToTimezone:function j(k,l){var m=c("Timezone").getEnvironmentTimezoneID(),n=this.getTimezoneID(l);if(n!==null){var o=c("DateTime").create(k,m).getParallel(n).getUnixTimestamp();return Math.floor(o/c("DateConsts").MS_PER_SEC)}else return k},getAccessibilityEmailFooter:function j(){return"Facebook is committed to providing reasonable accommodations for qualified individuals with disabilities and disabled veterans in our job application procedures. If you need assistance or an accommodation due to a disability, you may contact us at accommodations-ext@fb.com or you may call us at 1+650-308-7837."}}}),null);
__d("SphericalPhotoProjectionUtils",["degToRad","gl-matrix","radToDeg"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("gl-matrix").glMatrix,i=c("gl-matrix").mat4,j=c("gl-matrix").vec3,k={getMaxMinVfov:function l(m,n){var o=c("degToRad")(m.partialRightDegrees||180),p=c("degToRad")(m.partialLeftDegrees||180),q=c("degToRad")(m.partialTopDegrees||90),r=c("degToRad")(m.partialBottomDegrees||90),s=(o+p)/2,t=(q+r)/2,u=2*Math.atan(s/n),v=this.getMinFullVfov(t,t);return{maxVfov:c("radToDeg")(Math.max(u,v)),minVfov:c("radToDeg")(Math.min(v,u/2))}},getMaxVfov:function l(m,n){return this.getMaxMinVfov(m,n).maxVfov},getMinFullVfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getMinFullHfov:function l(m,n){var o=(m+n)/2;return 2*Math.atan(o)},getZoomProgressFromFov:function l(m,n,o){return Math.max(0,Math.min(1,(m-o)/(n-o)))},getZoomProgress:function l(m,n,o){var p=this.getMaxMinVfov(n,o),q=p.maxVfov,r=p.minVfov;return this.getZoomProgressFromFov(m,q,r)},getHfov:function l(m,n){var o=2*Math.atan(Math.tan(m/2)*n);return o},normalizeLimits:function l(m){__p&&__p();var n=m.partialLeftDegrees||0,o=m.partialRightDegrees||0,p=m.partialTopDegrees||0,q=m.partialBottomDegrees||0;if(n<0&&o<0){var r=Math.max(n,o);n-=r;o-=r}if(p<0&&q<0){var s=Math.max(p,q);p-=s;q-=s}return{partialLeftDegrees:n,partialRightDegrees:o,partialTopDegrees:p,partialBottomDegrees:q}},getPartialLimits:function l(m,n,o){var p=this.getMaxMinVfov(o,n),q=p.maxVfov,r=p.minVfov,s=c("degToRad")(m),t=this.getHfov(s,n),u=this.getZoomProgressFromFov(m,q,r),v=Math.tan(t/2),w=Math.tan(s/2),x=Math.sin(v)*u+v*(1-u),y=Math.cos(v)*u+1*(1-u),z=Math.sin(w)*u+w*(1-u),A=Math.cos(w)*u+1*(1-u),B=function B(G,H,I){var J=Math.sin(G),K=Math.cos(G);return m>q?0:c("radToDeg")(Math.atan2(J*I-K*H,J*H+K*I))},C=c("degToRad")(o.partialLeftDegrees||180),D=c("degToRad")(o.partialRightDegrees||180),E=c("degToRad")(o.partialTopDegrees||90),F=c("degToRad")(o.partialBottomDegrees||90);return this.normalizeLimits({partialLeftDegrees:B(C,x,y),partialRightDegrees:B(D,x,y),partialTopDegrees:B(E,z,A),partialBottomDegrees:B(F,z,A)})},projectVertex:function l(m,n,o,p){var q=m[0],r=m[1],s=o?Math.sin(q):Math.sin(q)*Math.cos(r),t=o?r:Math.sin(r),u=o?Math.cos(q):Math.cos(q)*Math.cos(r);s=p*s+(1-p)*q;t=p*t+(1-p)*r;u=p*u+(1-p)*1;var v=j.fromValues(s,t,u);j.transformMat4(v,v,n);return v},getSphericalFromVertex:function l(m){var n=m[0],o=m[1],p=m[2],q=Math.atan2(n,p),r=Math.atan2(o,Math.sqrt(n*n+p*p));return{yaw:q,pitch:r}},getRelativeHfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialLeftDegrees||180,r=o.partialRightDegrees||180,s=p.partialLeftDegrees||0,t=p.partialRightDegrees||0;return c("degToRad")(r-t+q-s)},getRelativeVfov:function l(m,n,o){var p=this.getPartialLimits(m,n,o),q=o.partialTopDegrees||90,r=o.partialBottomDegrees||90,s=p.partialTopDegrees||0,t=p.partialBottomDegrees||0;return c("degToRad")(q-s+r-t)},convert2dTo3d:function l(m,n,o,p,q,r){var s=p/q,t=p/2,u=q/2,v=(m-t)*(2/p),w=(n-u)*(2/q),x=c("degToRad")(o.fov),y=this.getHfov(x,s),z=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),A=Math.tan(x/2),B=Math.tan(y/2),C=Math.tan(Math.min(y,z)/2),D=v*B,E=-w*A;if(D>C||D<-C)return null;var F=this.getZoomProgress(o.fov,r,s),G=i.create();i.rotateY(G,G,c("degToRad")(o.yaw));i.rotateX(G,G,-c("degToRad")(o.pitch));var H=this.projectVertex(j.fromValues(D,E,-1),G,false,F),I=this.getSphericalFromVertex(H),J=c("radToDeg")(I.yaw);return{yaw:J<0?360+J:J,pitch:c("radToDeg")(I.pitch)}},convert3dTo2d:function l(m,n,o,p,q,r){var s=c("degToRad")(m),t=c("degToRad")(n),u=c("degToRad")(o.fov),v=p/q,w=this.getHfov(u,v),x=this.getMinFullHfov(c("degToRad")(r.partialLeftDegrees||180),c("degToRad")(r.partialRightDegrees||180)),y=Math.tan(w/2),z=Math.tan(Math.min(w,x)/2),A=z/y,B=this.getMinFullVfov(c("degToRad")(r.partialTopDegrees||90),c("degToRad")(r.partialBottomDegrees||90)),C=Math.tan(u/2),D=Math.tan(Math.min(u,B)/2),E=D/C,F=this.getRelativeHfov(o.fov,v,r),G=this.getRelativeVfov(o.fov,v,r),H=i.create();i.rotateY(H,H,c("degToRad")(o.yaw));i.rotateX(H,H,-c("degToRad")(o.pitch));i.invert(H,H);var I=s+Math.PI,J=t+Math.PI/2,K=-Math.sin(J)*Math.sin(I),L=-Math.cos(J),M=-Math.sin(J)*Math.cos(I),N=j.fromValues(K,L,M);j.transformMat4(N,N,H);var O=Math.atan2(N[0],N[2]),P=Math.atan2(N[1],Math.sqrt(N[0]*N[0]+N[2]*N[2])),Q=.5+O*A/F,R=.5-P*E/G;return{x:Q*p,y:R*q}}};f.exports=k}),null);
__d("easeInOutInterpolate",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";var i=function i(j){j>=0&&j<=1||h(0);return Math.cos((j+1)*Math.PI)/2+.5};f.exports=i}),null);
__d("XPagesCoverPhotoUploadAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/profile/cover_photo_upload/",{page_id:{type:"FBID",required:true},ref:{type:"String"},index:{type:"Int"}})}),null);
__d("XStripeOnboardingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/payment/stripeconnect/onboarding/",{page_id:{type:"Int",required:true},payment_type:{type:"Enum",required:true,enumType:1},business_onboarding_flow:{type:"Bool",defaultValue:false}})}),null);